!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(j,e){"use strict";function m(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item}function b(e){return null!=e&&e===e.window}var t=[],n=Object.getPrototypeOf,a=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},l=t.push,o=t.indexOf,r={},i=r.toString,v=r.hasOwnProperty,s=v.toString,u=s.call(Object),y={},C=j.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var r,o,i=(n=n||C).createElement("script");if(i.text=e,t)for(r in c)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function f(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?r[i.call(e)]||"object":typeof e}var d="3.6.0",E=function(e,t){return new E.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=f(e);return!m(e)&&!b(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}E.fn=E.prototype={jquery:d,constructor:E,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=E.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return E.each(this,e)},map:function(n){return this.pushStack(E.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:t.sort,splice:t.splice},E.extend=E.fn.extend=function(){var e,t,n,r,o,i=arguments[0]||{},s=1,a=arguments.length,l=!1;for("boolean"==typeof i&&(l=i,i=arguments[s]||{},s++),"object"==typeof i||m(i)||(i={}),s===a&&(i=this,s--);s<a;s++)if(null!=(e=arguments[s]))for(t in e)n=e[t],"__proto__"!==t&&i!==n&&(l&&n&&(E.isPlainObject(n)||(r=Array.isArray(n)))?(o=i[t],o=r&&!Array.isArray(o)?[]:r||E.isPlainObject(o)?o:{},r=!1,i[t]=E.extend(l,o,n)):void 0!==n&&(i[t]=n));return i},E.extend({expando:"jQuery"+(d+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==i.call(e)||(e=n(e))&&("function"!=typeof(e=v.call(e,"constructor")&&e.constructor)||s.call(e)!==u))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,n){w(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){t=t||[];return null!=e&&(p(Object(e))?E.merge(t,"string"==typeof e?[e]:e):l.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:o.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,s=!n;o<i;o++)!t(e[o],o)!=s&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,s=[];if(p(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&s.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&s.push(o);return g(s)},guid:1,support:y}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=t[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){r["[object "+t+"]"]=t.toLowerCase()});var h=function(n){function d(e,t){return e="0x"+e.slice(1)-65536,t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))}function p(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function r(){j()}var e,h,w,i,o,f,m,b,x,l,u,j,C,s,E,g,a,c,v,_="sizzle"+ +new Date,y=n.document,R=0,k=0,S=le(),T=le(),A=le(),P=le(),M=function(e,t){return e===t&&(u=!0),0},D={}.hasOwnProperty,t=[],L=t.pop,O=t.push,I=t.push,N=t.slice,F=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},H="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",z="[\\x20\\t\\r\\n\\f]",W="(?:\\\\[\\da-fA-F]{1,6}"+z+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",B="\\["+z+"*("+W+")(?:"+z+"*([*^$|!~]?=)"+z+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+W+"))|)"+z+"*\\]",q=":("+W+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",V=new RegExp(z+"+","g"),U=new RegExp("^"+z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+z+"+$","g"),G=new RegExp("^"+z+"*,"+z+"*"),K=new RegExp("^"+z+"*([>+~]|"+z+")"+z+"*"),J=new RegExp(z+"|>"),$=new RegExp(q),X=new RegExp("^"+W+"$"),Y={ID:new RegExp("^#("+W+")"),CLASS:new RegExp("^\\.("+W+")"),TAG:new RegExp("^("+W+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+z+"*(even|odd|(([+-]|)(\\d*)n|)"+z+"*(?:([+-]|)"+z+"*(\\d+)|))"+z+"*\\)|)","i"),bool:new RegExp("^(?:"+H+")$","i"),needsContext:new RegExp("^"+z+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+z+"*((?:-\\d)?\\d*)"+z+"*\\)|)(?=[^-]|$)","i")},Q=/HTML$/i,Z=/^(?:input|select|textarea|button)$/i,ee=/^h\d$/i,te=/^[^{]+\{\s*\[native \w/,ne=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,re=/[+~]/,oe=new RegExp("\\\\[\\da-fA-F]{1,6}"+z+"?|\\\\([^\\r\\n\\f])","g"),ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,se=ve(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{I.apply(t=N.call(y.childNodes),y.childNodes),t[y.childNodes.length].nodeType}catch(e){I={apply:t.length?function(e,t){O.apply(e,N.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ae(e,t,n,r){var o,i,s,a,l,u,c=t&&t.ownerDocument,d=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==d&&9!==d&&11!==d)return n;if(!r&&(j(t),t=t||C,E)){if(11!==d&&(a=ne.exec(e)))if(u=a[1]){if(9===d){if(!(i=t.getElementById(u)))return n;if(i.id===u)return n.push(i),n}else if(c&&(i=c.getElementById(u))&&v(t,i)&&i.id===u)return n.push(i),n}else{if(a[2])return I.apply(n,t.getElementsByTagName(e)),n;if((u=a[3])&&h.getElementsByClassName&&t.getElementsByClassName)return I.apply(n,t.getElementsByClassName(u)),n}if(h.qsa&&!P[e+" "]&&(!g||!g.test(e))&&(1!==d||"object"!==t.nodeName.toLowerCase())){if(u=e,c=t,1===d&&(J.test(e)||K.test(e))){for((c=re.test(e)&&me(t.parentNode)||t)===t&&h.scope||((s=t.getAttribute("id"))?s=s.replace(ie,p):t.setAttribute("id",s=_)),o=(l=f(e)).length;o--;)l[o]=(s?"#"+s:":scope")+" "+ge(l[o]);u=l.join(",")}try{return I.apply(n,c.querySelectorAll(u)),n}catch(t){P(e,!0)}finally{s===_&&t.removeAttribute("id")}}}return b(e.replace(U,"$1"),t,n,r)}function le(){var r=[];return function e(t,n){return r.push(t+" ")>w.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function ue(e){return e[_]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function de(e,t){for(var n=e.split("|"),r=n.length;r--;)w.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&se(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function fe(s){return ue(function(i){return i=+i,ue(function(e,t){for(var n,r=s([],e.length,i),o=r.length;o--;)e[n=r[o]]&&(e[n]=!(t[n]=e[n]))})})}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in h=ae.support={},o=ae.isXML=function(e){var t=e&&e.namespaceURI,e=e&&(e.ownerDocument||e).documentElement;return!Q.test(t||e&&e.nodeName||"HTML")},j=ae.setDocument=function(e){var t,e=e?e.ownerDocument||e:y;return e!=C&&9===e.nodeType&&e.documentElement&&(s=(C=e).documentElement,E=!o(C),y!=C&&(t=C.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",r,!1):t.attachEvent&&t.attachEvent("onunload",r)),h.scope=ce(function(e){return s.appendChild(e).appendChild(C.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),h.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),h.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),h.getElementsByClassName=te.test(C.getElementsByClassName),h.getById=ce(function(e){return s.appendChild(e).id=_,!C.getElementsByName||!C.getElementsByName(_).length}),h.getById?(w.filter.ID=function(e){var t=e.replace(oe,d);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&E){e=t.getElementById(e);return e?[e]:[]}}):(w.filter.ID=function(e){var t=e.replace(oe,d);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&E){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),w.find.TAG=h.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):h.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"!==e)return i;for(;n=i[o++];)1===n.nodeType&&r.push(n);return r},w.find.CLASS=h.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&E)return t.getElementsByClassName(e)},a=[],g=[],(h.qsa=te.test(C.querySelectorAll))&&(ce(function(e){var t;s.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+z+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+z+"*(?:value|"+H+")"),e.querySelectorAll("[id~="+_+"-]").length||g.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\["+z+"*name"+z+"*="+z+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+z+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),s.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(h.matchesSelector=te.test(c=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&ce(function(e){h.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),a.push("!=",q)}),g=g.length&&new RegExp(g.join("|")),a=a.length&&new RegExp(a.join("|")),t=te.test(s.compareDocumentPosition),v=t||te.test(s.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},M=t?function(e,t){return e===t?(u=!0,0):(n=!e.compareDocumentPosition-!t.compareDocumentPosition)||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!h.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==y&&v(y,e)?-1:t==C||t.ownerDocument==y&&v(y,t)?1:l?F(l,e)-F(l,t):0:4&n?-1:1);var n}:function(e,t){if(e===t)return u=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,s=[e],a=[t];if(!o||!i)return e==C?-1:t==C?1:o?-1:i?1:l?F(l,e)-F(l,t):0;if(o===i)return pe(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?pe(s[r],a[r]):s[r]==y?-1:a[r]==y?1:0}),C},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(j(e),h.matchesSelector&&E&&!P[t+" "]&&(!a||!a.test(t))&&(!g||!g.test(t)))try{var n=c.call(e,t);if(n||h.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){P(t,!0)}return 0<ae(t,C,null,[e]).length},ae.contains=function(e,t){return(e.ownerDocument||e)!=C&&j(e),v(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=C&&j(e);var n=w.attrHandle[t.toLowerCase()],n=n&&D.call(w.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==n?n:h.attributes||!E?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},ae.escape=function(e){return(e+"").replace(ie,p)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,n=[],r=0,o=0;if(u=!h.detectDuplicates,l=!h.sortStable&&e.slice(0),e.sort(M),u){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return l=null,e},i=ae.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(w=ae.selectors={cacheLength:50,createPseudo:ue,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(oe,d),e[3]=(e[3]||e[4]||e[5]||"").replace(oe,d),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=f(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(oe,d).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+z+")"+e+"("+z+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(e){e=ae.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===r:"!="===n?e!==r:"^="===n?r&&0===e.indexOf(r):"*="===n?r&&-1<e.indexOf(r):"$="===n?r&&e.slice(-r.length)===r:"~="===n?-1<(" "+e.replace(V," ")+" ").indexOf(r):"|="===n&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(f,e,t,m,b){var g="nth"!==f.slice(0,3),v="last"!==f.slice(-4),y="of-type"===e;return 1===m&&0===b?function(e){return!!e.parentNode}:function(e,t,n){var r,o,i,s,a,l,u=g!=v?"nextSibling":"previousSibling",c=e.parentNode,d=y&&e.nodeName.toLowerCase(),p=!n&&!y,h=!1;if(c){if(g){for(;u;){for(s=e;s=s[u];)if(y?s.nodeName.toLowerCase()===d:1===s.nodeType)return!1;l=u="only"===f&&!l&&"nextSibling"}return!0}if(l=[v?c.firstChild:c.lastChild],v&&p){for(h=(a=(r=(o=(i=(s=c)[_]||(s[_]={}))[s.uniqueID]||(i[s.uniqueID]={}))[f]||[])[0]===R&&r[1])&&r[2],s=a&&c.childNodes[a];s=++a&&s&&s[u]||(h=a=0)||l.pop();)if(1===s.nodeType&&++h&&s===e){o[f]=[R,a,h];break}}else if(!1===(h=p?a=(r=(o=(i=(s=e)[_]||(s[_]={}))[s.uniqueID]||(i[s.uniqueID]={}))[f]||[])[0]===R&&r[1]:h))for(;(s=++a&&s&&s[u]||(h=a=0)||l.pop())&&((y?s.nodeName.toLowerCase()!==d:1!==s.nodeType)||!++h||(p&&((o=(i=s[_]||(s[_]={}))[s.uniqueID]||(i[s.uniqueID]={}))[f]=[R,h]),s!==e)););return(h-=b)===m||h%m==0&&0<=h/m}}},PSEUDO:function(e,i){var t,s=w.pseudos[e]||w.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return s[_]?s(i):1<s.length?(t=[e,e,"",i],w.setFilters.hasOwnProperty(e.toLowerCase())?ue(function(e,t){for(var n,r=s(e,i),o=r.length;o--;)e[n=F(e,r[o])]=!(t[n]=r[o])}):function(e){return s(e,0,t)}):s}},pseudos:{not:ue(function(e){var r=[],o=[],a=m(e.replace(U,"$1"));return a[_]?ue(function(e,t,n,r){for(var o,i=a(e,null,r,[]),s=e.length;s--;)(o=i[s])&&(e[s]=!(t[s]=o))}):function(e,t,n){return r[0]=e,a(r,null,n,o),r[0]=null,!o.pop()}}),has:ue(function(t){return function(e){return 0<ae(t,e).length}}),contains:ue(function(t){return t=t.replace(oe,d),function(e){return-1<(e.textContent||i(e)).indexOf(t)}}),lang:ue(function(n){return X.test(n||"")||ae.error("unsupported lang: "+n),n=n.replace(oe,d).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===s},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:he(!1),disabled:he(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return ee.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,n){return[n<0?n+t:n]}),even:fe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:fe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:fe(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:fe(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function be(){}function ge(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ve(s,e,t){var a=e.dir,l=e.next,u=l||a,c=t&&"parentNode"===u,d=k++;return e.first?function(e,t,n){for(;e=e[a];)if(1===e.nodeType||c)return s(e,t,n);return!1}:function(e,t,n){var r,o,i=[R,d];if(n){for(;e=e[a];)if((1===e.nodeType||c)&&s(e,t,n))return!0}else for(;e=e[a];)if(1===e.nodeType||c)if(r=(o=e[_]||(e[_]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[a]||e;else{if((o=r[u])&&o[0]===R&&o[1]===d)return i[2]=o[2];if((r[u]=i)[2]=s(e,t,n))return!0}return!1}}function ye(o){return 1<o.length?function(e,t,n){for(var r=o.length;r--;)if(!o[r](e,t,n))return!1;return!0}:o[0]}function we(e,t,n,r,o){for(var i,s=[],a=0,l=e.length,u=null!=t;a<l;a++)(i=e[a])&&(n&&!n(i,r,o)||(s.push(i),u&&t.push(a)));return s}function xe(e){for(var r,t,n,o=e.length,i=w.relative[e[0].type],s=i||w.relative[" "],a=i?1:0,l=ve(function(e){return e===r},s,!0),u=ve(function(e){return-1<F(r,e)},s,!0),c=[function(e,t,n){n=!i&&(n||t!==x)||((r=t).nodeType?l:u)(e,t,n);return r=null,n}];a<o;a++)if(t=w.relative[e[a].type])c=[ve(ye(c),t)];else{if((t=w.filter[e[a].type].apply(null,e[a].matches))[_]){for(n=++a;n<o&&!w.relative[e[n].type];n++);return function e(h,f,m,b,g,t){return b&&!b[_]&&(b=e(b)),g&&!g[_]&&(g=e(g,t)),ue(function(e,t,n,r){var o,i,s,a=[],l=[],u=t.length,c=e||function(e,t,n){for(var r=0,o=t.length;r<o;r++)ae(e,t[r],n);return n}(f||"*",n.nodeType?[n]:n,[]),d=!h||!e&&f?c:we(c,a,h,n,r),p=m?g||(e?h:u||b)?[]:t:d;if(m&&m(d,p,n,r),b)for(o=we(p,l),b(o,[],n,r),i=o.length;i--;)(s=o[i])&&(p[l[i]]=!(d[l[i]]=s));if(e){if(g||h){if(g){for(o=[],i=p.length;i--;)(s=p[i])&&o.push(d[i]=s);g(null,p=[],o,r)}for(i=p.length;i--;)(s=p[i])&&-1<(o=g?F(e,s):a[i])&&(e[o]=!(t[o]=s))}}else p=we(p===t?p.splice(u,p.length):p),g?g(null,t,p,r):I.apply(t,p)})}(1<a&&ye(c),1<a&&ge(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(U,"$1"),t,a<n&&xe(e.slice(a,n)),n<o&&xe(e=e.slice(n)),n<o&&ge(e))}c.push(t)}return ye(c)}return be.prototype=w.filters=w.pseudos,w.setFilters=new be,f=ae.tokenize=function(e,t){var n,r,o,i,s,a,l,u=T[e+" "];if(u)return t?0:u.slice(0);for(s=e,a=[],l=w.preFilter;s;){for(i in n&&!(r=G.exec(s))||(r&&(s=s.slice(r[0].length)||s),a.push(o=[])),n=!1,(r=K.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(U," ")}),s=s.slice(n.length)),w.filter)!(r=Y[i].exec(s))||l[i]&&!(r=l[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ae.error(e):T(e,a).slice(0)},m=ae.compile=function(e,t){var n,b,g,v,y,r,o=[],i=[],s=A[e+" "];if(!s){for(n=(t=t||f(e)).length;n--;)((s=xe(t[n]))[_]?o:i).push(s);(s=A(e,(v=0<(g=o).length,y=0<(b=i).length,r=function(e,t,n,r,o){var i,s,a,l=0,u="0",c=e&&[],d=[],p=x,h=e||y&&w.find.TAG("*",o),f=R+=null==p?1:Math.random()||.1,m=h.length;for(o&&(x=t==C||t||o);u!==m&&null!=(i=h[u]);u++){if(y&&i){for(s=0,t||i.ownerDocument==C||(j(i),n=!E);a=b[s++];)if(a(i,t||C,n)){r.push(i);break}o&&(R=f)}v&&((i=!a&&i)&&l--,e&&c.push(i))}if(l+=u,v&&u!==l){for(s=0;a=g[s++];)a(c,d,t,n);if(e){if(0<l)for(;u--;)c[u]||d[u]||(d[u]=L.call(r));d=we(d)}I.apply(r,d),o&&!e&&0<d.length&&1<l+g.length&&ae.uniqueSort(r)}return o&&(R=f,x=p),c},v?ue(r):r))).selector=e}return s},b=ae.select=function(e,t,n,r){var o,i,s,a,l,u="function"==typeof e&&e,c=!r&&f(e=u.selector||e);if(n=n||[],1===c.length){if(2<(i=c[0]=c[0].slice(0)).length&&"ID"===(s=i[0]).type&&9===t.nodeType&&E&&w.relative[i[1].type]){if(!(t=(w.find.ID(s.matches[0].replace(oe,d),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=Y.needsContext.test(e)?0:i.length;o--&&(s=i[o],!w.relative[a=s.type]);)if((l=w.find[a])&&(r=l(s.matches[0].replace(oe,d),re.test(i[0].type)&&me(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&ge(i)))return I.apply(n,r),n;break}}return(u||m(e,c))(r,t,!E,n,!t||re.test(e)&&me(t.parentNode)||t),n},h.sortStable=_.split("").sort(M).join("")===_,h.detectDuplicates=!!u,j(),h.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),h.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||de(H,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(t=e.getAttributeNode(t))&&t.specified?t.value:null}),ae}(j);E.find=h,E.expr=h.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=h.uniqueSort,E.text=h.getText,E.isXMLDoc=h.isXML,E.contains=h.contains,E.escapeSelector=h.escape;function x(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&E(e).is(n))break;r.push(e)}return r}function _(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var R=E.expr.match.needsContext;function k(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var S=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function T(e,n,r){return m(n)?E.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?E.grep(e,function(e){return e===n!==r}):"string"!=typeof n?E.grep(e,function(e){return-1<o.call(n,e)!==r}):E.filter(n,e,r)}E.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?E.find.matchesSelector(r,e)?[r]:[]:E.find.matches(e,E.grep(t,function(e){return 1===e.nodeType}))},E.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(E(e).filter(function(){for(t=0;t<r;t++)if(E.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)E.find(e,o[t],n);return 1<r?E.uniqueSort(n):n},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,"string"==typeof e&&R.test(e)?E(e):e||[],!1).length}});var A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(e,t,n){if(!e)return this;if(n=n||P,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(E):E.makeArray(e,this);if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:A.exec(e))||!r[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(r[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:C,!0)),S.test(r[1])&&E.isPlainObject(t))for(var r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(e=C.getElementById(r[2]))&&(this[0]=e,this.length=1),this}).prototype=E.fn;var P=E(C),M=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function L(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,o=this.length,i=[],s="string"!=typeof e&&E(e);if(!R.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&E.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(1<i.length?E.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?o.call(E(e),this[0]):o.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return x(e,"parentNode")},parentsUntil:function(e,t,n){return x(e,"parentNode",n)},next:function(e){return L(e,"nextSibling")},prev:function(e){return L(e,"previousSibling")},nextAll:function(e){return x(e,"nextSibling")},prevAll:function(e){return x(e,"previousSibling")},nextUntil:function(e,t,n){return x(e,"nextSibling",n)},prevUntil:function(e,t,n){return x(e,"previousSibling",n)},siblings:function(e){return _((e.parentNode||{}).firstChild,e)},children:function(e){return _(e.firstChild)},contents:function(e){return null!=e.contentDocument&&n(e.contentDocument)?e.contentDocument:(k(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},function(r,o){E.fn[r]=function(e,t){var n=E.map(this,o,e);return(t="Until"!==r.slice(-5)?e:t)&&"string"==typeof t&&(n=E.filter(t,n)),1<this.length&&(D[r]||E.uniqueSort(n),M.test(r)&&n.reverse()),this.pushStack(n)}});var O=/[^\x20\t\r\n\f]+/g;function I(e){return e}function N(e){throw e}function F(e,t,n,r){var o;try{e&&m(o=e.promise)?o.call(e).done(t).fail(n):e&&m(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}E.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},E.each(e.match(O)||[],function(e,t){n[t]=!0}),n):E.extend({},r);function o(){for(a=a||r.once,s=i=!0;u.length;c=-1)for(t=u.shift();++c<l.length;)!1===l[c].apply(t[0],t[1])&&r.stopOnFalse&&(c=l.length,t=!1);r.memory||(t=!1),i=!1,a&&(l=t?[]:"")}var i,t,s,a,l=[],u=[],c=-1,d={add:function(){return l&&(t&&!i&&(c=l.length-1,u.push(t)),function n(e){E.each(e,function(e,t){m(t)?r.unique&&d.has(t)||l.push(t):t&&t.length&&"string"!==f(t)&&n(t)})}(arguments),t&&!i&&o()),this},remove:function(){return E.each(arguments,function(e,t){for(var n;-1<(n=E.inArray(t,l,n));)l.splice(n,1),n<=c&&c--}),this},has:function(e){return e?-1<E.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return a=u=[],l=t="",this},disabled:function(){return!l},lock:function(){return a=u=[],t||i||(l=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||o()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!s}};return d},E.extend({Deferred:function(e){var i=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],o="pending",s={state:function(){return o},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return s.then(null,e)},pipe:function(){var o=arguments;return E.Deferred(function(r){E.each(i,function(e,t){var n=m(o[t[4]])&&o[t[4]];a[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),o=null}).promise()},then:function(t,n,r){var l=0;function u(o,i,s,a){return function(){function e(){var e,t;if(!(o<l)){if((e=s.apply(n,r))===i.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?a?t.call(e,u(l,i,I,a),u(l,i,N,a)):(l++,t.call(e,u(l,i,I,a),u(l,i,N,a),u(l,i,I,i.notifyWith))):(s!==I&&(n=void 0,r=[e]),(a||i.resolveWith)(n,r))}}var n=this,r=arguments,t=a?e:function(){try{e()}catch(e){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(e,t.stackTrace),l<=o+1&&(s!==N&&(n=void 0,r=[e]),i.rejectWith(n,r))}};o?t():(E.Deferred.getStackHook&&(t.stackTrace=E.Deferred.getStackHook()),j.setTimeout(t))}}return E.Deferred(function(e){i[0][3].add(u(0,e,m(r)?r:I,e.notifyWith)),i[1][3].add(u(0,e,m(t)?t:I)),i[2][3].add(u(0,e,m(n)?n:N))}).promise()},promise:function(e){return null!=e?E.extend(e,s):s}},a={};return E.each(i,function(e,t){var n=t[2],r=t[5];s[t[1]]=n.add,r&&n.add(function(){o=r},i[3-e][2].disable,i[3-e][3].disable,i[0][2].lock,i[0][3].lock),n.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=n.fireWith}),s.promise(a),e&&e.call(a,a),a},when:function(e){function t(t){return function(e){o[t]=this,i[t]=1<arguments.length?a.call(arguments):e,--n||s.resolveWith(o,i)}}var n=arguments.length,r=n,o=Array(r),i=a.call(arguments),s=E.Deferred();if(n<=1&&(F(e,s.done(t(r)).resolve,s.reject,!n),"pending"===s.state()||m(i[r]&&i[r].then)))return s.then();for(;r--;)F(i[r],t(r),s.reject);return s.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(e,t){j.console&&j.console.warn&&e&&H.test(e.name)&&j.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},E.readyException=function(e){j.setTimeout(function(){throw e})};var z=E.Deferred();function W(){C.removeEventListener("DOMContentLoaded",W),j.removeEventListener("load",W),E.ready()}E.fn.ready=function(e){return z.then(e).catch(function(e){E.readyException(e)}),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0)!==e&&0<--E.readyWait||z.resolveWith(C,[E])}}),E.ready.then=z.then,"complete"===C.readyState||"loading"!==C.readyState&&!C.documentElement.doScroll?j.setTimeout(E.ready):(C.addEventListener("DOMContentLoaded",W),j.addEventListener("load",W));function B(e,t,n,r,o,i,s){var a=0,l=e.length,u=null==n;if("object"===f(n))for(a in o=!0,n)B(e,t,a,n[a],!0,i,s);else if(void 0!==r&&(o=!0,m(r)||(s=!0),t=u?s?(t.call(e,r),null):(u=t,function(e,t,n){return u.call(E(e),n)}):t))for(;a<l;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return o?e:u?t.call(e):l?t(e[0],n):i}var q=/^-ms-/,V=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function G(e){return e.replace(q,"ms-").replace(V,U)}function K(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function J(){this.expando=E.expando+J.uid++}J.uid=1,J.prototype={cache:function(e){var t=e[this.expando];return t||(t={},K(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[G(t)]=n;else for(r in t)o[G(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(G):(t=G(t))in r?[t]:t.match(O)||[]).length;for(;n--;)delete r[t[n]]}void 0!==t&&!E.isEmptyObject(r)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!E.isEmptyObject(e)}};var $=new J,X=new J,Y=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function Z(e,t,n){var r,o;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Q,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(o=n)||"false"!==o&&("null"===o?null:o===+o+""?+o:Y.test(o)?JSON.parse(o):o)}catch(e){}X.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return X.hasData(e)||$.hasData(e)},data:function(e,t,n){return X.access(e,t,n)},removeData:function(e,t){X.remove(e,t)},_data:function(e,t,n){return $.access(e,t,n)},_removeData:function(e,t){$.remove(e,t)}}),E.fn.extend({data:function(n,e){var t,r,o,i=this[0],s=i&&i.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){X.set(this,n)}):B(this,function(e){var t;return i&&void 0===e?void 0!==(t=X.get(i,n))||void 0!==(t=Z(i,n))?t:void 0:void this.each(function(){X.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(o=X.get(i),1===i.nodeType&&!$.get(i,"hasDataAttrs"))){for(t=s.length;t--;)s[t]&&0===(r=s[t].name).indexOf("data-")&&(r=G(r.slice(5)),Z(i,r,o[r]));$.set(i,"hasDataAttrs",!0)}return o},removeData:function(e){return this.each(function(){X.remove(this,e)})}}),E.extend({queue:function(e,t,n){var r;if(e)return r=$.get(e,t=(t||"fx")+"queue"),n&&(!r||Array.isArray(n)?r=$.access(e,t,E.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),r=n.length,o=n.shift(),i=E._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,function(){E.dequeue(e,t)},i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return $.get(e,n)||$.access(e,n,{empty:E.Callbacks("once memory").add(function(){$.remove(e,[t+"queue",n])})})}}),E.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?E.queue(this[0],t):void 0===n?this:this.each(function(){var e=E.queue(this,t,n);E._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&E.dequeue(this,t)})},dequeue:function(e){return this.each(function(){E.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--o||i.resolveWith(s,[s])}var r,o=1,i=E.Deferred(),s=this,a=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(r=$.get(s[a],e+"queueHooks"))&&r.empty&&(o++,r.empty.add(n));return n(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=C.documentElement,oe=function(e){return E.contains(e.ownerDocument,e)},ie={composed:!0};re.getRootNode&&(oe=function(e){return E.contains(e.ownerDocument,e)||e.getRootNode(ie)===e.ownerDocument});function se(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&oe(e)&&"none"===E.css(e,"display")}function ae(e,t,n,r){var o,i,s=20,a=r?function(){return r.cur()}:function(){return E.css(e,t,"")},l=a(),u=n&&n[3]||(E.cssNumber[t]?"":"px"),c=e.nodeType&&(E.cssNumber[t]||"px"!==u&&+l)&&te.exec(E.css(e,t));if(c&&c[3]!==u){for(u=u||c[3],c=+(l/=2)||1;s--;)E.style(e,t,c+u),(1-i)*(1-(i=a()/l||.5))<=0&&(s=0),c/=i;E.style(e,t,(c*=2)+u),n=n||[]}return n&&(c=+c||+l||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=o)),o}var le={};function ue(e,t){for(var n,r,o,i,s,a,l=[],u=0,c=e.length;u<c;u++)(r=e[u]).style&&(n=r.style.display,t?("none"===n&&(l[u]=$.get(r,"display")||null,l[u]||(r.style.display="")),""===r.style.display&&se(r)&&(l[u]=(a=i=o=void 0,i=r.ownerDocument,s=r.nodeName,(a=le[s])||(o=i.body.appendChild(i.createElement(s)),a=E.css(o,"display"),o.parentNode.removeChild(o),le[s]=a="none"===a?"block":a)))):"none"!==n&&(l[u]="none",$.set(r,"display",n)));for(u=0;u<c;u++)null!=l[u]&&(e[u].style.display=l[u]);return e}E.fn.extend({show:function(){return ue(this,!0)},hide:function(){return ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){se(this)?E(this).show():E(this).hide()})}});var ce=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pe=/^$|^module$|\/(?:java|ecma)script/i,d=C.createDocumentFragment().appendChild(C.createElement("div"));(h=C.createElement("input")).setAttribute("type","radio"),h.setAttribute("checked","checked"),h.setAttribute("name","t"),d.appendChild(h),y.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked,d.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!d.cloneNode(!0).lastChild.defaultValue,d.innerHTML="<option></option>",y.option=!!d.lastChild;var he={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function fe(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&k(e,t)?E.merge([e],n):n}function me(e,t){for(var n=0,r=e.length;n<r;n++)$.set(e[n],"globalEval",!t||$.get(t[n],"globalEval"))}he.tbody=he.tfoot=he.colgroup=he.caption=he.thead,he.th=he.td,y.option||(he.optgroup=he.option=[1,"<select multiple='multiple'>","</select>"]);var be=/<|&#?\w+;/;function ge(e,t,n,r,o){for(var i,s,a,l,u,c=t.createDocumentFragment(),d=[],p=0,h=e.length;p<h;p++)if((i=e[p])||0===i)if("object"===f(i))E.merge(d,i.nodeType?[i]:i);else if(be.test(i)){for(s=s||c.appendChild(t.createElement("div")),a=(de.exec(i)||["",""])[1].toLowerCase(),a=he[a]||he._default,s.innerHTML=a[1]+E.htmlPrefilter(i)+a[2],u=a[0];u--;)s=s.lastChild;E.merge(d,s.childNodes),(s=c.firstChild).textContent=""}else d.push(t.createTextNode(i));for(c.textContent="",p=0;i=d[p++];)if(r&&-1<E.inArray(i,r))o&&o.push(i);else if(l=oe(i),s=fe(c.appendChild(i),"script"),l&&me(s),n)for(u=0;i=s[u++];)pe.test(i.type||"")&&n.push(i);return c}var ve=/^([^.]*)(?:\.(.+)|)/;function ye(){return!0}function we(){return!1}function xe(e,t){return e===function(){try{return C.activeElement}catch(e){}}()==("focus"===t)}function je(e,t,n,r,o,i){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(r=r||n,n=void 0),t)je(e,a,n,r,t[a],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=we;else if(!o)return e;return 1===i&&(s=o,(o=function(e){return E().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=E.guid++)),e.each(function(){E.event.add(this,t,o,r,n)})}function Ce(e,o,i){i?($.set(e,o,!1),E.event.add(e,o,{namespace:!1,handler:function(e){var t,n,r=$.get(this,o);if(1&e.isTrigger&&this[o]){if(r.length)(E.event.special[o]||{}).delegateType&&e.stopPropagation();else if(r=a.call(arguments),$.set(this,o,r),t=i(this,o),this[o](),r!==(n=$.get(this,o))||t?$.set(this,o,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&($.set(this,o,{value:E.event.trigger(E.extend(r[0],E.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===$.get(e,o)&&E.event.add(e,o,ye)}E.event={global:{},add:function(t,e,n,r,o){var i,s,a,l,u,c,d,p,h,f=$.get(t);if(K(t))for(n.handler&&(n=(i=n).handler,o=i.selector),o&&E.find.matchesSelector(re,o),n.guid||(n.guid=E.guid++),(a=f.events)||(a=f.events=Object.create(null)),(s=f.handle)||(s=f.handle=function(e){return void 0!==E&&E.event.triggered!==e.type?E.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(O)||[""]).length;l--;)d=h=(u=ve.exec(e[l])||[])[1],p=(u[2]||"").split(".").sort(),d&&(c=E.event.special[d]||{},d=(o?c.delegateType:c.bindType)||d,c=E.event.special[d]||{},u=E.extend({type:d,origType:h,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&E.expr.match.needsContext.test(o),namespace:p.join(".")},i),(h=a[d])||((h=a[d]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,r,p,s)||t.addEventListener&&t.addEventListener(d,s)),c.add&&(c.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),E.event.global[d]=!0)},remove:function(e,t,n,r,o){var i,s,a,l,u,c,d,p,h,f,m,b=$.hasData(e)&&$.get(e);if(b&&(l=b.events)){for(u=(t=(t||"").match(O)||[""]).length;u--;)if(h=m=(a=ve.exec(t[u])||[])[1],f=(a[2]||"").split(".").sort(),h){for(d=E.event.special[h]||{},p=l[h=(r?d.delegateType:d.bindType)||h]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=i=p.length;i--;)c=p[i],!o&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(i,1),c.selector&&p.delegateCount--,d.remove&&d.remove.call(e,c));s&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,f,b.handle)||E.removeEvent(e,h,b.handle),delete l[h])}else for(h in l)E.event.remove(e,h+t[u],n,r,!0);E.isEmptyObject(l)&&$.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,s=new Array(arguments.length),a=E.event.fix(e),l=($.get(this,"events")||Object.create(null))[a.type]||[],e=E.event.special[a.type]||{};for(s[0]=a,t=1;t<arguments.length;t++)s[t]=arguments[t];if(a.delegateTarget=this,!e.preDispatch||!1!==e.preDispatch.call(this,a)){for(i=E.event.handlers.call(this,a,l),t=0;(r=i[t++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==o.namespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(o=((E.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(a.result=o)&&(a.preventDefault(),a.stopPropagation()));return e.postDispatch&&e.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,r,o,i,s,a=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&1<=e.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(i=[],s={},n=0;n<l;n++)void 0===s[o=(r=t[n]).selector+" "]&&(s[o]=r.needsContext?-1<E(o,this).index(u):E.find(o,this,null,[u]).length),s[o]&&i.push(r);i.length&&a.push({elem:u,handlers:i})}return u=this,l<t.length&&a.push({elem:u,handlers:t.slice(l)}),a},addProp:function(t,e){Object.defineProperty(E.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){e=this||e;return ce.test(e.type)&&e.click&&k(e,"input")&&Ce(e,"click",ye),!1},trigger:function(e){e=this||e;return ce.test(e.type)&&e.click&&k(e,"input")&&Ce(e,"click"),!0},_default:function(e){e=e.target;return ce.test(e.type)&&e.click&&k(e,"input")&&$.get(e,"click")||k(e,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ye:we,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:we,isPropagationStopped:we,isImmediatePropagationStopped:we,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ye,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ye,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ye,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(e,t){E.event.special[e]={setup:function(){return Ce(this,e,xe),!1},trigger:function(){return Ce(this,e),!0},_default:function(){return!0},delegateType:t}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){E.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||E.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=o),t}}}),E.fn.extend({on:function(e,t,n,r){return je(this,e,t,n,r)},one:function(e,t,n,r){return je(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,E(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=we),this.each(function(){E.event.remove(this,e,n,t)});for(o in e)this.off(o,t,e[o]);return this}});var Ee=/<script|<style|<link/i,_e=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ke(e,t){return k(e,"table")&&k(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function Se(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Te(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ae(e,t){var n,r,o,i;if(1===t.nodeType){if($.hasData(e)&&(i=$.get(e).events))for(o in $.remove(t,"handle events"),i)for(n=0,r=i[o].length;n<r;n++)E.event.add(t,o,i[o][n]);X.hasData(e)&&(e=X.access(e),e=E.extend({},e),X.set(t,e))}}function Pe(n,r,o,i){r=g(r);var e,t,s,a,l,u,c=0,d=n.length,p=d-1,h=r[0],f=m(h);if(f||1<d&&"string"==typeof h&&!y.checkClone&&_e.test(h))return n.each(function(e){var t=n.eq(e);f&&(r[0]=h.call(this,e,t.html())),Pe(t,r,o,i)});if(d&&(t=(e=ge(r,n[0].ownerDocument,!1,n,i)).firstChild,1===e.childNodes.length&&(e=t),t||i)){for(a=(s=E.map(fe(e,"script"),Se)).length;c<d;c++)l=e,c!==p&&(l=E.clone(l,!0,!0),a&&E.merge(s,fe(l,"script"))),o.call(n[c],l,c);if(a)for(u=s[s.length-1].ownerDocument,E.map(s,Te),c=0;c<a;c++)l=s[c],pe.test(l.type||"")&&!$.access(l,"globalEval")&&E.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?E._evalUrl&&!l.noModule&&E._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},u):w(l.textContent.replace(Re,""),l,u))}return n}function Me(e,t,n){for(var r,o=t?E.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||E.cleanData(fe(r)),r.parentNode&&(n&&oe(r)&&me(fe(r,"script")),r.parentNode.removeChild(r));return e}E.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,o,i,s,a,l,u,c=e.cloneNode(!0),d=oe(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(s=fe(c),r=0,o=(i=fe(e)).length;r<o;r++)a=i[r],"input"===(u=(l=s[r]).nodeName.toLowerCase())&&ce.test(a.type)?l.checked=a.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=a.defaultValue);if(t)if(n)for(i=i||fe(e),s=s||fe(c),r=0,o=i.length;r<o;r++)Ae(i[r],s[r]);else Ae(e,c);return 0<(s=fe(c,"script")).length&&me(s,!d&&fe(e,"script")),c},cleanData:function(e){for(var t,n,r,o=E.event.special,i=0;void 0!==(n=e[i]);i++)if(K(n)){if(t=n[$.expando]){if(t.events)for(r in t.events)o[r]?E.event.remove(n,r):E.removeEvent(n,r,t.handle);n[$.expando]=void 0}n[X.expando]&&(n[X.expando]=void 0)}}}),E.fn.extend({detach:function(e){return Me(this,e,!0)},remove:function(e){return Me(this,e)},text:function(e){return B(this,function(e){return void 0===e?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Pe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ke(this,e).appendChild(e)})},prepend:function(){return Pe(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=ke(this,e)).insertBefore(e,t.firstChild)})},before:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(fe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return E.clone(this,e,t)})},html:function(e){return B(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ee.test(e)&&!he[(de.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(fe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Pe(this,arguments,function(e){var t=this.parentNode;E.inArray(this,n)<0&&(E.cleanData(fe(this)),t&&t.replaceChild(e,this))},n)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,s){E.fn[e]=function(e){for(var t,n=[],r=E(e),o=r.length-1,i=0;i<=o;i++)t=i===o?this:this.clone(!0),E(r[i])[s](t),l.apply(n,t.get());return this.pushStack(n)}});function De(e){var t=e.ownerDocument.defaultView;return(t=!t||!t.opener?j:t).getComputedStyle(e)}function Le(e,t,n){var r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in n=n.call(e),t)e.style[r]=o[r];return n}var Oe,Ie,Ne,Fe,He,ze,We,Be,qe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Ve=new RegExp(ne.join("|"),"i");function Ue(e,t,n){var r,o,i=e.style;return(n=n||De(e))&&(""!==(o=n.getPropertyValue(t)||n[t])||oe(e)||(o=E.style(e,t)),!y.pixelBoxStyles()&&qe.test(o)&&Ve.test(t)&&(r=i.width,e=i.minWidth,t=i.maxWidth,i.minWidth=i.maxWidth=i.width=o,o=n.width,i.width=r,i.minWidth=e,i.maxWidth=t)),void 0!==o?o+"":o}function Ge(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function Ke(){var e;Be&&(We.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Be.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(We).appendChild(Be),e=j.getComputedStyle(Be),Oe="1%"!==e.top,ze=12===Je(e.marginLeft),Be.style.right="60%",Fe=36===Je(e.right),Ie=36===Je(e.width),Be.style.position="absolute",Ne=12===Je(Be.offsetWidth/3),re.removeChild(We),Be=null)}function Je(e){return Math.round(parseFloat(e))}We=C.createElement("div"),(Be=C.createElement("div")).style&&(Be.style.backgroundClip="content-box",Be.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===Be.style.backgroundClip,E.extend(y,{boxSizingReliable:function(){return Ke(),Ie},pixelBoxStyles:function(){return Ke(),Fe},pixelPosition:function(){return Ke(),Oe},reliableMarginLeft:function(){return Ke(),ze},scrollboxSize:function(){return Ke(),Ne},reliableTrDimensions:function(){var e,t,n;return null==He&&(e=C.createElement("table"),t=C.createElement("tr"),n=C.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),n=j.getComputedStyle(t),He=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),He}}));var $e=["Webkit","Moz","ms"],Xe=C.createElement("div").style,Ye={};function Qe(e){return E.cssProps[e]||Ye[e]||(e in Xe?e:Ye[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=$e.length;n--;)if((e=$e[n]+t)in Xe)return e}(e)||e)}var Ze=/^(none|table(?!-c[ea]).+)/,et=/^--/,tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"};function rt(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function ot(e,t,n,r,o,i){var s="width"===t?1:0,a=0,l=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=E.css(e,n+ne[s],!0,o)),r?("content"===n&&(l-=E.css(e,"padding"+ne[s],!0,o)),"margin"!==n&&(l-=E.css(e,"border"+ne[s]+"Width",!0,o))):(l+=E.css(e,"padding"+ne[s],!0,o),"padding"!==n?l+=E.css(e,"border"+ne[s]+"Width",!0,o):a+=E.css(e,"border"+ne[s]+"Width",!0,o));return!r&&0<=i&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-a-.5))||0),l}function it(e,t,n){var r=De(e),o=(!y.boxSizingReliable()||n)&&"border-box"===E.css(e,"boxSizing",!1,r),i=o,s=Ue(e,t,r),a="offset"+t[0].toUpperCase()+t.slice(1);if(qe.test(s)){if(!n)return s;s="auto"}return(!y.boxSizingReliable()&&o||!y.reliableTrDimensions()&&k(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===E.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===E.css(e,"boxSizing",!1,r),(i=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+ot(e,t,n||(o?"border":"content"),i,r,s)+"px"}function st(e,t,n,r,o){return new st.prototype.init(e,t,n,r,o)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){e=Ue(e,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,s,a=G(t),l=et.test(t),u=e.style;if(l||(t=Qe(a)),s=E.cssHooks[t]||E.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(e,!1,r))?o:u[t];"string"==(i=typeof n)&&(o=te.exec(n))&&o[1]&&(n=ae(e,t,o),i="number"),null!=n&&n==n&&("number"!==i||l||(n+=o&&o[3]||(E.cssNumber[a]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var o,i=G(t);return et.test(t)||(t=Qe(i)),"normal"===(o=void 0===(o=(i=E.cssHooks[t]||E.cssHooks[i])&&"get"in i?i.get(e,!0,n):o)?Ue(e,t,r):o)&&t in nt&&(o=nt[t]),""===n||n?(t=parseFloat(o),!0===n||isFinite(t)?t||0:o):o}}),E.each(["height","width"],function(e,a){E.cssHooks[a]={get:function(e,t,n){if(t)return!Ze.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?it(e,a,n):Le(e,tt,function(){return it(e,a,n)})},set:function(e,t,n){var r,o=De(e),i=!y.scrollboxSize()&&"absolute"===o.position,s=(i||n)&&"border-box"===E.css(e,"boxSizing",!1,o),n=n?ot(e,a,n,s,o):0;return s&&i&&(n-=Math.ceil(e["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(o[a])-ot(e,a,"border",!1,o)-.5)),n&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[a]=t,t=E.css(e,a)),rt(0,t,n)}}}),E.cssHooks.marginLeft=Ge(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ue(e,"marginLeft"))||e.getBoundingClientRect().left-Le(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(o,i){E.cssHooks[o+i]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[o+ne[t]+i]=r[t]||r[t-2]||r[0];return n}},"margin"!==o&&(E.cssHooks[o+i].set=rt)}),E.fn.extend({css:function(e,t){return B(this,function(e,t,n){var r,o,i={},s=0;if(Array.isArray(t)){for(r=De(e),o=t.length;s<o;s++)i[t[s]]=E.css(e,t[s],!1,r);return i}return void 0!==n?E.style(e,t,n):E.css(e,t)},e,t,1<arguments.length)}}),((E.Tween=st).prototype={constructor:st,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(E.cssNumber[n]?"":"px")},cur:function(){var e=st.propHooks[this.prop];return(e&&e.get?e:st.propHooks._default).get(this)},run:function(e){var t,n=st.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:st.propHooks._default).set(this),this}}).init.prototype=st.prototype,(st.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=E.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||!E.cssHooks[e.prop]&&null==e.elem.style[Qe(e.prop)]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=st.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=st.prototype.init,E.fx.step={};var at,lt,ut=/^(?:toggle|show|hide)$/,ct=/queueHooks$/;function dt(){lt&&(!1===C.hidden&&j.requestAnimationFrame?j.requestAnimationFrame(dt):j.setTimeout(dt,E.fx.interval),E.fx.tick())}function pt(){return j.setTimeout(function(){at=void 0}),at=Date.now()}function ht(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=ne[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function ft(e,t,n){for(var r,o=(mt.tweeners[t]||[]).concat(mt.tweeners["*"]),i=0,s=o.length;i<s;i++)if(r=o[i].call(n,t,e))return r}function mt(o,e,t){var n,i,r=0,s=mt.prefilters.length,a=E.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var e=at||pt(),e=Math.max(0,u.startTime+u.duration-e),t=1-(e/u.duration||0),n=0,r=u.tweens.length;n<r;n++)u.tweens[n].run(t);return a.notifyWith(o,[u,t,e]),t<1&&r?e:(r||a.notifyWith(o,[u,1,0]),a.resolveWith(o,[u]),!1)},u=a.promise({elem:o,props:E.extend({},e),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},t),originalProperties:e,originalOptions:t,startTime:at||pt(),duration:t.duration,tweens:[],createTween:function(e,t){e=E.Tween(o,u.opts,e,t,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(e),e},stop:function(e){var t=0,n=e?u.tweens.length:0;if(i)return this;for(i=!0;t<n;t++)u.tweens[t].run(1);return e?(a.notifyWith(o,[u,1,0]),a.resolveWith(o,[u,e])):a.rejectWith(o,[u,e]),this}}),c=u.props;for(function(e,t){var n,r,o,i,s;for(n in e)if(o=t[r=G(n)],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(s=E.cssHooks[r])&&"expand"in s)for(n in i=s.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}(c,u.opts.specialEasing);r<s;r++)if(n=mt.prefilters[r].call(u,o,c,u.opts))return m(n.stop)&&(E._queueHooks(u.elem,u.opts.queue).stop=n.stop.bind(n)),n;return E.map(c,ft,u),m(u.opts.start)&&u.opts.start.call(o,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),E.fx.timer(E.extend(l,{elem:o,anim:u,queue:u.opts.queue})),u}E.Animation=E.extend(mt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ae(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){for(var n,r=0,o=(e=m(e)?(t=e,["*"]):e.match(O)).length;r<o;r++)n=e[r],mt.tweeners[n]=mt.tweeners[n]||[],mt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,i,s,a,l,u,c="width"in t||"height"in t,d=this,p={},h=e.style,f=e.nodeType&&se(e),m=$.get(e,"fxshow");for(r in n.queue||(null==(s=E._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,E.queue(e,"fx").length||s.empty.fire()})})),t)if(o=t[r],ut.test(o)){if(delete t[r],i=i||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!m||void 0===m[r])continue;f=!0}p[r]=m&&m[r]||E.style(e,r)}if((l=!E.isEmptyObject(t))||!E.isEmptyObject(p))for(r in c&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(u=m&&m.display)&&(u=$.get(e,"display")),"none"===(c=E.css(e,"display"))&&(u?c=u:(ue([e],!0),u=e.style.display||u,c=E.css(e,"display"),ue([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===E.css(e,"float")&&(l||(d.done(function(){h.display=u}),null==u&&(c=h.display,u="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),l=!1,p)l||(m?"hidden"in m&&(f=m.hidden):m=$.access(e,"fxshow",{display:u}),i&&(m.hidden=!f),f&&ue([e],!0),d.done(function(){for(r in f||ue([e]),$.remove(e,"fxshow"),p)E.style(e,r,p[r])})),l=ft(f?m[r]:0,r,d),r in m||(m[r]=l.start,f&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?mt.prefilters.unshift(e):mt.prefilters.push(e)}}),E.speed=function(e,t,n){var r=e&&"object"==typeof e?E.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return E.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in E.fx.speeds?r.duration=E.fx.speeds[r.duration]:r.duration=E.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&E.dequeue(this,r.queue)},r},E.fn.extend({fadeTo:function(e,t,n,r){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var o=E.isEmptyObject(t),i=E.speed(e,n,r),r=function(){var e=mt(this,E.extend({},t),i);(o||$.get(this,"finish"))&&e.stop(!0)};return r.finish=r,o||!1===i.queue?this.each(r):this.queue(i.queue,r)},stop:function(o,e,i){function s(e){var t=e.stop;delete e.stop,t(i)}return"string"!=typeof o&&(i=e,e=o,o=void 0),e&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",n=E.timers,r=$.get(this);if(t)r[t]&&r[t].stop&&s(r[t]);else for(t in r)r[t]&&r[t].stop&&ct.test(t)&&s(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=o&&n[t].queue!==o||(n[t].anim.stop(i),e=!1,n.splice(t,1));!e&&i||E.dequeue(this,o)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var e,t=$.get(this),n=t[s+"queue"],r=t[s+"queueHooks"],o=E.timers,i=n?n.length:0;for(t.finish=!0,E.queue(this,s,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===s&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<i;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),E.each(["toggle","show","hide"],function(e,r){var o=E.fn[r];E.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(ht(r,!0),e,t,n)}}),E.each({slideDown:ht("show"),slideUp:ht("hide"),slideToggle:ht("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){E.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(at=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),at=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){lt||(lt=!0,dt())},E.fx.stop=function(){lt=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(r,e){return r=E.fx&&E.fx.speeds[r]||r,this.queue(e=e||"fx",function(e,t){var n=j.setTimeout(e,r);t.stop=function(){j.clearTimeout(n)}})},d=C.createElement("input"),ee=C.createElement("select").appendChild(C.createElement("option")),d.type="checkbox",y.checkOn=""!==d.value,y.optSelected=ee.selected,(d=C.createElement("input")).value="t",d.type="radio",y.radioValue="t"===d.value;var bt,gt=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return B(this,E.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){E.removeAttr(this,e)})}}),E.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?E.prop(e,t,n):(1===i&&E.isXMLDoc(e)||(o=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?bt:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):!(o&&"get"in o&&null!==(r=o.get(e,t)))&&null==(r=E.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&k(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(O);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),bt={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),function(e,t){var s=gt[t]||E.find.attr;gt[t]=function(e,t,n){var r,o,i=t.toLowerCase();return n||(o=gt[i],gt[i]=r,r=null!=s(e,t,n)?i:null,gt[i]=o),r}});var vt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;function wt(e){return(e.match(O)||[]).join(" ")}function xt(e){return e.getAttribute&&e.getAttribute("class")||""}function jt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(O)||[]}E.fn.extend({prop:function(e,t){return B(this,E.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[E.propFix[e]||e]})}}),E.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&E.isXMLDoc(e)||(t=E.propFix[t]||t,o=E.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(E.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(t){var e,n,r,o,i,s,a=0;if(m(t))return this.each(function(e){E(this).addClass(t.call(this,e,xt(this)))});if((e=jt(t)).length)for(;n=this[a++];)if(s=xt(n),r=1===n.nodeType&&" "+wt(s)+" "){for(i=0;o=e[i++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s!==(s=wt(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,o,i,s,a=0;if(m(t))return this.each(function(e){E(this).removeClass(t.call(this,e,xt(this)))});if(!arguments.length)return this.attr("class","");if((e=jt(t)).length)for(;n=this[a++];)if(s=xt(n),r=1===n.nodeType&&" "+wt(s)+" "){for(i=0;o=e[i++];)for(;-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");s!==(s=wt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(o,t){var i=typeof o,s="string"==i||Array.isArray(o);return"boolean"==typeof t&&s?t?this.addClass(o):this.removeClass(o):m(o)?this.each(function(e){E(this).toggleClass(o.call(this,e,xt(this),t),t)}):this.each(function(){var e,t,n,r;if(s)for(t=0,n=E(this),r=jt(o);e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==o&&"boolean"!=i||((e=xt(this))&&$.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==o&&$.get(this,"__className__")||""))})},hasClass:function(e){for(var t,n=0,r=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+wt(xt(t))+" ").indexOf(r))return!0;return!1}});var Ct=/\r/g;E.fn.extend({val:function(t){var n,e,r,o=this[0];return arguments.length?(r=m(t),this.each(function(e){1===this.nodeType&&(null==(e=r?t.call(this,e,E(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=E.map(e,function(e){return null==e?"":e+""})),(n=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):o?(n=E.valHooks[o.type]||E.valHooks[o.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(o,"value"))?e:"string"==typeof(e=o.value)?e.replace(Ct,""):null==e?"":e:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:wt(E.text(e))}},select:{get:function(e){for(var t,n=e.options,r=e.selectedIndex,o="select-one"===e.type,i=o?null:[],s=o?r+1:n.length,a=r<0?s:o?r:0;a<s;a++)if(((t=n[a]).selected||a===r)&&!t.disabled&&(!t.parentNode.disabled||!k(t.parentNode,"optgroup"))){if(t=E(t).val(),o)return t;i.push(t)}return i},set:function(e,t){for(var n,r,o=e.options,i=E.makeArray(t),s=o.length;s--;)((r=o[s]).selected=-1<E.inArray(E.valHooks.option.get(r),i))&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<E.inArray(E(e).val(),t)}},y.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in j;function Et(e){e.stopPropagation()}var _t=/^(?:focusinfocus|focusoutblur)$/;E.extend(E.event,{trigger:function(e,t,n,r){var o,i,s,a,l,u,c,d=[n||C],p=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[],f=c=i=n=n||C;if(3!==n.nodeType&&8!==n.nodeType&&!_t.test(p+E.event.triggered)&&(-1<p.indexOf(".")&&(p=(h=p.split(".")).shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,(e=e[E.expando]?e:new E.Event(p,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:E.makeArray(t,[e]),u=E.event.special[p]||{},r||!u.trigger||!1!==u.trigger.apply(n,t))){if(!r&&!u.noBubble&&!b(n)){for(s=u.delegateType||p,_t.test(s+p)||(f=f.parentNode);f;f=f.parentNode)d.push(f),i=f;i===(n.ownerDocument||C)&&d.push(i.defaultView||i.parentWindow||j)}for(o=0;(f=d[o++])&&!e.isPropagationStopped();)c=f,e.type=1<o?s:u.bindType||p,(l=($.get(f,"events")||Object.create(null))[e.type]&&$.get(f,"handle"))&&l.apply(f,t),(l=a&&f[a])&&l.apply&&K(f)&&(e.result=l.apply(f,t),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(d.pop(),t)||!K(n)||a&&m(n[p])&&!b(n)&&((i=n[a])&&(n[a]=null),E.event.triggered=p,e.isPropagationStopped()&&c.addEventListener(p,Et),n[p](),e.isPropagationStopped()&&c.removeEventListener(p,Et),E.event.triggered=void 0,i&&(n[a]=i)),e.result}},simulate:function(e,t,n){e=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(e,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each(function(){E.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}}),y.focusin||E.each({focus:"focusin",blur:"focusout"},function(n,r){function o(e){E.event.simulate(r,e.target,E.event.fix(e))}E.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=$.access(e,r);t||e.addEventListener(n,o,!0),$.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=$.access(e,r)-1;t?$.access(e,r,t):(e.removeEventListener(n,o,!0),$.remove(e,r))}}});var Rt=j.location,kt={guid:Date.now()},St=/\?/;E.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new j.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||E.error("Invalid XML: "+(n?E.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Tt=/\[\]$/,At=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;E.param=function(e,t){function n(e,t){t=m(t)?t():t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var r,o=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,function(){n(this.name,this.value)});else for(r in e)!function n(r,e,o,i){if(Array.isArray(e))E.each(e,function(e,t){o||Tt.test(r)?i(r,t):n(r+"["+("object"==typeof t&&null!=t?e:"")+"]",t,o,i)});else if(o||"object"!==f(e))i(r,e);else for(var t in e)n(r+"["+t+"]",e[t],o,i)}(r,e[r],t,n);return o.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&Mt.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!ce.test(e))}).map(function(e,t){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,function(e){return{name:t.name,value:e.replace(At,"\r\n")}}):{name:t.name,value:n.replace(At,"\r\n")}}).get()}});var Dt=/%20/g,Lt=/#.*$/,Ot=/([?&])_=[^&]*/,It=/^(.*?):[ \t]*([^\r\n]*)$/gm,Nt=/^(?:GET|HEAD)$/,Ft=/^\/\//,Ht={},zt={},Wt="*/".concat("*"),Bt=C.createElement("a");function qt(i){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,o=e.toLowerCase().match(O)||[];if(m(t))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(i[n]=i[n]||[]).unshift(t)):(i[n]=i[n]||[]).push(t)}}function Vt(t,r,o,i){var s={},a=t===zt;function l(e){var n;return s[e]=!0,E.each(t[e]||[],function(e,t){t=t(r,o,i);return"string"!=typeof t||a||s[t]?a?!(n=t):void 0:(r.dataTypes.unshift(t),l(t),!1)}),n}return l(r.dataTypes[0])||!s["*"]&&l("*")}function Ut(e,t){var n,r,o=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r=r||{})[n]=t[n]);return r&&E.extend(!0,e,r),e}Bt.href=Rt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Rt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ut(Ut(e,E.ajaxSettings),t):Ut(E.ajaxSettings,e)},ajaxPrefilter:qt(Ht),ajaxTransport:qt(zt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var l,u,c,n,d,p,h,r,o,f=E.ajaxSetup({},t=t||{}),m=f.context||f,b=f.context&&(m.nodeType||m.jquery)?E(m):E.event,g=E.Deferred(),v=E.Callbacks("once memory"),y=f.statusCode||{},i={},s={},a="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(p){if(!n)for(n={};t=It.exec(c);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return p?c:null},setRequestHeader:function(e,t){return null==p&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,i[e]=t),this},overrideMimeType:function(e){return null==p&&(f.mimeType=e),this},statusCode:function(e){if(e)if(p)w.always(e[w.status]);else for(var t in e)y[t]=[y[t],e[t]];return this},abort:function(e){e=e||a;return l&&l.abort(e),x(0,e),this}};if(g.promise(w),f.url=((e||f.url||Rt.href)+"").replace(Ft,Rt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(O)||[""],null==f.crossDomain){o=C.createElement("a");try{o.href=f.url,o.href=o.href,f.crossDomain=Bt.protocol+"//"+Bt.host!=o.protocol+"//"+o.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=E.param(f.data,f.traditional)),Vt(Ht,f,t,w),p)return w;for(r in(h=E.event&&f.global)&&0==E.active++&&E.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Nt.test(f.type),u=f.url.replace(Lt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Dt,"+")):(o=f.url.slice(u.length),f.data&&(f.processData||"string"==typeof f.data)&&(u+=(St.test(u)?"&":"?")+f.data,delete f.data),!1===f.cache&&(u=u.replace(Ot,"$1"),o=(St.test(u)?"&":"?")+"_="+kt.guid+++o),f.url=u+o),f.ifModified&&(E.lastModified[u]&&w.setRequestHeader("If-Modified-Since",E.lastModified[u]),E.etag[u]&&w.setRequestHeader("If-None-Match",E.etag[u])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Wt+"; q=0.01":""):f.accepts["*"]),f.headers)w.setRequestHeader(r,f.headers[r]);if(f.beforeSend&&(!1===f.beforeSend.call(m,w,f)||p))return w.abort();if(a="abort",v.add(f.complete),w.done(f.success),w.fail(f.error),l=Vt(zt,f,t,w)){if(w.readyState=1,h&&b.trigger("ajaxSend",[w,f]),p)return w;f.async&&0<f.timeout&&(d=j.setTimeout(function(){w.abort("timeout")},f.timeout));try{p=!1,l.send(i,x)}catch(e){if(p)throw e;x(-1,e)}}else x(-1,"No Transport");function x(e,t,n,r){var o,i,s,a=t;p||(p=!0,d&&j.clearTimeout(d),l=void 0,c=r||"",w.readyState=0<e?4:0,r=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var r,o,i,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in a)if(a[o]&&a[o].test(r)){l.unshift(o);break}if(l[0]in n)i=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){i=o;break}s=s||o}i=i||s}if(i)return i!==l[0]&&l.unshift(i),n[i]}(f,w,n)),!r&&-1<E.inArray("script",f.dataTypes)&&E.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),s=function(e,t,n,r){var o,i,s,a,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(i=c.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=c.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(s=u[l+" "+i]||u["* "+i]))for(o in u)if((a=o.split(" "))[1]===i&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[o]:!0!==u[o]&&(i=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}(f,s,w,r),r?(f.ifModified&&((n=w.getResponseHeader("Last-Modified"))&&(E.lastModified[u]=n),(n=w.getResponseHeader("etag"))&&(E.etag[u]=n)),204===e||"HEAD"===f.type?a="nocontent":304===e?a="notmodified":(a=s.state,o=s.data,r=!(i=s.error))):(i=a,!e&&a||(a="error",e<0&&(e=0))),w.status=e,w.statusText=(t||a)+"",r?g.resolveWith(m,[o,a,w]):g.rejectWith(m,[w,a,i]),w.statusCode(y),y=void 0,h&&b.trigger(r?"ajaxSuccess":"ajaxError",[w,f,r?o:i]),v.fireWith(m,[w,a]),h&&(b.trigger("ajaxComplete",[w,f]),--E.active||E.event.trigger("ajaxStop")))}return w},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],function(e,o){E[o]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),E.ajax(E.extend({url:e,type:o,dataType:r,data:t,success:n},E.isPlainObject(e)&&e))}}),E.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),E._evalUrl=function(e,t,n){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){E.globalEval(e,t,n)}})},E.fn.extend({wrapAll:function(e){return this[0]&&(m(e)&&(e=e.call(this[0])),e=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){E(this).wrapInner(n.call(this,e))}):this.each(function(){var e=E(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){E(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new j.XMLHttpRequest}catch(e){}};var Gt={0:200,1223:204},Kt=E.ajaxSettings.xhr();y.cors=!!Kt&&"withCredentials"in Kt,y.ajax=Kt=!!Kt,E.ajaxTransport(function(o){var i,s;if(y.cors||Kt&&!o.crossDomain)return{send:function(e,t){var n,r=o.xhr();if(r.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(n in o.xhrFields)r[n]=o.xhrFields[n];for(n in o.mimeType&&r.overrideMimeType&&r.overrideMimeType(o.mimeType),o.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);i=function(e){return function(){i&&(i=s=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Gt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=i(),s=r.onerror=r.ontimeout=i("error"),void 0!==r.onabort?r.onabort=s:r.onreadystatechange=function(){4===r.readyState&&j.setTimeout(function(){i&&s()})},i=i("abort");try{r.send(o.hasContent&&o.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}}),E.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),E.ajaxTransport("script",function(n){var r,o;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=E("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",o=function(e){r.remove(),o=null,e&&t("error"===e.type?404:200,e.type)}),C.head.appendChild(r[0])},abort:function(){o&&o()}}});var Jt=[],$t=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Jt.pop()||E.expando+"_"+kt.guid++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",function(e,t,n){var r,o,i,s=!1!==e.jsonp&&($t.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&$t.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace($t,"$1"+r):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return i||E.error(r+" was not called"),i[0]},e.dataTypes[0]="json",o=j[r],j[r]=function(){i=arguments},n.always(function(){void 0===o?E(j).removeProp(r):j[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,Jt.push(r)),i&&m(o)&&o(i[0]),i=o=void 0}),"script"}),y.createHTMLDocument=((d=C.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===d.childNodes.length),E.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=C.implementation.createHTMLDocument("")).createElement("base")).href=C.location.href,t.head.appendChild(r)):t=C),r=!n&&[],(n=S.exec(e))?[t.createElement(n[1])]:(n=ge([e],t,r),r&&r.length&&E(r).remove(),E.merge([],n.childNodes)));var r},E.fn.load=function(e,t,n){var r,o,i,s=this,a=e.indexOf(" ");return-1<a&&(r=wt(e.slice(a)),e=e.slice(0,a)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<s.length&&E.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,s.html(r?E("<div>").append(E.parseHTML(e)).find(r):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},E.expr.pseudos.animated=function(t){return E.grep(E.timers,function(e){return t===e.elem}).length},E.offset={setOffset:function(e,t,n){var r,o,i,s,a=E.css(e,"position"),l=E(e),u={};"static"===a&&(e.style.position="relative"),i=l.offset(),r=E.css(e,"top"),s=E.css(e,"left"),s=("absolute"===a||"fixed"===a)&&-1<(r+s).indexOf("auto")?(o=(a=l.position()).top,a.left):(o=parseFloat(r)||0,parseFloat(s)||0),null!=(t=m(t)?t.call(e,n,E.extend({},i)):t).top&&(u.top=t.top-i.top+o),null!=t.left&&(u.left=t.left-i.left+s),"using"in t?t.using.call(e,u):l.css(u)}},E.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){E.offset.setOffset(this,t,e)});var e,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===E.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===E.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),o.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-E.css(r,"marginTop",!0),left:t.left-o.left-E.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||re})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var i="pageYOffset"===o;E.fn[t]=function(e){return B(this,function(e,t,n){var r;return b(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n?r?r[o]:e[t]:void(r?r.scrollTo(i?r.pageXOffset:n,i?n:r.pageYOffset):e[t]=n)},t,e,arguments.length)}}),E.each(["top","left"],function(e,n){E.cssHooks[n]=Ge(y.pixelPosition,function(e,t){if(t)return t=Ue(e,n),qe.test(t)?E(e).position()[n]+"px":t})}),E.each({Height:"height",Width:"width"},function(s,a){E.each({padding:"inner"+s,content:a,"":"outer"+s},function(r,i){E.fn[i]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),o=r||(!0===e||!0===t?"margin":"border");return B(this,function(e,t,n){var r;return b(e)?0===i.indexOf("outer")?e["inner"+s]:e.document.documentElement["client"+s]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+s],r["scroll"+s],e.body["offset"+s],r["offset"+s],r["client"+s])):void 0===n?E.css(e,t,o):E.style(e,t,n,o)},a,n?e:void 0,n)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){E.fn[t]=function(e){return this.on(t,e)}}),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){E.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;E.proxy=function(e,t){var n,r;if("string"==typeof t&&(r=e[t],t=e,e=r),m(e))return n=a.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(a.call(arguments)))}).guid=e.guid=e.guid||E.guid++,r},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=k,E.isFunction=m,E.isWindow=b,E.camelCase=G,E.type=f,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},E.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return E});var Yt=j.jQuery,Qt=j.$;return E.noConflict=function(e){return j.$===E&&(j.$=Qt),e&&j.jQuery===E&&(j.jQuery=Yt),E},void 0===e&&(j.jQuery=j.$=E),E}),function(x,I,N){var e;e=function(A){"use strict";var g,S,y,T,P,M,u,j,e,i,c,D,l,t,L,O,a,s,d,p,w,r,h,f,o,m={},b=0,n=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:N,normalRangeMax:N,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:N,chartRangeMax:N,chartRangeMinX:N,chartRangeMaxX:N,tooltipFormat:new g('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:N,nullColor:N,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:N,chartRangeMin:N,chartRangeClip:!1,colorMap:N,tooltipFormat:new g('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new g('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:N,thresholdValue:0,chartRangeMax:N,chartRangeMin:N,chartRangeClip:!1,tooltipFormat:new g("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:N,tooltipFormat:new g("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new g('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:N,targetColor:"#4a2",chartRangeMax:N,chartRangeMin:N,tooltipFormat:new g("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},v=function(){var e,t=function(){this.init.apply(this,arguments)};return 1<arguments.length?(arguments[0]?(t.prototype=A.extend(new arguments[0],arguments[arguments.length-1]),t._super=arguments[0].prototype):t.prototype=arguments[arguments.length-1],2<arguments.length&&((e=Array.prototype.slice.call(arguments,1,-1)).unshift(t.prototype),A.extend.apply(A,e))):t.prototype=arguments[0],t.prototype.cls=t};A.SPFormatClass=g=v({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(e,t){this.format=e,this.fclass=t},render:function(e,t,n){var r,o,i,s,a=this,l=e;return this.format.replace(this.fre,function(){return i=arguments[1],o=arguments[3],(r=a.precre.exec(i))?(s=r[2],i=r[1]):s=!1,(i=l[i])===N?"":o&&t&&t[o]?t[o].get?t[o].get(i)||i:t[o][i]||i:i=u(i)?n.get("numberFormatter")?n.get("numberFormatter")(i):c(i,s,n.get("numberDigitGroupCount"),n.get("numberDigitGroupSep"),n.get("numberDecimalMark")):i})}}),A.spformat=function(e,t){return new g(e,t)},S=function(e,t,n){return e<t?t:n<e?n:e},y=function(e,t){var n;return 2===t?(n=I.floor(e.length/2),e.length%2?e[n]:(e[n-1]+e[n])/2):(n=e.length%2?(e.length*t+t)/4:(e.length*t+2)/4)%1?(e[I.floor(n)]+e[I.floor(n)-1])/2:e[n-1]},T=function(e){var t;switch(e){case"undefined":e=N;break;case"null":e=null;break;case"true":e=!0;break;case"false":e=!1;break;default:e==(t=parseFloat(e))&&(e=t)}return e},P=function(e){for(var t=[],n=e.length;n--;)t[n]=T(e[n]);return t},M=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++)e[r]!==t&&n.push(e[r]);return n},u=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},c=function(e,t,n,r,o){var i;for(e=(!1===t?parseFloat(e).toString():e.toFixed(t)).split(""),(t=(t=A.inArray(".",e))<0?e.length:t)<e.length&&(e[t]=o),i=t-n;0<i;i-=n)e.splice(i,0,r);return e.join("")},j=function(e,t,n){for(var r=t.length;r--;)if((!n||null!==t[r])&&t[r]!==e)return!1;return!0},i=function(e){return A.isArray(e)?e:[e]},e=function(e){var t;x.createStyleSheet?x.createStyleSheet().cssText=e:((t=x.createElement("style")).type="text/css",x.getElementsByTagName("head")[0].appendChild(t),t["string"==typeof x.body.style.WebkitAppearance?"innerText":"innerHTML"]=e)},A.fn.simpledraw=function(e,t,n,r){var o;if(n&&(o=this.data("_jqs_vcanvas")))return o;if(!1===A.fn.sparkline.canvas)return!1;if(A.fn.sparkline.canvas===N){n=x.createElement("canvas");if(n.getContext&&n.getContext("2d"))A.fn.sparkline.canvas=function(e,t,n,r){return new h(e,t,n,r)};else{if(!x.namespaces||x.namespaces.v)return A.fn.sparkline.canvas=!1;x.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),A.fn.sparkline.canvas=function(e,t,n,r){return new f(e,t,n)}}}return e===N&&(e=A(this).innerWidth()),t===N&&(t=A(this).innerHeight()),o=A.fn.sparkline.canvas(e,t,this,r),(r=A(this).data("_jqs_mhandler"))&&r.registerCanvas(o),o},A.fn.cleardraw=function(){var e=this.data("_jqs_vcanvas");e&&e.reset()},A.RangeMapClass=D=v({init:function(e){var t,n,r=[];for(t in e)e.hasOwnProperty(t)&&"string"==typeof t&&-1<t.indexOf(":")&&(n=t.split(":"),n[0]=0===n[0].length?-1/0:parseFloat(n[0]),n[1]=0===n[1].length?1/0:parseFloat(n[1]),n[2]=e[t],r.push(n));this.map=e,this.rangelist=r||!1},get:function(e){var t,n,r,o=this.rangelist;if((r=this.map[e])!==N)return r;if(o)for(t=o.length;t--;)if((n=o[t])[0]<=e&&n[1]>=e)return n[2];return N}}),A.range_map=function(e){return new D(e)},l=v({init:function(e,t){var n=A(e);this.$el=n,this.options=t,this.currentPageX=0,this.currentPageY=0,this.el=e,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!t.get("disableTooltips"),this.highlightEnabled=!t.get("disableHighlight")},registerSparkline:function(e){this.splist.push(e),this.over&&this.updateDisplay()},registerCanvas:function(e){var t=A(e.canvas);this.canvas=e,(this.$canvas=t).mouseenter(A.proxy(this.mouseenter,this)),t.mouseleave(A.proxy(this.mouseleave,this)),t.click(A.proxy(this.mouseclick,this))},reset:function(e){this.splist=[],this.tooltip&&e&&(this.tooltip.remove(),this.tooltip=N)},mouseclick:function(e){var t=A.Event("sparklineClick");t.originalEvent=e,t.sparklines=this.splist,this.$el.trigger(t)},mouseenter:function(e){A(x.body).unbind("mousemove.jqs"),A(x.body).bind("mousemove.jqs",A.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new t(this.options),this.tooltip.updatePosition(e.pageX,e.pageY)),this.updateDisplay()},mouseleave:function(){A(x.body).unbind("mousemove.jqs");var e,t=this.splist,n=t.length,r=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),e=0;e<n;e++)t[e].clearRegionHighlight()&&(r=!0);r&&this.canvas.render()},mousemove:function(e){this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,this.tooltip&&this.tooltip.updatePosition(e.pageX,e.pageY),this.updateDisplay()},updateDisplay:function(){var e,t,n,r=this.splist,o=r.length,i=!1,s=this.$canvas.offset(),a=this.currentPageX-s.left,l=this.currentPageY-s.top;if(this.over){for(t=0;t<o;t++)(n=r[t].setRegionHighlight(this.currentEl,a,l))&&(i=!0);if(i){if((s=A.Event("sparklineRegionChange")).sparklines=this.splist,this.$el.trigger(s),this.tooltip){for(e="",t=0;t<o;t++)e+=r[t].getCurrentRegionTooltip();this.tooltip.setContent(e)}this.disableHighlight||this.canvas.render()}null===n&&this.mouseleave()}}}),t=v({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(e){var t=e.get("tooltipClassname","jqstooltip"),n=this.sizeStyle;this.container=e.get("tooltipContainer")||x.body,this.tooltipOffsetX=e.get("tooltipOffsetX",10),this.tooltipOffsetY=e.get("tooltipOffsetY",12),A("#jqssizetip").remove(),A("#jqstooltip").remove(),this.sizetip=A("<div/>",{id:"jqssizetip",style:n,class:t}),this.tooltip=A("<div/>",{id:"jqstooltip",class:t}).appendTo(this.container),t=this.tooltip.offset(),this.offsetLeft=t.left,this.offsetTop=t.top,this.hidden=!0,A(window).unbind("resize.jqs scroll.jqs"),A(window).bind("resize.jqs scroll.jqs",A.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=A(window).scrollTop(),this.scrollLeft=A(window).scrollLeft(),this.scrollRight=this.scrollLeft+A(window).width(),this.updatePosition()},getSize:function(e){this.sizetip.html(e).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(e){if(!e)return this.tooltip.css("visibility","hidden"),void(this.hidden=!0);this.getSize(e),this.tooltip.html(e).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(e,t){if(e===N){if(this.mousex===N)return;e=this.mousex-this.offsetLeft,t=this.mousey-this.offsetTop}else this.mousex=e-=this.offsetLeft,this.mousey=t-=this.offsetTop;this.height&&this.width&&!this.hidden&&(t-=this.height+this.tooltipOffsetY,e+=this.tooltipOffsetX,t<this.scrollTop&&(t=this.scrollTop),e<this.scrollLeft?e=this.scrollLeft:e+this.width>this.scrollRight&&(e=this.scrollRight-this.width),this.tooltip.css({left:e,top:t}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=N,A(window).unbind("resize.jqs scroll.jqs")}}),A(function(){e('.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}')}),o=[],A.fn.sparkline=function(a,n){return this.each(function(){var e,i=new A.fn.sparkline.options(this,n),s=A(this),t=function(){var e,t,n,r="html"===a||a===N?(n=(n=this.getAttribute(i.get("tagValuesAttribute")))===N||null===n?s.html():n).replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(","):a,o="auto"===i.get("width")?r.length*i.get("defaultPixelsPerValue"):i.get("width");"auto"===i.get("height")?i.get("composite")&&A.data(this,"_jqs_vcanvas")||((n=x.createElement("span")).innerHTML="a",s.html(n),t=A(n).innerHeight()||A(n).height(),A(n).remove(),n=null):t=i.get("height"),i.get("disableInteraction")?e=!1:(e=A.data(this,"_jqs_mhandler"))?i.get("composite")||e.reset():(e=new l(this,i),A.data(this,"_jqs_mhandler",e)),!i.get("composite")||A.data(this,"_jqs_vcanvas")?((t=new A.fn.sparkline[i.get("type")](this,r,i,o,t)).render(),e&&e.registerSparkline(t)):A.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),A.data(this,"_jqs_errnotify",!0))};if(A(this).html()&&!i.get("disableHiddenCheck")&&A(this).is(":hidden")||!A(this).parents("body").length){if(!i.get("composite")&&A.data(this,"_jqs_pending"))for(e=o.length;e;e--)o[e-1][0]==this&&o.splice(e-1,1);o.push([this,t]),A.data(this,"_jqs_pending",!0)}else t.call(this)})},A.fn.sparkline.defaults=n(),A.sparkline_display_visible=function(){for(var e,t=[],n=0,r=o.length;n<r;n++)e=o[n][0],A(e).is(":visible")&&!A(e).parents().is(":hidden")?(o[n][1].call(e),A.data(o[n][0],"_jqs_pending",!1),t.push(n)):A(e).closest("html").length||A.data(e,"_jqs_pending")||(A.data(o[n][0],"_jqs_pending",!1),t.push(n));for(n=t.length;n;n--)o.splice(t[n-1],1)},A.fn.sparkline.options=v({init:function(e,t){var n,r;this.userOptions=t=t||{},this.tag=e,this.tagValCache={},r=(n=A.fn.sparkline.defaults).common,this.tagOptionsPrefix=t.enableTagOptions&&(t.tagOptionsPrefix||r.tagOptionsPrefix),e=(e=this.getTagSetting("type"))===m?n[t.type||r.type]:n[e],this.mergedOptions=A.extend({},r,e,t)},getTagSetting:function(e){var t,n,r,o,i=this.tagOptionsPrefix;if(!1===i||i===N)return m;if(this.tagValCache.hasOwnProperty(e))t=this.tagValCache.key;else{if((t=this.tag.getAttribute(i+e))===N||null===t)t=m;else if("["===t.substr(0,1))for(n=(t=t.substr(1,t.length-2).split(",")).length;n--;)t[n]=T(t[n].replace(/(^\s*)|(\s*$)/g,""));else if("{"===t.substr(0,1))for(r=t.substr(1,t.length-2).split(","),t={},n=r.length;n--;)t[(o=r[n].split(":",2))[0].replace(/(^\s*)|(\s*$)/g,"")]=T(o[1].replace(/(^\s*)|(\s*$)/g,""));else t=T(t);this.tagValCache.key=t}return t},get:function(e,t){var n=this.getTagSetting(e);return n!==m?n:(e=this.mergedOptions[e])===N?t:e}}),A.fn.sparkline._base=v({disabled:!1,init:function(e,t,n,r,o){this.el=e,this.$el=A(e),this.values=t,this.options=n,this.width=r,this.height=o,this.currentRegion=N},initTarget:function(){var e=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),e))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(e,t){},setRegionHighlight:function(e,t,n){var r=this.currentRegion,o=!this.options.get("disableHighlight");return t>this.canvasWidth||n>this.canvasHeight||t<0||n<0?null:r!==(n=this.getRegion(e,t,n))&&(r!==N&&o&&this.removeHighlight(),(this.currentRegion=n)!==N&&o&&this.renderHighlight(),!0)},clearRegionHighlight:function(){return this.currentRegion!==N&&(this.removeHighlight(),!(this.currentRegion=N))},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(e){},getCurrentRegionTooltip:function(){var e,t,n,r,o,i,s,a,l,u,c,d,p,h,f=this.options,m="",b=[];if(this.currentRegion===N)return"";if(e=this.getCurrentRegionFields(),c=f.get("tooltipFormatter"))return c(this,f,e);if(f.get("tooltipChartTitle")&&(m+='<div class="jqs jqstitle">'+f.get("tooltipChartTitle")+"</div>\n"),!(t=this.options.get("tooltipFormat")))return"";if(A.isArray(t)||(t=[t]),A.isArray(e)||(e=[e]),s=this.options.get("tooltipFormatFieldlist"),a=this.options.get("tooltipFormatFieldlistKey"),s&&a){for(l=[],i=e.length;i--;)u=e[i][a],-1!=(h=A.inArray(u,s))&&(l[h]=e[i]);e=l}for(n=t.length,p=e.length,i=0;i<n;i++)for(r=(d="string"==typeof(d=t[i])?new g(d):d).fclass||"jqsfield",h=0;h<p;h++)e[h].isNull&&f.get("tooltipSkipNull")||(A.extend(e[h],{prefix:f.get("tooltipPrefix"),suffix:f.get("tooltipSuffix")}),o=d.render(e[h],f.get("tooltipValueLookups"),f),b.push('<div class="'+r+'">'+o+"</div>"));return b.length?m+b.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(e,t){var n,r,o,i,s=t.get("highlightColor"),a=t.get("highlightLighten");if(s)return s;if(a&&(n=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e))){for(o=[],r=4===e.length?16:1,i=0;i<3;i++)o[i]=S(I.round(parseInt(n[i+1],16)*r*a),0,255);return"rgb("+o.join(",")+")"}return e}}),n={changeHighlight:function(e){var t=this.currentRegion,n=this.target,r=this.regionShapes[t];r&&(e=this.renderRegion(t,e),A.isArray(e)||A.isArray(r)?(n.replaceWithShapes(r,e),this.regionShapes[t]=A.map(e,function(e){return e.id})):(n.replaceWithShape(r,e),this.regionShapes[t]=e.id))},render:function(){var e,t,n,r,o=this.values,i=this.target,s=this.regionShapes;if(this.cls._super.render.call(this)){for(n=o.length;n--;)if(e=this.renderRegion(n))if(A.isArray(e)){for(t=[],r=e.length;r--;)e[r].append(),t.push(e[r].id);s[n]=t}else e.append(),s[n]=e.id;else s[n]=null;i.render()}}},A.fn.sparkline.line=L=v(A.fn.sparkline._base,{type:"line",init:function(e,t,n,r,o){L._super.init.call(this,e,t,n,r,o),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(e,t,n){for(var r=this.regionMap,o=r.length;o--;)if(null!==r[o]&&t>=r[o][0]&&t<=r[o][1])return r[o][2];return N},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:null===this.yvalues[e],x:this.xvalues[e],y:this.yvalues[e],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:e}},renderHighlight:function(){var e=this.currentRegion,t=this.target,n=this.vertices[e],r=this.options,o=r.get("spotRadius"),e=r.get("highlightSpotColor"),r=r.get("highlightLineColor");n&&(o&&e&&(e=t.drawCircle(n[0],n[1],o,N,e),this.highlightSpotId=e.id,t.insertAfterShape(this.lastShapeId,e)),r&&(r=t.drawLine(n[0],this.canvasTop,n[0],this.canvasTop+this.canvasHeight,r),this.highlightLineId=r.id,t.insertAfterShape(this.lastShapeId,r)))},removeHighlight:function(){var e=this.target;this.highlightSpotId&&(e.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(e.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){for(var e,t,n,r,o=this.values,i=o.length,s=this.xvalues,a=this.yvalues,l=this.yminmax,u=0;u<i;u++)e=o[u],t="string"==typeof o[u],n="object"==typeof o[u]&&o[u]instanceof Array,r=t&&o[u].split(":"),t&&2===r.length?(s.push(Number(r[0])),a.push(Number(r[1])),l.push(Number(r[1]))):n?(s.push(e[0]),a.push(e[1]),l.push(e[1])):(s.push(u),null===o[u]||"null"===o[u]?a.push(null):(a.push(Number(e)),l.push(Number(e))));this.options.get("xvalues")&&(s=this.options.get("xvalues")),this.maxy=this.maxyorg=I.max.apply(I,l),this.miny=this.minyorg=I.min.apply(I,l),this.maxx=I.max.apply(I,s),this.minx=I.min.apply(I,s),this.xvalues=s,this.yvalues=a,this.yminmax=l},processRangeOptions:function(){var e=this.options,t=e.get("normalRangeMin"),n=e.get("normalRangeMax");t!==N&&(t<this.miny&&(this.miny=t),n>this.maxy&&(this.maxy=n)),e.get("chartRangeMin")!==N&&(e.get("chartRangeClip")||e.get("chartRangeMin")<this.miny)&&(this.miny=e.get("chartRangeMin")),e.get("chartRangeMax")!==N&&(e.get("chartRangeClip")||e.get("chartRangeMax")>this.maxy)&&(this.maxy=e.get("chartRangeMax")),e.get("chartRangeMinX")!==N&&(e.get("chartRangeClipX")||e.get("chartRangeMinX")<this.minx)&&(this.minx=e.get("chartRangeMinX")),e.get("chartRangeMaxX")!==N&&(e.get("chartRangeClipX")||e.get("chartRangeMaxX")>this.maxx)&&(this.maxx=e.get("chartRangeMaxX"))},drawNormalRange:function(e,t,n,r,o){var i=this.options.get("normalRangeMin"),s=this.options.get("normalRangeMax"),t=t+I.round(n-n*((s-this.miny)/o)),o=I.round(n*(s-i)/o);this.target.drawRect(e,t,r,o,N,this.options.get("normalRangeColor")).append()},render:function(){var e,t,n,r,o,i,s,a,l,u,c,d,p,h,f,m,b,g,v,y,w,x,j,C=this.options,E=this.target,_=this.canvasWidth,R=this.canvasHeight,k=this.vertices,S=C.get("spotRadius"),T=this.regionMap;if(L._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),w=this.xvalues,x=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(r=o=0,e=this.maxx-this.minx==0?1:this.maxx-this.minx,t=this.maxy-this.miny==0?1:this.maxy-this.miny,n=this.yvalues.length-1,(S=S&&(_<4*S||R<4*S)?0:S)&&(((v=C.get("highlightSpotColor")&&!C.get("disableInteraction"))||C.get("minSpotColor")||C.get("spotColor")&&x[n]===this.miny)&&(R-=I.ceil(S)),(v||C.get("maxSpotColor")||C.get("spotColor")&&x[n]===this.maxy)&&(R-=I.ceil(S),r+=I.ceil(S)),!v&&(!C.get("minSpotColor")&&!C.get("maxSpotColor")||x[0]!==this.miny&&x[0]!==this.maxy)||(o+=I.ceil(S),_-=I.ceil(S)),(v||C.get("spotColor")||C.get("minSpotColor")||C.get("maxSpotColor")&&(x[n]===this.miny||x[n]===this.maxy))&&(_-=I.ceil(S))),R--,C.get("normalRangeMin")===N||C.get("drawNormalOnTop")||this.drawNormalRange(o,r,R,_,t),s=[i=[]],d=null,h=x.length,j=0;j<h;j++)a=w[j],c=w[j+1],l=x[j],u=o+I.round((a-this.minx)*(_/e)),c=j<h-1?o+I.round((c-this.minx)*(_/e)):_,T[j]=[d||0,p=u+(c-u)/2,j],d=p,null===l?j&&(null!==x[j-1]&&s.push(i=[]),k.push(null)):((l=l<this.miny?this.miny:l)>this.maxy&&(l=this.maxy),i.length||i.push([u,r+R]),l=[u,r+I.round(R-R*((l-this.miny)/t))],i.push(l),k.push(l));for(f=[],m=[],b=s.length,j=0;j<b;j++)(i=s[j]).length&&(C.get("fillColor")&&(i.push([i[i.length-1][0],r+R]),m.push(i.slice(0)),i.pop()),2<i.length&&(i[0]=[i[0][0],i[1][1]]),f.push(i));for(b=m.length,j=0;j<b;j++)E.drawShape(m[j],C.get("fillColor"),C.get("fillColor")).append();for(C.get("normalRangeMin")!==N&&C.get("drawNormalOnTop")&&this.drawNormalRange(o,r,R,_,t),b=f.length,j=0;j<b;j++)E.drawShape(f[j],C.get("lineColor"),N,C.get("lineWidth")).append();if(S&&C.get("valueSpots"))for((g=C.get("valueSpots")).get===N&&(g=new D(g)),j=0;j<h;j++)(y=g.get(x[j]))&&E.drawCircle(o+I.round((w[j]-this.minx)*(_/e)),r+I.round(R-R*((x[j]-this.miny)/t)),S,N,y).append();S&&C.get("spotColor")&&null!==x[n]&&E.drawCircle(o+I.round((w[w.length-1]-this.minx)*(_/e)),r+I.round(R-R*((x[n]-this.miny)/t)),S,N,C.get("spotColor")).append(),this.maxy!==this.minyorg&&(S&&C.get("minSpotColor")&&(a=w[A.inArray(this.minyorg,x)],E.drawCircle(o+I.round((a-this.minx)*(_/e)),r+I.round(R-R*((this.minyorg-this.miny)/t)),S,N,C.get("minSpotColor")).append()),S&&C.get("maxSpotColor")&&(a=w[A.inArray(this.maxyorg,x)],E.drawCircle(o+I.round((a-this.minx)*(_/e)),r+I.round(R-R*((this.maxyorg-this.miny)/t)),S,N,C.get("maxSpotColor")).append())),this.lastShapeId=E.getLastShapeId(),this.canvasTop=r,E.render()}}}),A.fn.sparkline.bar=O=v(A.fn.sparkline._base,n,{type:"bar",init:function(e,t,n,r,o){var i,s,a,l,u,c,d,p,h,f,m=parseInt(n.get("barWidth"),10),b=parseInt(n.get("barSpacing"),10),g=n.get("chartRangeMin"),v=n.get("chartRangeMax"),y=n.get("chartRangeClip"),w=1/0,x=-1/0;for(O._super.init.call(this,e,t,n,r,o),R=0,k=t.length;R<k;R++)((i="string"==typeof(h=t[R])&&-1<h.indexOf(":"))||A.isArray(h))&&(l=!0,i&&(h=t[R]=P(h.split(":"))),h=M(h,null),(i=I.min.apply(I,h))<w&&(w=i),x<(i=I.max.apply(I,h))&&(x=i));this.stacked=l,this.regionShapes={},this.barWidth=m,this.barSpacing=b,this.totalBarWidth=m+b,this.width=r=t.length*m+(t.length-1)*b,this.initTarget(),y&&(s=g===N?-1/0:g,a=v===N?1/0:v);for(var j=[],C=l?[]:j,E=[],_=[],R=0,k=t.length;R<k;R++)if(l)for(u=t[R],t[R]=p=[],E[R]=0,c=C[R]=_[R]=0,d=u.length;c<d;c++)null!==(h=p[c]=y?S(u[c],s,a):u[c])&&(0<h&&(E[R]+=h),w<0&&0<x?h<0?_[R]+=I.abs(h):C[R]+=h:C[R]+=I.abs(h-(h<0?x:w)),j.push(h));else h=y?S(t[R],s,a):t[R],null!==(h=t[R]=T(h))&&j.push(h);this.max=m=I.max.apply(I,j),this.min=b=I.min.apply(I,j),this.stackMax=x=l?I.max.apply(I,E):m,this.stackMin=w=l?I.min.apply(I,j):b,n.get("chartRangeMin")!==N&&(n.get("chartRangeClip")||n.get("chartRangeMin")<b)&&(b=n.get("chartRangeMin")),n.get("chartRangeMax")!==N&&(n.get("chartRangeClip")||n.get("chartRangeMax")>m)&&(m=n.get("chartRangeMax")),this.zeroAxis=r=n.get("zeroAxis",!0),this.xaxisOffset=g=b<=0&&0<=m&&r?0:0==r||0<b?b:m,v=l?I.max.apply(I,C)+I.max.apply(I,_):m-b,this.canvasHeightEf=r&&b<0?this.canvasHeight-2:this.canvasHeight-1,b<g?(f=((l&&0<=m?x:m)-g)/v*this.canvasHeight)!==I.ceil(f)&&(this.canvasHeightEf-=2,f=I.ceil(f)):f=this.canvasHeight,this.yoffset=f,A.isArray(n.get("colorMap"))?(this.colorMapByIndex=n.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=n.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===N&&(this.colorMapByValue=new D(this.colorMapByValue))),this.range=v},getRegion:function(e,t,n){t=I.floor(t/this.totalBarWidth);return t<0||t>=this.values.length?N:t},getCurrentRegionFields:function(){for(var e,t=this.currentRegion,n=i(this.values[t]),r=[],o=n.length;o--;)e=n[o],r.push({isNull:null===e,value:e,color:this.calcColor(o,e,t),offset:t});return r},calcColor:function(e,t,n){var r,o=this.colorMapByIndex,i=this.colorMapByValue,s=this.options,a=this.stacked?s.get("stackedBarColor"):t<0?s.get("negBarColor"):s.get("barColor");return 0===t&&s.get("zeroColor")!==N&&(a=s.get("zeroColor")),i&&(r=i.get(t))?a=r:o&&o.length>n&&(a=o[n]),A.isArray(a)?a[e%a.length]:a},renderRegion:function(e,t){var n,r,o,i,s,a,l,u=this.values[e],c=this.options,d=this.xaxisOffset,p=[],h=this.range,f=this.stacked,m=this.target,b=e*this.totalBarWidth,g=this.canvasHeightEf,v=this.yoffset,y=(u=A.isArray(u)?u:[u]).length,w=(u[0],j(null,u)),x=j(d,u,!0);if(w)return c.get("nullColor")?(o=t?c.get("nullColor"):this.calcHighlightColor(c.get("nullColor"),c),m.drawRect(b,n=0<v?v-1:v,this.barWidth-1,0,o,o)):N;for(i=v,s=0;s<y;s++){if(l=u[s],f&&l===d){if(!x||a)continue;a=!0}r=0<h?I.floor(g*(I.abs(l-d)/h))+1:1,l<d||l===d&&0===v?(n=i,i+=r):(n=v-r,v-=r),o=this.calcColor(s,l,e),t&&(o=this.calcHighlightColor(o,c)),p.push(m.drawRect(b,n,this.barWidth-1,r-1,o,o))}return 1===p.length?p[0]:p}}),A.fn.sparkline.tristate=a=v(A.fn.sparkline._base,n,{type:"tristate",init:function(e,t,n,r,o){var i=parseInt(n.get("barWidth"),10),s=parseInt(n.get("barSpacing"),10);a._super.init.call(this,e,t,n,r,o),this.regionShapes={},this.barWidth=i,this.barSpacing=s,this.totalBarWidth=i+s,this.values=A.map(t,Number),this.width=r=t.length*i+(t.length-1)*s,A.isArray(n.get("colorMap"))?(this.colorMapByIndex=n.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=n.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===N&&(this.colorMapByValue=new D(this.colorMapByValue))),this.initTarget()},getRegion:function(e,t,n){return I.floor(t/this.totalBarWidth)},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:this.values[e]===N,value:this.values[e],color:this.calcColor(this.values[e],e),offset:e}},calcColor:function(e,t){var n,r=this.values,o=this.options,i=this.colorMapByIndex,s=this.colorMapByValue,o=s&&(n=s.get(e))?n:i&&i.length>t?i[t]:r[t]<0?o.get("negBarColor"):0<r[t]?o.get("posBarColor"):o.get("zeroBarColor");return o},renderRegion:function(e,t){var n,r=this.values,o=this.options,i=this.target,s=i.pixelHeight,a=I.round(s/2),s=e*this.totalBarWidth,a=r[e]<0?(n=a)-1:0<r[e]?(n=0,a-1):(n=a-1,2),e=this.calcColor(r[e],e);if(null!==e)return t&&(e=this.calcHighlightColor(e,o)),i.drawRect(s,n,this.barWidth-1,a-1,e,e)}}),A.fn.sparkline.discrete=s=v(A.fn.sparkline._base,n,{type:"discrete",init:function(e,t,n,r,o){s._super.init.call(this,e,t,n,r,o),this.regionShapes={},this.values=t=A.map(t,Number),this.min=I.min.apply(I,t),this.max=I.max.apply(I,t),this.range=this.max-this.min,this.width=r="auto"===n.get("width")?2*t.length:this.width,this.interval=I.floor(r/t.length),this.itemWidth=r/t.length,n.get("chartRangeMin")!==N&&(n.get("chartRangeClip")||n.get("chartRangeMin")<this.min)&&(this.min=n.get("chartRangeMin")),n.get("chartRangeMax")!==N&&(n.get("chartRangeClip")||n.get("chartRangeMax")>this.max)&&(this.max=n.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===n.get("lineHeight")?I.round(.3*this.canvasHeight):n.get("lineHeight"))},getRegion:function(e,t,n){return I.floor(t/this.itemWidth)},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:this.values[e]===N,value:this.values[e],offset:e}},renderRegion:function(e,t){var n=this.values,r=this.options,o=this.min,i=this.max,s=this.range,a=this.interval,l=this.target,u=this.canvasHeight,c=this.lineHeight,u=u-c,i=S(n[e],o,i),a=e*a,u=I.round(u-(i-o)/s*u),i=r.get("thresholdColor")&&i<r.get("thresholdValue")?r.get("thresholdColor"):r.get("lineColor");return t&&(i=this.calcHighlightColor(i,r)),l.drawLine(a,u,a,u+c,i)}}),A.fn.sparkline.bullet=d=v(A.fn.sparkline._base,{type:"bullet",init:function(e,t,n,r,o){var i;d._super.init.call(this,e,t,n,r,o),this.values=t=P(t),(i=t.slice())[0]=null===i[0]?i[2]:i[0],i[1]=null===t[1]?i[2]:i[1],e=I.min.apply(I,t),i=I.max.apply(I,t),e=n.get("base")===N?e<0?e:0:n.get("base"),this.min=e,this.max=i,this.range=i-e,this.shapes={},this.valueShapes={},this.regiondata={},this.width=r="auto"===n.get("width")?"4.0em":r,this.target=this.$el.simpledraw(r,o,n.get("composite")),t.length||(this.disabled=!0),this.initTarget()},getRegion:function(e,t,n){n=this.target.getShapeAt(e,t,n);return n!==N&&this.shapes[n]!==N?this.shapes[n]:N},getCurrentRegionFields:function(){var e=this.currentRegion;return{fieldkey:e.substr(0,1),value:this.values[e.substr(1)],region:e}},changeHighlight:function(e){var t,n=this.currentRegion,r=this.valueShapes[n];switch(delete this.shapes[r],n.substr(0,1)){case"r":t=this.renderRange(n.substr(1),e);break;case"p":t=this.renderPerformance(e);break;case"t":t=this.renderTarget(e)}this.valueShapes[n]=t.id,this.shapes[t.id]=n,this.target.replaceWithShape(r,t)},renderRange:function(e,t){var n=this.values[e],n=I.round(this.canvasWidth*((n-this.min)/this.range)),e=this.options.get("rangeColors")[e-2];return t&&(e=this.calcHighlightColor(e,this.options)),this.target.drawRect(0,0,n-1,this.canvasHeight-1,e,e)},renderPerformance:function(e){var t=this.values[1],n=I.round(this.canvasWidth*((t-this.min)/this.range)),t=this.options.get("performanceColor");return e&&(t=this.calcHighlightColor(t,this.options)),this.target.drawRect(0,I.round(.3*this.canvasHeight),n-1,I.round(.4*this.canvasHeight)-1,t,t)},renderTarget:function(e){var t=this.values[0],n=I.round(this.canvasWidth*((t-this.min)/this.range)-this.options.get("targetWidth")/2),r=I.round(.1*this.canvasHeight),o=this.canvasHeight-2*r,t=this.options.get("targetColor");return e&&(t=this.calcHighlightColor(t,this.options)),this.target.drawRect(n,r,this.options.get("targetWidth")-1,o-1,t,t)},render:function(){var e,t,n=this.values.length,r=this.target;if(d._super.render.call(this)){for(e=2;e<n;e++)t=this.renderRange(e).append(),this.shapes[t.id]="r"+e,this.valueShapes["r"+e]=t.id;null!==this.values[1]&&(t=this.renderPerformance().append(),this.shapes[t.id]="p1",this.valueShapes.p1=t.id),null!==this.values[0]&&(t=this.renderTarget().append(),this.shapes[t.id]="t0",this.valueShapes.t0=t.id),r.render()}}}),A.fn.sparkline.pie=p=v(A.fn.sparkline._base,{type:"pie",init:function(e,t,n,r,o){var i,s=0;if(p._super.init.call(this,e,t,n,r,o),this.shapes={},this.valueShapes={},this.values=t=A.map(t,Number),"auto"===n.get("width")&&(this.width=this.height),0<t.length)for(i=t.length;i--;)s+=t[i];this.total=s,this.initTarget(),this.radius=I.floor(I.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(e,t,n){n=this.target.getShapeAt(e,t,n);return n!==N&&this.shapes[n]!==N?this.shapes[n]:N},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:this.values[e]===N,value:this.values[e],percent:this.values[e]/this.total*100,color:this.options.get("sliceColors")[e%this.options.get("sliceColors").length],offset:e}},changeHighlight:function(e){var t=this.currentRegion,n=this.renderSlice(t,e),e=this.valueShapes[t];delete this.shapes[e],this.target.replaceWithShape(e,n),this.valueShapes[t]=n.id,this.shapes[n.id]=t},renderSlice:function(e,t){for(var n,r,o,i=this.target,s=this.options,a=this.radius,l=s.get("borderWidth"),u=s.get("offset"),c=2*I.PI,d=this.values,p=this.total,h=u?2*I.PI*(u/360):0,f=d.length,m=0;m<f;m++){if(r=n=h,0<p&&(r=h+c*(d[m]/p)),e===m)return o=s.get("sliceColors")[m%s.get("sliceColors").length],t&&(o=this.calcHighlightColor(o,s)),i.drawPieSlice(a,a,a-l,n,r,N,o);h=r}},render:function(){var e,t,n=this.target,r=this.values,o=this.options,i=this.radius,s=o.get("borderWidth");if(p._super.render.call(this)){for(s&&n.drawCircle(i,i,I.floor(i-s/2),o.get("borderColor"),N,s).append(),t=r.length;t--;)r[t]&&(e=this.renderSlice(t).append(),this.valueShapes[t]=e.id,this.shapes[e.id]=t);n.render()}}}),A.fn.sparkline.box=w=v(A.fn.sparkline._base,{type:"box",init:function(e,t,n,r,o){w._super.init.call(this,e,t,n,r,o),this.values=A.map(t,Number),this.width="auto"===n.get("width")?"4.0em":r,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var e=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==N&&e.push({field:"lo",value:this.loutlier}),this.routlier!==N&&e.push({field:"ro",value:this.routlier}),this.lwhisker!==N&&e.push({field:"lw",value:this.lwhisker}),this.rwhisker!==N&&e.push({field:"rw",value:this.rwhisker}),e},render:function(){var e,t,n,r,o,i,s,a,l,u,c=this.target,d=this.values,p=d.length,h=this.options,f=this.canvasWidth,m=this.canvasHeight,b=h.get("chartRangeMin")===N?I.min.apply(I,d):h.get("chartRangeMin"),g=h.get("chartRangeMax")===N?I.max.apply(I,d):h.get("chartRangeMax"),v=0;if(w._super.render.call(this)){if(h.get("raw"))h.get("showOutliers")&&5<d.length?(t=d[0],e=d[1],r=d[2],l=d[3],o=d[4],i=d[5],s=d[6]):(e=d[0],r=d[1],l=d[2],o=d[3],i=d[4]);else if(d.sort(function(e,t){return e-t}),r=y(d,1),l=y(d,2),n=(o=y(d,3))-r,h.get("showOutliers")){for(e=i=N,a=0;a<p;a++)e===N&&d[a]>r-n*h.get("outlierIQR")&&(e=d[a]),d[a]<o+n*h.get("outlierIQR")&&(i=d[a]);t=d[0],s=d[p-1]}else e=d[0],i=d[p-1];this.quartiles=[r,l,o],this.lwhisker=e,this.rwhisker=i,this.loutlier=t,this.routlier=s,u=f/(g-b+1),h.get("showOutliers")&&(v=I.ceil(h.get("spotRadius")),u=(f-=2*I.ceil(h.get("spotRadius")))/(g-b+1),t<e&&c.drawCircle((t-b)*u+v,m/2,h.get("spotRadius"),h.get("outlierLineColor"),h.get("outlierFillColor")).append(),i<s&&c.drawCircle((s-b)*u+v,m/2,h.get("spotRadius"),h.get("outlierLineColor"),h.get("outlierFillColor")).append()),c.drawRect(I.round((r-b)*u+v),I.round(.1*m),I.round((o-r)*u),I.round(.8*m),h.get("boxLineColor"),h.get("boxFillColor")).append(),c.drawLine(I.round((e-b)*u+v),I.round(m/2),I.round((r-b)*u+v),I.round(m/2),h.get("lineColor")).append(),c.drawLine(I.round((e-b)*u+v),I.round(m/4),I.round((e-b)*u+v),I.round(m-m/4),h.get("whiskerColor")).append(),c.drawLine(I.round((i-b)*u+v),I.round(m/2),I.round((o-b)*u+v),I.round(m/2),h.get("lineColor")).append(),c.drawLine(I.round((i-b)*u+v),I.round(m/4),I.round((i-b)*u+v),I.round(m-m/4),h.get("whiskerColor")).append(),c.drawLine(I.round((l-b)*u+v),I.round(.1*m),I.round((l-b)*u+v),I.round(.9*m),h.get("medianColor")).append(),h.get("target")&&(l=I.ceil(h.get("spotRadius")),c.drawLine(I.round((h.get("target")-b)*u+v),I.round(m/2-l),I.round((h.get("target")-b)*u+v),I.round(m/2+l),h.get("targetColor")).append(),c.drawLine(I.round((h.get("target")-b)*u+v-l),I.round(m/2),I.round((h.get("target")-b)*u+v+l),I.round(m/2),h.get("targetColor")).append()),c.render()}}}),r=v({init:function(e,t,n,r){this.target=e,this.id=t,this.type=n,this.args=r},append:function(){return this.target.appendShape(this),this}}),n=v({_pxregex:/(\d+)(px)?\s*$/i,init:function(e,t,n){e&&(this.width=e,this.height=t,this.target=n,this.lastShapeId=null,n[0]&&(n=n[0]),A.data(n,"_jqs_vcanvas",this))},drawLine:function(e,t,n,r,o,i){return this.drawShape([[e,t],[n,r]],o,i)},drawShape:function(e,t,n,r){return this._genShape("Shape",[e,t,n,r])},drawCircle:function(e,t,n,r,o,i){return this._genShape("Circle",[e,t,n,r,o,i])},drawPieSlice:function(e,t,n,r,o,i,s){return this._genShape("PieSlice",[e,t,n,r,o,i,s])},drawRect:function(e,t,n,r,o,i){return this._genShape("Rect",[e,t,n,r,o,i])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(e,t){A(t).html(e)},_calculatePixelDims:function(e,t,n){t=this._pxregex.exec(t);this.pixelHeight=t?t[1]:A(n).height(),t=this._pxregex.exec(e),this.pixelWidth=t?t[1]:A(n).width()},_genShape:function(e,t){var n=b++;return t.unshift(n),new r(this,n,e,t)},appendShape:function(e){alert("appendShape not implemented")},replaceWithShape:function(e,t){alert("replaceWithShape not implemented")},insertAfterShape:function(e,t){alert("insertAfterShape not implemented")},removeShapeId:function(e){alert("removeShapeId not implemented")},getShapeAt:function(e,t,n){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),h=v(n,{init:function(e,t,n,r){h._super.init.call(this,e,t,n),this.canvas=x.createElement("canvas"),n[0]&&(n=n[0]),A.data(n,"_jqs_vcanvas",this),A(this.canvas).css({display:"inline-block",width:e,height:t,verticalAlign:"top"}),this._insert(this.canvas,n),this._calculatePixelDims(e,t,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=r,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=N,A(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(e,t,n){var r=this.canvas.getContext("2d");return e!==N&&(r.strokeStyle=e),r.lineWidth=n===N?1:n,t!==N&&(r.fillStyle=t),r},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=N},_drawShape:function(e,t,n,r,o){var i,s,a=this._getContext(n,r,o);for(a.beginPath(),a.moveTo(t[0][0]+.5,t[0][1]+.5),i=1,s=t.length;i<s;i++)a.lineTo(t[i][0]+.5,t[i][1]+.5);n!==N&&a.stroke(),r!==N&&a.fill(),this.targetX!==N&&this.targetY!==N&&a.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawCircle:function(e,t,n,r,o,i,s){s=this._getContext(o,i,s);s.beginPath(),s.arc(t,n,r,0,2*I.PI,!1),this.targetX!==N&&this.targetY!==N&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e),o!==N&&s.stroke(),i!==N&&s.fill()},_drawPieSlice:function(e,t,n,r,o,i,s,a){var l=this._getContext(s,a);l.beginPath(),l.moveTo(t,n),l.arc(t,n,r,o,i,!1),l.lineTo(t,n),l.closePath(),s!==N&&l.stroke(),a&&l.fill(),this.targetX!==N&&this.targetY!==N&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawRect:function(e,t,n,r,o,i,s){return this._drawShape(e,[[t,n],[t+r,n],[t+r,n+o],[t,n+o],[t,n]],i,s)},appendShape:function(e){return this.shapes[e.id]=e,this.shapeseq.push(e.id),this.lastShapeId=e.id,e.id},replaceWithShape:function(e,t){var n,r=this.shapeseq;for(this.shapes[t.id]=t,n=r.length;n--;)r[n]==e&&(r[n]=t.id);delete this.shapes[e]},replaceWithShapes:function(e,t){for(var n,r,o=this.shapeseq,i={},s=e.length;s--;)i[e[s]]=!0;for(s=o.length;s--;)i[n=o[s]]&&(o.splice(s,1),delete this.shapes[n],r=s);for(s=t.length;s--;)o.splice(r,0,t[s].id),this.shapes[t[s].id]=t[s]},insertAfterShape:function(e,t){for(var n=this.shapeseq,r=n.length;r--;)if(n[r]===e)return n.splice(r+1,0,t.id),void(this.shapes[t.id]=t)},removeShapeId:function(e){for(var t=this.shapeseq,n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}delete this.shapes[e]},getShapeAt:function(e,t,n){return this.targetX=t,this.targetY=n,this.render(),this.currentTargetShapeId},render:function(){var e,t,n=this.shapeseq,r=this.shapes,o=n.length;for(this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),t=0;t<o;t++)this["_draw"+(e=r[n[t]]).type].apply(this,e.args);this.interact||(this.shapes={},this.shapeseq=[])}}),f=v(n,{init:function(e,t,n){f._super.init.call(this,e,t,n),n[0]&&(n=n[0]),A.data(n,"_jqs_vcanvas",this),this.canvas=x.createElement("span"),A(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:e,height:t,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,n),this._calculatePixelDims(e,t,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,t='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",t),this.group=A(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(e,t,n,r,o){for(var i,s,a=[],l=0,u=t.length;l<u;l++)a[l]=t[l][0]+","+t[l][1];return i=a.splice(0,1),o=o===N?1:o,s=a[0]===a[a.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+e+'" '+(n===N?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+n+'" ')+(r===N?' filled="false"':' fillColor="'+r+'" filled="true" ')+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+i+" l "+a.join(", ")+" "+s+'e"> </v:shape>'},_drawCircle:function(e,t,n,r,o,i,s){return'<v:oval  id="jqsshape'+e+'" '+(o===N?' stroked="false" ':' strokeWeight="'+s+'px" strokeColor="'+o+'" ')+(i===N?' filled="false"':' fillColor="'+i+'" filled="true" ')+' style="position:absolute;top:'+(n-=r)+"px; left:"+(t-=r)+"px; width:"+2*r+"px; height:"+2*r+'px"></v:oval>'},_drawPieSlice:function(e,t,n,r,o,i,s,a){var l,u,c,d;if(o===i)return"";if(i-o==2*I.PI&&(o=0,i=2*I.PI),l=t+I.round(I.cos(o)*r),u=n+I.round(I.sin(o)*r),c=t+I.round(I.cos(i)*r),d=n+I.round(I.sin(i)*r),l===c&&u===d){if(i-o<I.PI)return"";l=c=t+r,u=d=n}return l===c&&u===d&&i-o<I.PI?"":'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+e+'" '+(s===N?' stroked="false" ':' strokeWeight="1px" strokeColor="'+s+'" ')+(a===N?' filled="false"':' fillColor="'+a+'" filled="true" ')+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+t+","+n+" wa "+[t-r,n-r,t+r,n+r,l,u,c,d].join(", ")+' x e"> </v:shape>'},_drawRect:function(e,t,n,r,o,i,s){return this._drawShape(e,[[t,n],[t,n+o],[t+r,n+o],[t+r,n],[t,n]],i,s)},reset:function(){this.group.innerHTML=""},appendShape:function(e){var t=this["_draw"+e.type].apply(this,e.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",t):this.prerender+=t,this.lastShapeId=e.id,e.id},replaceWithShape:function(e,t){e=A("#jqsshape"+e),t=this["_draw"+t.type].apply(this,t.args);e[0].outerHTML=t},replaceWithShapes:function(e,t){for(var n=A("#jqsshape"+e[0]),r="",o=t.length,i=0;i<o;i++)r+=this["_draw"+t[i].type].apply(this,t[i].args);for(n[0].outerHTML=r,i=1;i<e.length;i++)A("#jqsshape"+e[i]).remove()},insertAfterShape:function(e,t){e=A("#jqsshape"+e),t=this["_draw"+t.type].apply(this,t.args);e[0].insertAdjacentHTML("afterEnd",t)},removeShapeId:function(e){e=A("#jqsshape"+e);this.group.removeChild(e[0])},getShapeAt:function(e,t,n){return e.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})},"function"==typeof define&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.sparkline&&e(jQuery)}(document,Math);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Tabulator=t()}(this,function(){"use strict";Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<n;){var i=t[o];if(e.call(r,i,o,t))return o;o++}return-1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<n;){var i=t[o];if(e.call(r,i,o,t))return i;o++}}}),String.prototype.includes||(String.prototype.includes=function(e,t){if(e instanceof RegExp)throw TypeError("first argument must not be a RegExp");return-1!==this.indexOf(e,t=void 0===t?0:t)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0==r)return!1;for(var o,i,t=0|t,s=Math.max(0<=t?t:r-Math.abs(t),0);s<r;){if((o=n[s])===(i=e)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;s++}return!1}}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n},writable:!0,configurable:!0});function t(e){this.table=e,this.blockHozScrollEvent=!1,this.headersElement=this.createHeadersElement(),this.element=this.createHeaderElement(),this.rowManager=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.element.insertBefore(this.headersElement,this.element.firstChild)}t.prototype.createHeadersElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-headers"),e},t.prototype.createHeaderElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-header"),this.table.options.headerVisible||e.classList.add("tabulator-header-hidden"),e},t.prototype.initialize=function(){},t.prototype.setRowManager=function(e){this.rowManager=e},t.prototype.getElement=function(){return this.element},t.prototype.getHeadersElement=function(){return this.headersElement},t.prototype.scrollHorizontal=function(e){var t=this.element.scrollWidth-this.table.element.clientWidth;t<(this.element.scrollLeft=e)?this.element.style.marginLeft=-(e-t)+"px":this.element.style.marginLeft=0,this.scrollLeft=e,this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.scrollHorizontal()},t.prototype.generateColumnsFromRowData=function(e){var t,n,r=[],o=this.table.options.autoColumnsDefinitions;if(e&&e.length){for(var i in t=e[0]){var s={field:i,title:i},a=t[i];switch(void 0===a?"undefined":_typeof(a)){case"undefined":n="string";break;case"boolean":n="boolean";break;case"object":n=Array.isArray(a)?"array":"string";break;default:n=isNaN(a)||""===a?a.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?"alphanum":"string":"number"}s.sorter=n,r.push(s)}if(o)switch(void 0===o?"undefined":_typeof(o)){case"function":this.table.options.columns=o.call(this.table,r);break;case"object":Array.isArray(o)?r.forEach(function(t){var e=o.find(function(e){return e.field===t.field});e&&Object.assign(t,e)}):r.forEach(function(e){o[e.field]&&Object.assign(e,o[e.field])}),this.table.options.columns=r}else this.table.options.columns=r;this.setColumns(this.table.options.columns)}},t.prototype.setColumns=function(e,t){for(var n=this;n.headersElement.firstChild;)n.headersElement.removeChild(n.headersElement.firstChild);n.columns=[],n.columnsByIndex=[],n.columnsByField={},n.table.modExists("frozenColumns")&&n.table.modules.frozenColumns.reset(),e.forEach(function(e,t){n._addColumn(e)}),n._reIndexColumns(),n.table.options.responsiveLayout&&n.table.modExists("responsiveLayout",!0)&&n.table.modules.responsiveLayout.initialize(),this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize(!1,!0),n.redraw(!0)},t.prototype._addColumn=function(e,t,n){var r=new a(e,this),o=r.getElement(),e=n&&this.findColumnIndex(n);return n&&-1<e?(e=this.columns.indexOf(n.getTopColumn()),n=n.getElement(),t?(this.columns.splice(e,0,r),n.parentNode.insertBefore(o,n)):(this.columns.splice(e+1,0,r),n.parentNode.insertBefore(o,n.nextSibling))):(t?(this.columns.unshift(r),this.headersElement.insertBefore(r.getElement(),this.headersElement.firstChild)):(this.columns.push(r),this.headersElement.appendChild(r.getElement())),r.columnRendered()),r},t.prototype.registerColumnField=function(e){e.definition.field&&(this.columnsByField[e.definition.field]=e)},t.prototype.registerColumnPosition=function(e){this.columnsByIndex.push(e)},t.prototype._reIndexColumns=function(){this.columnsByIndex=[],this.columns.forEach(function(e){e.reRegisterPosition()})},t.prototype._verticalAlignHeaders=function(){var t=this,n=0;t.columns.forEach(function(e){e.clearVerticalAlign(),(e=e.getHeight())>n&&(n=e)}),t.columns.forEach(function(e){e.verticalAlign(t.table.options.columnHeaderVertAlign,n)}),t.rowManager.adjustTableSize()},t.prototype.findColumn=function(t){return"object"!=(void 0===t?"undefined":_typeof(t))?this.columnsByField[t]||!1:t instanceof a?t:t instanceof n?t._getSelf()||!1:"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&this.columns.find(function(e){return e.element===t})||!1},t.prototype.getColumnByField=function(e){return this.columnsByField[e]},t.prototype.getColumnsByFieldRoot=function(t){var n=this,r=[];return Object.keys(this.columnsByField).forEach(function(e){e.split(".")[0]===t&&r.push(n.columnsByField[e])}),r},t.prototype.getColumnByIndex=function(e){return this.columnsByIndex[e]},t.prototype.getFirstVisibileColumn=function(e){return-1<(e=this.columnsByIndex.findIndex(function(e){return e.visible}))&&this.columnsByIndex[e]},t.prototype.getColumns=function(){return this.columns},t.prototype.findColumnIndex=function(t){return this.columnsByIndex.findIndex(function(e){return t===e})},t.prototype.getRealColumns=function(){return this.columnsByIndex},t.prototype.traverse=function(n){this.columnsByIndex.forEach(function(e,t){n(e,t)})},t.prototype.getDefinitions=function(t){var n=[];return this.columnsByIndex.forEach(function(e){t&&!e.visible||n.push(e.getDefinition())}),n},t.prototype.getDefinitionTree=function(){var t=[];return this.columns.forEach(function(e){t.push(e.getDefinition(!0))}),t},t.prototype.getComponents=function(e){var t=[];return(e?this.columns:this.columnsByIndex).forEach(function(e){t.push(e.getComponent())}),t},t.prototype.getWidth=function(){var t=0;return this.columnsByIndex.forEach(function(e){e.visible&&(t+=e.getWidth())}),t},t.prototype.moveColumn=function(e,t,n){this.moveColumnActual(e,t,n),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),t.element.parentNode.insertBefore(e.element,t.element),n&&t.element.parentNode.insertBefore(t.element,e.element),this._verticalAlignHeaders(),this.table.rowManager.reinitialize()},t.prototype.moveColumnActual=function(e,t,n){e.parent.isGroup?this._moveColumnInArray(e.parent.columns,e,t,n):this._moveColumnInArray(this.columns,e,t,n),this._moveColumnInArray(this.columnsByIndex,e,t,n,!0),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize(!0),this.table.options.columnMoved&&this.table.options.columnMoved.call(this.table,e.getComponent(),this.table.columnManager.getComponents()),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns")},t.prototype._moveColumnInArray=function(e,t,n,r,o){var i,s=this,a=e.indexOf(t),l=[];-1<a&&(e.splice(a,1),-1<(i=e.indexOf(n))?r&&(i+=1):i=a,e.splice(i,0,t),o&&(this.table.options.dataTree&&this.table.modExists("dataTree",!0)&&this.table.rowManager.rows.forEach(function(e){l=l.concat(s.table.modules.dataTree.getTreeChildren(e,!1,!0))}),(l=l.concat(this.table.rowManager.rows)).forEach(function(e){var t;e.cells.length&&(t=e.cells.splice(a,1)[0],e.cells.splice(i,0,t))})))},t.prototype.scrollToColumn=function(n,r,o){var i,s=this,a=0,l=0,u=n.getElement();return new Promise(function(e,t){if(void 0===r&&(r=s.table.options.scrollToColumnPosition),void 0===o&&(o=s.table.options.scrollToColumnIfVisible),n.visible){switch(r){case"middle":case"center":l=-s.element.clientWidth/2;break;case"right":l=u.clientWidth-s.headersElement.clientWidth}if(!o&&0<(a=u.offsetLeft)&&a+u.offsetWidth<s.element.clientWidth)return!1;i=u.offsetLeft+l,i=Math.max(Math.min(i,s.table.rowManager.element.scrollWidth-s.table.rowManager.element.clientWidth),0),s.table.rowManager.scrollHorizontal(i),s.scrollHorizontal(i),e()}else console.warn("Scroll Error - Column not visible"),t("Scroll Error - Column not visible")})},t.prototype.generateCells=function(t){var n=[];return this.columnsByIndex.forEach(function(e){n.push(e.generateCell(t))}),n},t.prototype.getFlexBaseWidth=function(){var n=this,r=n.table.element.clientWidth,o=0;return n.rowManager.element.scrollHeight>n.rowManager.element.clientHeight&&(r-=n.rowManager.element.offsetWidth-n.rowManager.element.clientWidth),this.columnsByIndex.forEach(function(e){var t;e.visible&&(t=e.definition.width||0,e=void 0===e.minWidth?n.table.options.columnMinWidth:parseInt(e.minWidth),t="string"==typeof t?-1<t.indexOf("%")?r/100*parseInt(t):parseInt(t):t,o+=e<t?t:e)}),o},t.prototype.addColumn=function(r,o,i){var s=this;return new Promise(function(e,t){var n=s._addColumn(r,o,i);s._reIndexColumns(),s.table.options.responsiveLayout&&s.table.modExists("responsiveLayout",!0)&&s.table.modules.responsiveLayout.initialize(),s.table.modExists("columnCalcs")&&s.table.modules.columnCalcs.recalc(s.table.rowManager.activeRows),s.redraw(!0),"fitColumns"!=s.table.modules.layout.getMode()&&n.reinitializeWidth(),s._verticalAlignHeaders(),s.table.rowManager.reinitialize(),s.table.options.virtualDomHoz&&s.table.vdomHoz.reinitialize(),e(n)})},t.prototype.deregisterColumn=function(e){var t=e.getField();t&&delete this.columnsByField[t],-1<(t=this.columnsByIndex.indexOf(e))&&this.columnsByIndex.splice(t,1),-1<(t=this.columns.indexOf(e))&&this.columns.splice(t,1),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this._verticalAlignHeaders(),this.redraw()},t.prototype.redraw=function(e){e&&(L.prototype.helpers.elVisible(this.element)&&this._verticalAlignHeaders(),this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),-1<["fitColumns","fitDataStretch"].indexOf(this.table.modules.layout.getMode())||e?this.table.modules.layout.layout():this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout(),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),e&&(this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.redraw()),this.table.footerManager.redraw()};var n=function(e){this._column=e,this.type="ColumnComponent"};n.prototype.getElement=function(){return this._column.getElement()},n.prototype.getDefinition=function(){return this._column.getDefinition()},n.prototype.getField=function(){return this._column.getField()},n.prototype.getCells=function(){var t=[];return this._column.cells.forEach(function(e){t.push(e.getComponent())}),t},n.prototype.getVisibility=function(){return console.warn("getVisibility function is deprecated, you should now use the isVisible function"),this._column.visible},n.prototype.isVisible=function(){return this._column.visible},n.prototype.show=function(){this._column.isGroup?this._column.columns.forEach(function(e){e.show()}):this._column.show()},n.prototype.hide=function(){this._column.isGroup?this._column.columns.forEach(function(e){e.hide()}):this._column.hide()},n.prototype.toggle=function(){this._column.visible?this.hide():this.show()},n.prototype.delete=function(){return this._column.delete()},n.prototype.getSubColumns=function(){var t=[];return this._column.columns.length&&this._column.columns.forEach(function(e){t.push(e.getComponent())}),t},n.prototype.getParentColumn=function(){return this._column.parent instanceof a&&this._column.parent.getComponent()},n.prototype._getSelf=function(){return this._column},n.prototype.scrollTo=function(){return this._column.table.columnManager.scrollToColumn(this._column)},n.prototype.getTable=function(){return this._column.table},n.prototype.headerFilterFocus=function(){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.setHeaderFilterFocus(this._column)},n.prototype.reloadHeaderFilter=function(){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.reloadHeaderFilter(this._column)},n.prototype.getHeaderFilterValue=function(){if(this._column.table.modExists("filter",!0))return this._column.table.modules.filter.getHeaderFilterValue(this._column)},n.prototype.setHeaderFilterValue=function(e){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.setHeaderFilterValue(this._column,e)},n.prototype.move=function(e,t){e=this._column.table.columnManager.findColumn(e);e?this._column.table.columnManager.moveColumn(this._column,e,t):console.warn("Move Error - No matching column found:",e)},n.prototype.getNextColumn=function(){var e=this._column.nextColumn();return!!e&&e.getComponent()},n.prototype.getPrevColumn=function(){var e=this._column.prevColumn();return!!e&&e.getComponent()},n.prototype.updateDefinition=function(e){return this._column.updateDefinition(e)},n.prototype.getWidth=function(){return this._column.getWidth()},n.prototype.setWidth=function(e){e=!0===e?this._column.reinitializeWidth(!0):this._column.setWidth(e);return this._column.table.options.virtualDomHoz&&this._column.table.vdomHoz.reinitialize(!0),e},n.prototype.validate=function(){return this._column.validate()};var a=function n(e,t){var r=this;this.table=t.table,this.definition=e,this.parent=t,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.tooltip=!1,this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleFormatterRendered=!1,this.setField(this.definition.field),this.table.options.invalidOptionWarnings&&this.checkDefinition(),this.modules={},this.cellEvents={cellClick:!1,cellDblClick:!1,cellContext:!1,cellTap:!1,cellDblTap:!1,cellTapHold:!1,cellMouseEnter:!1,cellMouseLeave:!1,cellMouseOver:!1,cellMouseOut:!1,cellMouseMove:!1},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this._mapDepricatedFunctionality(),e.columns?(this.isGroup=!0,e.columns.forEach(function(e,t){e=new n(e,r);r.attachColumn(e)}),r.checkColumnVisibility()):t.registerColumnField(this),e.rowHandle&&!1!==this.table.options.movableRows&&this.table.modExists("moveRow")&&this.table.modules.moveRow.setHandle(!0),this._buildHeader(),this.bindModuleColumns()};a.prototype.createElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),e},a.prototype.createGroupElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-col-group-cols"),e},a.prototype.checkDefinition=function(){var t=this;Object.keys(this.definition).forEach(function(e){-1===t.defaultOptionList.indexOf(e)&&console.warn("Invalid column definition option in '"+(t.field||t.definition.title)+"' column:",e)})},a.prototype.setField=function(e){this.field=e,this.fieldStructure=e?this.table.options.nestedFieldSeparator?e.split(this.table.options.nestedFieldSeparator):[e]:[],this.getFieldValue=1<this.fieldStructure.length?this._getNestedData:this._getFlatData,this.setFieldValue=1<this.fieldStructure.length?this._setNestedData:this._setFlatData},a.prototype.registerColumnPosition=function(e){this.parent.registerColumnPosition(e)},a.prototype.registerColumnField=function(e){this.parent.registerColumnField(e)},a.prototype.reRegisterPosition=function(){this.isGroup?this.columns.forEach(function(e){e.reRegisterPosition()}):this.registerColumnPosition(this)},a.prototype._mapDepricatedFunctionality=function(){void 0!==this.definition.hideInHtml&&(this.definition.htmlOutput=!this.definition.hideInHtml,console.warn("hideInHtml column definition property is deprecated, you should now use htmlOutput")),void 0!==this.definition.align&&(this.definition.hozAlign=this.definition.align,console.warn("align column definition property is deprecated, you should now use hozAlign")),void 0!==this.definition.downloadTitle&&(this.definition.titleDownload=this.definition.downloadTitle,console.warn("downloadTitle definition property is deprecated, you should now use titleDownload"))},a.prototype.setTooltip=function(){var t=this,n=t.definition,e=n.headerTooltip||!1===n.tooltip?n.headerTooltip:t.table.options.tooltipsHeader;e?!0===e?n.field?t.table.modules.localize.bind("columns|"+n.field,function(e){t.element.setAttribute("title",e||n.title)}):t.element.setAttribute("title",n.title):("function"==typeof e&&!1===(e=e(t.getComponent()))&&(e=""),t.element.setAttribute("title",e)):t.element.setAttribute("title","")},a.prototype._buildHeader=function(){for(var t=this,e=t.definition;t.element.firstChild;)t.element.removeChild(t.element.firstChild);e.headerVertical&&(t.element.classList.add("tabulator-col-vertical"),"flip"===e.headerVertical&&t.element.classList.add("tabulator-col-vertical-flip")),t.contentElement=t._bindEvents(),t.contentElement=t._buildColumnHeaderContent(),t.element.appendChild(t.contentElement),t.isGroup?t._buildGroupHeader():t._buildColumnHeader(),t.setTooltip(),t.table.options.resizableColumns&&t.table.modExists("resizeColumns")&&t.table.modules.resizeColumns.initializeColumn("header",t,t.element),e.headerFilter&&t.table.modExists("filter")&&t.table.modExists("edit")&&(void 0!==e.headerFilterPlaceholder&&e.field&&t.table.modules.localize.setHeaderFilterColumnPlaceholder(e.field,e.headerFilterPlaceholder),t.table.modules.filter.initializeColumn(t)),t.table.modExists("frozenColumns")&&t.table.modules.frozenColumns.initializeColumn(t),t.table.options.movableColumns&&!t.isGroup&&t.table.modExists("moveColumn")&&t.table.modules.moveColumn.initializeColumn(t),(e.topCalc||e.bottomCalc)&&t.table.modExists("columnCalcs")&&t.table.modules.columnCalcs.initializeColumn(t),t.table.modExists("persistence")&&t.table.modules.persistence.config.columns&&t.table.modules.persistence.initializeColumn(t),t.element.addEventListener("mouseenter",function(e){t.setTooltip()})},a.prototype._bindEvents=function(){var t,n,r,o=this,i=o.definition;"function"==typeof i.headerClick&&o.element.addEventListener("click",function(e){i.headerClick(e,o.getComponent())}),"function"==typeof i.headerDblClick&&o.element.addEventListener("dblclick",function(e){i.headerDblClick(e,o.getComponent())}),"function"==typeof i.headerContext&&o.element.addEventListener("contextmenu",function(e){i.headerContext(e,o.getComponent())}),"function"==typeof i.headerTap&&(r=!1,o.element.addEventListener("touchstart",function(e){r=!0},{passive:!0}),o.element.addEventListener("touchend",function(e){r&&i.headerTap(e,o.getComponent()),r=!1})),"function"==typeof i.headerDblTap&&(t=null,o.element.addEventListener("touchend",function(e){t?(clearTimeout(t),t=null,i.headerDblTap(e,o.getComponent())):t=setTimeout(function(){clearTimeout(t),t=null},300)})),"function"==typeof i.headerTapHold&&(n=null,o.element.addEventListener("touchstart",function(e){clearTimeout(n),n=setTimeout(function(){clearTimeout(n),n=null,r=!1,i.headerTapHold(e,o.getComponent())},1e3)},{passive:!0}),o.element.addEventListener("touchend",function(e){clearTimeout(n),n=null})),"function"==typeof i.cellClick&&(o.cellEvents.cellClick=i.cellClick),"function"==typeof i.cellDblClick&&(o.cellEvents.cellDblClick=i.cellDblClick),"function"==typeof i.cellContext&&(o.cellEvents.cellContext=i.cellContext),"function"==typeof i.cellMouseEnter&&(o.cellEvents.cellMouseEnter=i.cellMouseEnter),"function"==typeof i.cellMouseLeave&&(o.cellEvents.cellMouseLeave=i.cellMouseLeave),"function"==typeof i.cellMouseOver&&(o.cellEvents.cellMouseOver=i.cellMouseOver),"function"==typeof i.cellMouseOut&&(o.cellEvents.cellMouseOut=i.cellMouseOut),"function"==typeof i.cellMouseMove&&(o.cellEvents.cellMouseMove=i.cellMouseMove),"function"==typeof i.cellTap&&(o.cellEvents.cellTap=i.cellTap),"function"==typeof i.cellDblTap&&(o.cellEvents.cellDblTap=i.cellDblTap),"function"==typeof i.cellTapHold&&(o.cellEvents.cellTapHold=i.cellTapHold),"function"==typeof i.cellEdited&&(o.cellEvents.cellEdited=i.cellEdited),"function"==typeof i.cellEditing&&(o.cellEvents.cellEditing=i.cellEditing),"function"==typeof i.cellEditCancelled&&(o.cellEvents.cellEditCancelled=i.cellEditCancelled)},a.prototype._buildColumnHeader=function(){var t=this,e=this.definition,n=this.table;n.modExists("sort")&&n.modules.sort.initializeColumn(this,this.titleHolderElement),(e.headerContextMenu||e.headerClickMenu||e.headerMenu)&&n.modExists("menu")&&n.modules.menu.initializeColumnHeader(this),n.modExists("format")&&n.modules.format.initializeColumn(this),void 0!==e.editor&&n.modExists("edit")&&n.modules.edit.initializeColumn(this),void 0!==e.validator&&n.modExists("validate")&&n.modules.validate.initializeColumn(this),n.modExists("mutator")&&n.modules.mutator.initializeColumn(this),n.modExists("accessor")&&n.modules.accessor.initializeColumn(this),_typeof(n.options.responsiveLayout)&&n.modExists("responsiveLayout")&&n.modules.responsiveLayout.initializeColumn(this),void 0!==e.visible&&(e.visible?this.show(!0):this.hide(!0)),e.cssClass&&e.cssClass.split(" ").forEach(function(e){t.element.classList.add(e)}),e.field&&this.element.setAttribute("tabulator-field",e.field),this.setMinWidth(void 0===e.minWidth?this.table.options.columnMinWidth:parseInt(e.minWidth)),(e.maxWidth||this.table.options.columnMaxWidth)&&!1!==e.maxWidth&&this.setMaxWidth(void 0===e.maxWidth?this.table.options.columnMaxWidth:parseInt(e.maxWidth)),this.reinitializeWidth(),this.tooltip=this.definition.tooltip||!1===this.definition.tooltip?this.definition.tooltip:this.table.options.tooltips,this.hozAlign=void 0===this.definition.hozAlign?this.table.options.cellHozAlign:this.definition.hozAlign,this.vertAlign=void 0===this.definition.vertAlign?this.table.options.cellVertAlign:this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign||this.table.options.headerHozAlign},a.prototype._buildColumnHeaderContent=function(){var e=(this.definition,this.table,document.createElement("div"));return e.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),e.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),e},a.prototype._buildColumnHeaderTitle=function(){var t,n=this,r=n.definition,e=n.table,o=document.createElement("div");return o.classList.add("tabulator-col-title"),r.editableTitle?((t=document.createElement("input")).classList.add("tabulator-title-editor"),t.addEventListener("click",function(e){e.stopPropagation(),t.focus()}),t.addEventListener("change",function(){r.title=t.value,e.options.columnTitleChanged.call(n.table,n.getComponent())}),o.appendChild(t),r.field?e.modules.localize.bind("columns|"+r.field,function(e){t.value=e||r.title||"&nbsp;"}):t.value=r.title||"&nbsp;"):r.field?e.modules.localize.bind("columns|"+r.field,function(e){n._formatColumnHeaderTitle(o,e||r.title||"&nbsp;")}):n._formatColumnHeaderTitle(o,r.title||"&nbsp;"),o},a.prototype._formatColumnHeaderTitle=function(e,t){var n,r,o,i,s,a=this;if(this.definition.titleFormatter&&this.table.modExists("format"))switch(n=this.table.modules.format.getFormatter(this.definition.titleFormatter),s=function(e){a.titleFormatterRendered=e},i={getValue:function(){return t},getElement:function(){return e}},o=this.definition.titleFormatterParams||{},o="function"==typeof o?o():o,r=n.call(this.table.modules.format,i,o,s),void 0===r?"undefined":_typeof(r)){case"object":r instanceof Node?e.appendChild(r):(e.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",r));break;case"undefined":case"null":e.innerHTML="";break;default:e.innerHTML=r}else e.innerHTML=t},a.prototype._buildGroupHeader=function(){var t=this;this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass&&this.definition.cssClass.split(" ").forEach(function(e){t.element.classList.add(e)}),(this.definition.headerContextMenu||this.definition.headerMenu)&&this.table.modExists("menu")&&this.table.modules.menu.initializeColumnHeader(this),this.titleElement.style.textAlign=this.definition.headerHozAlign||this.table.options.headerHozAlign,this.element.appendChild(this.groupElement)},a.prototype._getFlatData=function(e){return e[this.field]},a.prototype._getNestedData=function(e){for(var t,n=e,r=this.fieldStructure,o=r.length,i=0;i<o&&(t=n=n[r[i]]);i++);return t},a.prototype._setFlatData=function(e,t){this.field&&(e[this.field]=t)},a.prototype._setNestedData=function(e,t){for(var n=e,r=this.fieldStructure,o=r.length,i=0;i<o;i++)if(i==o-1)n[r[i]]=t;else{if(!n[r[i]]){if(void 0===t)break;n[r[i]]={}}n=n[r[i]]}},a.prototype.attachColumn=function(e){this.groupElement?(this.columns.push(e),this.groupElement.appendChild(e.getElement())):console.warn("Column Warning - Column being attached to another column instead of column group")},a.prototype.verticalAlign=function(t,e){e=this.parent.isGroup?this.parent.getGroupElement().clientHeight:e||this.parent.getHeadersElement().clientHeight;this.element.style.height=e+"px",this.isGroup&&(this.groupElement.style.minHeight=e-this.contentElement.offsetHeight+"px"),this.isGroup||"top"===t||(this.element.style.paddingTop="bottom"===t?this.element.clientHeight-this.contentElement.offsetHeight+"px":(this.element.clientHeight-this.contentElement.offsetHeight)/2+"px"),this.columns.forEach(function(e){e.verticalAlign(t)})},a.prototype.clearVerticalAlign=function(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach(function(e){e.clearVerticalAlign()})},a.prototype.bindModuleColumns=function(){"rownum"==this.definition.formatter&&(this.table.rowManager.rowNumColumn=this)},a.prototype.getElement=function(){return this.element},a.prototype.getGroupElement=function(){return this.groupElement},a.prototype.getField=function(){return this.field},a.prototype.getFirstColumn=function(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this},a.prototype.getLastColumn=function(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this},a.prototype.getColumns=function(){return this.columns},a.prototype.getCells=function(){return this.cells},a.prototype.getTopColumn=function(){return this.parent.isGroup?this.parent.getTopColumn():this},a.prototype.getDefinition=function(e){var t=[];return this.isGroup&&e&&(this.columns.forEach(function(e){t.push(e.getDefinition(!0))}),this.definition.columns=t),this.definition},a.prototype.checkColumnVisibility=function(){var t=!1;this.columns.forEach(function(e){e.visible&&(t=!0)}),t?(this.show(),this.parent.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!1)):this.hide()},a.prototype.show=function(e,t){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(e){e.show()}),this.isGroup||null!==this.width||this.reinitializeWidth(),this.table.columnManager._verticalAlignHeaders(),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),!t&&this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.updateColumnVisibility(this,this.visible),e||this.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),!this.silent&&this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize())},a.prototype.hide=function(e,t){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager._verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(e){e.hide()}),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),!t&&this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.updateColumnVisibility(this,this.visible),e||this.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),!this.silent&&this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize())},a.prototype.matchChildWidths=function(){var t=0;this.contentElement&&this.columns.length&&(this.columns.forEach(function(e){e.visible&&(t+=e.getWidth())}),this.contentElement.style.maxWidth=t-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())},a.prototype.removeChild=function(e){e=this.columns.indexOf(e);-1<e&&this.columns.splice(e,1),this.columns.length||this.delete()},a.prototype.setWidth=function(e){this.widthFixed=!0,this.setWidthActual(e)},a.prototype.setWidthActual=function(e){isNaN(e)&&(e=Math.floor(this.table.element.clientWidth/100*parseInt(e))),e=Math.max(this.minWidth,e),this.maxWidth&&(e=Math.min(this.maxWidth,e)),this.width=e,this.widthStyled=e?e+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach(function(e){e.setWidth()}),this.parent.isGroup&&this.parent.matchChildWidths(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()},a.prototype.checkCellHeights=function(){var t=[];this.cells.forEach(function(e){e.row.heightInitialized&&(null!==e.row.getElement().offsetParent?(t.push(e.row),e.row.clearCellHeight()):e.row.heightInitialized=!1)}),t.forEach(function(e){e.calcHeight()}),t.forEach(function(e){e.setCellHeight()})},a.prototype.getWidth=function(){var t=0;return this.isGroup?this.columns.forEach(function(e){e.visible&&(t+=e.getWidth())}):t=this.width,t},a.prototype.getHeight=function(){return this.element.offsetHeight},a.prototype.setMinWidth=function(e){this.minWidth=e,this.minWidthStyled=e?e+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach(function(e){e.setMinWidth()})},a.prototype.setMaxWidth=function(e){this.maxWidth=e,this.maxWidthStyled=e?e+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach(function(e){e.setMaxWidth()})},a.prototype.delete=function(){var o=this;return new Promise(function(e,t){o.isGroup&&o.columns.forEach(function(e){e.delete()}),o.table.modExists("edit")&&o.table.modules.edit.currentCell.column===o&&o.table.modules.edit.cancelEdit();for(var n=o.cells.length,r=0;r<n;r++)o.cells[0].delete();o.element.parentNode&&o.element.parentNode.removeChild(o.element),o.element=!1,o.contentElement=!1,o.titleElement=!1,o.groupElement=!1,o.parent.isGroup&&o.parent.removeChild(o),o.table.columnManager.deregisterColumn(o),o.table.options.virtualDomHoz&&o.table.vdomHoz.reinitialize(!0),e()})},a.prototype.columnRendered=function(){this.titleFormatterRendered&&this.titleFormatterRendered()},a.prototype.validate=function(){var t=[];return this.cells.forEach(function(e){e.validate()||t.push(e.getComponent())}),!t.length||t},a.prototype.generateCell=function(e){e=new u(this,e);return this.cells.push(e),e},a.prototype.nextColumn=function(){var e=this.table.columnManager.findColumnIndex(this);return-1<e&&this._nextVisibleColumn(e+1)},a.prototype._nextVisibleColumn=function(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._nextVisibleColumn(e+1)},a.prototype.prevColumn=function(){var e=this.table.columnManager.findColumnIndex(this);return-1<e&&this._prevVisibleColumn(e-1)},a.prototype._prevVisibleColumn=function(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._prevVisibleColumn(e-1)},a.prototype.reinitializeWidth=function(e){this.widthFixed=!1,void 0===this.definition.width||e||this.setWidth(this.definition.width),this.table.modExists("filter")&&this.table.modules.filter.hideHeaderFilterElements(),this.fitToData(),this.table.modExists("filter")&&this.table.modules.filter.showHeaderFilterElements()},a.prototype.fitToData=function(){this.widthFixed||(this.element.style.width="",this.cells.forEach(function(e){e.clearWidth()}));var t=this.element.offsetWidth;this.width&&this.widthFixed||(this.cells.forEach(function(e){e=e.getWidth();t<e&&(t=e)}),t&&this.setWidthActual(t+1))},a.prototype.updateDefinition=function(e){var o=this;return new Promise(function(t,n){var r;o.isGroup||o.parent.isGroup?(console.warn("Column Update Error - The updateDefinition function is only available on ungrouped columns"),n("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(r=Object.assign({},o.getDefinition()),r=Object.assign(r,e),o.table.columnManager.addColumn(r,!1,o).then(function(e){r.field==o.field&&(o.field=!1),o.delete().then(function(){t(e.getComponent())}).catch(function(e){n(e)})}).catch(function(e){n(e)}))})},a.prototype.deleteCell=function(e){e=this.cells.indexOf(e);-1<e&&this.cells.splice(e,1)},a.prototype.defaultOptionList=["title","field","columns","visible","align","hozAlign","vertAlign","width","minWidth","maxWidth","widthGrow","widthShrink","resizable","frozen","responsive","tooltip","cssClass","rowHandle","hideInHtml","print","htmlOutput","sorter","sorterParams","formatter","formatterParams","variableHeight","editable","editor","editorParams","validator","mutator","mutatorParams","mutatorData","mutatorDataParams","mutatorEdit","mutatorEditParams","mutatorClipboard","mutatorClipboardParams","accessor","accessorParams","accessorData","accessorDataParams","accessorDownload","accessorDownloadParams","accessorClipboard","accessorClipboardParams","accessorPrint","accessorPrintParams","accessorHtmlOutput","accessorHtmlOutputParams","clipboard","download","downloadTitle","topCalc","topCalcParams","topCalcFormatter","topCalcFormatterParams","bottomCalc","bottomCalcParams","bottomCalcFormatter","bottomCalcFormatterParams","cellClick","cellDblClick","cellContext","cellTap","cellDblTap","cellTapHold","cellMouseEnter","cellMouseLeave","cellMouseOver","cellMouseOut","cellMouseMove","cellEditing","cellEdited","cellEditCancelled","headerSort","headerSortStartingDir","headerSortTristate","headerClick","headerDblClick","headerContext","headerTap","headerDblTap","headerTapHold","headerTooltip","headerVertical","headerHozAlign","editableTitle","titleFormatter","titleFormatterParams","headerFilter","headerFilterPlaceholder","headerFilterParams","headerFilterEmptyCheck","headerFilterFunc","headerFilterFuncParams","headerFilterLiveFilter","print","headerContextMenu","headerMenu","contextMenu","clickMenu","formatterPrint","formatterPrintParams","formatterClipboard","formatterClipboardParams","formatterHtmlOutput","formatterHtmlOutputParams","titlePrint","titleClipboard","titleHtmlOutput","titleDownload"],a.prototype.getComponent=function(){return this.component||(this.component=new n(this)),this.component};function r(e){this.table=e,this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.columnManager=null,this.height=0,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[],this.rowNumColumn=!1,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRederInPosition=!1}r.prototype.createHolderElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-tableHolder"),e.setAttribute("tabindex",0),e},r.prototype.createTableElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-table"),e},r.prototype.getElement=function(){return this.element},r.prototype.getTableElement=function(){return this.tableElement},r.prototype.getRowPosition=function(e,t){return(t?this.activeRows:this.rows).indexOf(e)},r.prototype.setColumnManager=function(e){this.columnManager=e},r.prototype.initialize=function(){var n=this;n.setRenderMode(),n.element.appendChild(n.tableElement),n.firstRender=!0,n.element.addEventListener("scroll",function(){var e=n.element.scrollLeft;n.scrollLeft!=e&&(n.columnManager.scrollHorizontal(e),n.table.options.groupBy&&n.table.modules.groupRows.scrollHeaders(e),n.table.modExists("columnCalcs")&&n.table.modules.columnCalcs.scrollHorizontal(e),n.table.options.scrollHorizontal(e)),n.scrollLeft=e}),"virtual"===this.renderMode&&n.element.addEventListener("scroll",function(){var e=n.element.scrollTop,t=n.scrollTop>e;n.scrollTop!=e?(n.scrollTop=e,n.scrollVertical(t),"scroll"==n.table.options.ajaxProgressiveLoad&&n.table.modules.ajax.nextPage(n.element.scrollHeight-n.element.clientHeight-e),n.table.options.scrollVertical(e)):n.scrollTop=e})},r.prototype.findRow=function(t){var n=this;return"object"!=(void 0===t?"undefined":_typeof(t))?null!=t&&n.rows.find(function(e){return e.data[n.table.options.index]==t})||!1:t instanceof l?t:t instanceof s?t._getSelf()||!1:"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&n.rows.find(function(e){return e.getElement()===t})||!1},r.prototype.getRowFromDataObject=function(t){return this.rows.find(function(e){return e.data===t})||!1},r.prototype.getRowFromPosition=function(e,t){return(t?this.activeRows:this.rows)[e]},r.prototype.scrollToRow=function(e,n,r){var o,i=this,s=this.getDisplayRows().indexOf(e),a=e.getElement(),l=0;return new Promise(function(e,t){if(-1<s){if(void 0===n&&(n=i.table.options.scrollToRowPosition),void 0===r&&(r=i.table.options.scrollToRowIfVisible),"nearest"===n)switch(i.renderMode){case"classic":o=L.prototype.helpers.elOffset(a).top,n=Math.abs(i.element.scrollTop-o)>Math.abs(i.element.scrollTop+i.element.clientHeight-o)?"bottom":"top";break;case"virtual":n=Math.abs(i.vDomTop-s)>Math.abs(i.vDomBottom-s)?"bottom":"top"}if(!r&&L.prototype.helpers.elVisible(a)&&0<(l=L.prototype.helpers.elOffset(a).top-L.prototype.helpers.elOffset(i.element).top)&&l<i.element.clientHeight-a.offsetHeight)return!1;switch(i.renderMode){case"classic":i.element.scrollTop=L.prototype.helpers.elOffset(a).top-L.prototype.helpers.elOffset(i.element).top+i.element.scrollTop;break;case"virtual":i._virtualRenderFill(s,!0)}switch(n){case"middle":case"center":i.element.scrollHeight-i.element.scrollTop==i.element.clientHeight?i.element.scrollTop=i.element.scrollTop+(a.offsetTop-i.element.scrollTop)-(i.element.scrollHeight-a.offsetTop)/2:i.element.scrollTop=i.element.scrollTop-i.element.clientHeight/2;break;case"bottom":i.element.scrollHeight-i.element.scrollTop==i.element.clientHeight?i.element.scrollTop=i.element.scrollTop-(i.element.scrollHeight-a.offsetTop)+a.offsetHeight:i.element.scrollTop=i.element.scrollTop-i.element.clientHeight+a.offsetHeight}e()}else console.warn("Scroll Error - Row not visible"),t("Scroll Error - Row not visible")})},r.prototype.setData=function(n,r,o){var i=this,s=this;return new Promise(function(e,t){r&&i.getDisplayRows().length?s.table.options.pagination?s._setDataActual(n,!0):i.reRenderInPosition(function(){s._setDataActual(n)}):(i.table.options.autoColumns&&o&&i.table.columnManager.generateColumnsFromRowData(n),i.resetScroll(),i._setDataActual(n)),e()})},r.prototype._setDataActual=function(e,t){var r=this;r.table.options.dataLoading.call(this.table,e),this._wipeElements(),this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.clear(),Array.isArray(e)?(this.table.modExists("selectRow")&&this.table.modules.selectRow.clearSelectionData(),this.table.options.reactiveData&&this.table.modExists("reactiveData",!0)&&this.table.modules.reactiveData.watchData(e),e.forEach(function(e,t){var n;e&&"object"===(void 0===e?"undefined":_typeof(e))?(n=new l(e,r),r.rows.push(n)):console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",e)}),r.refreshActiveData(!1,!1,t),r.table.options.dataLoaded.call(this.table,e)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",void 0===e?"undefined":_typeof(e),"\nData:     ",e)},r.prototype._wipeElements=function(){this.rows.forEach(function(e){e.wipe()}),this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.wipe(),this.rows=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.adjustTableSize()},r.prototype.deleteRow=function(n,e){var t=this.rows.indexOf(n),r=this.activeRows.indexOf(n);-1<r&&this.activeRows.splice(r,1),-1<t&&this.rows.splice(t,1),this.setActiveRows(this.activeRows),this.displayRowIterator(function(e){var t=e.indexOf(n);-1<t&&e.splice(t,1)}),e||this.reRenderInPosition(),this.regenerateRowNumbers(),this.table.options.rowDeleted.call(this.table,n.getComponent()),this.table.options.dataChanged&&this.table.options.dataChanged.call(this.table,this.getData()),this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.updateGroupRows(!0):this.table.options.pagination&&this.table.modExists("page")?this.refreshActiveData(!1,!1,!0):this.table.options.pagination&&this.table.modExists("page")&&this.refreshActiveData("page")},r.prototype.addRow=function(e,t,n,r){r=this.addRowActual(e,t,n,r);return this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("rowAdd",r,{data:e,pos:t,index:n}),r},r.prototype.addRows=function(n,r,o){var i=this,s=this,a=[];return new Promise(function(e,t){r=i.findAddRowPos(r),Array.isArray(n)||(n=[n]),n.length,(void 0===o&&r||void 0!==o&&!r)&&n.reverse(),n.forEach(function(e,t){e=s.addRow(e,r,o,!0);a.push(e)}),i.table.options.groupBy&&i.table.modExists("groupRows")?i.table.modules.groupRows.updateGroupRows(!0):i.table.options.pagination&&i.table.modExists("page")?i.refreshActiveData(!1,!1,!0):i.reRenderInPosition(),i.table.modExists("columnCalcs")&&i.table.modules.columnCalcs.recalc(i.table.rowManager.activeRows),i.regenerateRowNumbers(),e(a)})},r.prototype.findAddRowPos=function(e){return e="bottom"===(e="pos"===(e=void 0===e?this.table.options.addRowPos:e)?!0:e)?!1:e},r.prototype.addRowActual=function(e,t,n,r){var o,i=e instanceof l?e:new l(e||{},this),s=this.findAddRowPos(t),e=-1;return!n&&this.table.options.pagination&&"page"==this.table.options.paginationAddRow&&(t=this.getDisplayRows(),s?t.length?n=t[0]:this.activeRows.length&&(n=this.activeRows[this.activeRows.length-1],s=!1):t.length&&(n=t[t.length-1],s=!(t.length<this.table.modules.page.getPageSize()))),void 0!==n&&(n=this.findRow(n)),this.table.options.groupBy&&this.table.modExists("groupRows")&&(this.table.modules.groupRows.assignRowToGroup(i),1<(o=i.getGroup().rows).length&&(n&&-1!=o.indexOf(n)?this._moveRowInArray(i.getGroup().rows,i,n,!s):s?o[0]!==i&&(n=o[0],this._moveRowInArray(i.getGroup().rows,i,n,!s)):o[o.length-1]!==i&&(n=o[o.length-1],this._moveRowInArray(i.getGroup().rows,i,n,!s)))),n&&(e=this.rows.indexOf(n)),n&&-1<e?(o=this.activeRows.indexOf(n),this.displayRowIterator(function(e){var t=e.indexOf(n);-1<t&&e.splice(s?t:t+1,0,i)}),-1<o&&this.activeRows.splice(s?o:o+1,0,i),this.rows.splice(s?e:e+1,0,i)):s?(this.displayRowIterator(function(e){e.unshift(i)}),this.activeRows.unshift(i),this.rows.unshift(i)):(this.displayRowIterator(function(e){e.push(i)}),this.activeRows.push(i),this.rows.push(i)),this.setActiveRows(this.activeRows),this.table.options.rowAdded.call(this.table,i.getComponent()),this.table.options.dataChanged&&this.table.options.dataChanged.call(this.table,this.getData()),r||this.reRenderInPosition(),i},r.prototype.moveRow=function(e,t,n){this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("rowMove",e,{posFrom:this.getRowPosition(e),posTo:this.getRowPosition(t),to:t,after:n}),this.moveRowActual(e,t,n),this.regenerateRowNumbers(),this.table.options.rowMoved.call(this.table,e.getComponent())},r.prototype.moveRowActual=function(t,n,r){var e,o,i=this;this._moveRowInArray(this.rows,t,n,r),this._moveRowInArray(this.activeRows,t,n,r),this.displayRowIterator(function(e){i._moveRowInArray(e,t,n,r)}),this.table.options.groupBy&&this.table.modExists("groupRows")&&((e=(n=!r&&n instanceof g?this.table.rowManager.prevDisplayRow(t)||n:n).getGroup())===(o=t.getGroup())?this._moveRowInArray(e.rows,t,n,r):(o&&o.removeRow(t),e.insertRow(t,n,r)))},r.prototype._moveRowInArray=function(e,t,n,r){var o,i;if(t!==n&&(-1<(o=e.indexOf(t))&&(e.splice(o,1),-1<(i=e.indexOf(n))?r?e.splice(i+1,0,t):e.splice(i,0,t):e.splice(o,0,t)),e===this.getDisplayRows()))for(var s=o<i?i:o+1,a=o<i?o:i;a<=s;a++)e[a]&&this.styleRow(e[a],a)},r.prototype.clearData=function(){this.setData([])},r.prototype.getRowIndex=function(e){return this.findRowIndex(e,this.rows)},r.prototype.getDisplayRowIndex=function(e){e=this.getDisplayRows().indexOf(e);return-1<e&&e},r.prototype.nextDisplayRow=function(e,t){var n=this.getDisplayRowIndex(e),e=!1;return!(e=!1!==n&&n<this.displayRowsCount-1?this.getDisplayRows()[n+1]:e)||e instanceof l&&"row"==e.type?e:this.nextDisplayRow(e,t)},r.prototype.prevDisplayRow=function(e,t){var n=this.getDisplayRowIndex(e),e=!1;return n&&(e=this.getDisplayRows()[n-1]),!t||!e||e instanceof l&&"row"==e.type?e:this.prevDisplayRow(e,t)},r.prototype.findRowIndex=function(e,t){var n;return!!((e=this.findRow(e))&&-1<(n=t.indexOf(e)))&&n},r.prototype.getData=function(e,t){var n=[];return this.getRows(e).forEach(function(e){"row"==e.type&&n.push(e.getData(t||"data"))}),n},r.prototype.getComponents=function(e){var t=[];return this.getRows(e).forEach(function(e){t.push(e.getComponent())}),t},r.prototype.getDataCount=function(e){return this.getRows(e).length},r.prototype._genRemoteRequest=function(){var e,t=this,n=this.table,r=n.options,o={};n.modExists("page")&&(r.ajaxSorting&&((e=this.table.modules.sort.getSort()).forEach(function(e){delete e.column}),o[this.table.modules.page.paginationDataSentNames.sorters]=e),r.ajaxFiltering&&(r=this.table.modules.filter.getFilters(!0,!0),o[this.table.modules.page.paginationDataSentNames.filters]=r),this.table.modules.ajax.setParams(o,!0)),n.modules.ajax.sendRequest().then(function(e){t._setDataActual(e,!0)}).catch(function(e){})},r.prototype.filterRefresh=function(){var e=this.table,t=e.options,n=this.scrollLeft;t.ajaxFiltering?"remote"==t.pagination&&e.modExists("page")?(e.modules.page.reset(!0),e.modules.page.setPage(1).then(function(){}).catch(function(){})):t.ajaxProgressiveLoad?e.modules.ajax.loadData().then(function(){}).catch(function(){}):this._genRemoteRequest():this.refreshActiveData("filter"),this.scrollHorizontal(n)},r.prototype.sorterRefresh=function(e){var t=this.table,n=this.table.options,r=this.scrollLeft;n.ajaxSorting?("remote"==n.pagination||n.progressiveLoad)&&t.modExists("page")?(t.modules.page.reset(!0),t.modules.page.setPage(1).then(function(){}).catch(function(){})):n.ajaxProgressiveLoad?t.modules.ajax.loadData().then(function(){}).catch(function(){}):this._genRemoteRequest():this.refreshActiveData(e?"filter":"sort"),this.scrollHorizontal(r)},r.prototype.scrollHorizontal=function(e){this.scrollLeft=e,this.element.scrollLeft=e,this.table.options.groupBy&&this.table.modules.groupRows.scrollHeaders(e),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.scrollHorizontal(e)},r.prototype.refreshActiveData=function(e,t,n){var r,o=this,i=this.table,s=["all","filter","sort","display","freeze","group","tree","page"];if(this.redrawBlock)(!this.redrawBlockRestoreConfig||s.indexOf(e)<s.indexOf(this.redrawBlockRestoreConfig.stage))&&(this.redrawBlockRestoreConfig={stage:e,skipStage:t,renderInPosition:n});else{switch(o.table.modExists("edit")&&o.table.modules.edit.cancelEdit(),e=e||"all",i.options.selectable&&!i.options.selectablePersistence&&i.modExists("selectRow")&&i.modules.selectRow.deselectRows(),e){case"all":case"filter":t?t=!1:i.modExists("filter")?o.setActiveRows(i.modules.filter.filter(o.rows)):o.setActiveRows(o.rows.slice(0));case"sort":t?t=!1:i.modExists("sort")&&i.modules.sort.sort(this.activeRows),this.regenerateRowNumbers();case"display":this.resetDisplayRows();case"freeze":t?t=!1:this.table.modExists("frozenRows")&&i.modules.frozenRows.isFrozen()&&(i.modules.frozenRows.getDisplayIndex()||i.modules.frozenRows.setDisplayIndex(this.getNextDisplayIndex()),r=i.modules.frozenRows.getDisplayIndex(),!0!==(r=o.setDisplayRows(i.modules.frozenRows.getRows(this.getDisplayRows(r-1)),r))&&i.modules.frozenRows.setDisplayIndex(r));case"group":t?t=!1:i.options.groupBy&&i.modExists("groupRows")&&(i.modules.groupRows.getDisplayIndex()||i.modules.groupRows.setDisplayIndex(this.getNextDisplayIndex()),r=i.modules.groupRows.getDisplayIndex(),!0!==(r=o.setDisplayRows(i.modules.groupRows.getRows(this.getDisplayRows(r-1)),r))&&i.modules.groupRows.setDisplayIndex(r));case"tree":t?t=!1:i.options.dataTree&&i.modExists("dataTree")&&(i.modules.dataTree.getDisplayIndex()||i.modules.dataTree.setDisplayIndex(this.getNextDisplayIndex()),r=i.modules.dataTree.getDisplayIndex(),!0!==(r=o.setDisplayRows(i.modules.dataTree.getRows(this.getDisplayRows(r-1)),r))&&i.modules.dataTree.setDisplayIndex(r)),i.options.pagination&&i.modExists("page")&&!n&&"local"==i.modules.page.getMode()&&i.modules.page.reset();case"page":t?t=!1:i.options.pagination&&i.modExists("page")&&(i.modules.page.getDisplayIndex()||i.modules.page.setDisplayIndex(this.getNextDisplayIndex()),r=i.modules.page.getDisplayIndex(),"local"==i.modules.page.getMode()&&i.modules.page.setMaxRows(this.getDisplayRows(r-1).length),!0!==(r=o.setDisplayRows(i.modules.page.getRows(this.getDisplayRows(r-1)),r))&&i.modules.page.setDisplayIndex(r))}L.prototype.helpers.elVisible(o.element)&&(n?o.reRenderInPosition():("all"===e&&this.table.options.virtualDomHoz&&this.table.vdomHoz.dataChange(),o.renderTable(),i.options.layoutColumnsOnNewData&&o.table.columnManager.redraw(!0))),i.modExists("columnCalcs")&&i.modules.columnCalcs.recalc(this.activeRows)}},r.prototype.regenerateRowNumbers=function(){var t=this;this.rowNumColumn&&this.activeRows.forEach(function(e){e=e.getCell(t.rowNumColumn);e&&e._generateContents()})},r.prototype.setActiveRows=function(e){this.activeRows=e,this.activeRowsCount=this.activeRows.length},r.prototype.resetDisplayRows=function(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length,this.table.modExists("frozenRows")&&this.table.modules.frozenRows.setDisplayIndex(0),this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.setDisplayIndex(0),this.table.options.pagination&&this.table.modExists("page")&&this.table.modules.page.setDisplayIndex(0)},r.prototype.getNextDisplayIndex=function(){return this.displayRows.length},r.prototype.setDisplayRows=function(e,t){var n=!0,n=t&&void 0!==this.displayRows[t]?(this.displayRows[t]=e,!0):(this.displayRows.push(e),t=this.displayRows.length-1);return t==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length),n},r.prototype.getDisplayRows=function(e){return void 0===e?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[e]||[]},r.prototype.getVisibleRows=function(e){var t=this.element.scrollTop,n=this.element.clientHeight+t,r=!1,o=0,i=0,s=this.getDisplayRows();if(e){this.getDisplayRows();for(var a=this.vDomTop;a<=this.vDomBottom;a++)if(s[a])if(r){if(!(0<=n-s[a].getElement().offsetTop))break;i=a}else if(0<=t-s[a].getElement().offsetTop)o=a;else{if(r=!0,!(0<=n-s[a].getElement().offsetTop))break;i=a}}else o=this.vDomTop,i=this.vDomBottom;return s.slice(o,i+1)},r.prototype.displayRowIterator=function(e){this.displayRows.forEach(e),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length},r.prototype.getRows=function(e){var t;switch(e){case"active":t=this.activeRows;break;case"display":t=this.table.rowManager.getDisplayRows();break;case"visible":t=this.getVisibleRows(!0);break;case"selected":t=this.table.modules.selectRow.selectedRows;break;default:t=this.rows}return t},r.prototype.reRenderInPosition=function(e){if("virtual"==this.getRenderMode())if(this.redrawBlock)e?e():this.redrawBlockRederInPosition=!0;else{for(var t=this.element.scrollTop,n=!1,r=!1,o=this.scrollLeft,i=this.getDisplayRows(),s=this.vDomTop;s<=this.vDomBottom;s++)if(i[s]){var a=t-i[s].getElement().offsetTop;if(!(!1===r||Math.abs(a)<r))break;r=a,n=s}e&&e(),this._virtualRenderFill(!1===n?this.displayRowsCount-1:n,!0,r||0),this.scrollHorizontal(o)}else this.renderTable(),e&&e()},r.prototype.setRenderMode=function(){this.table.options.virtualDom?(this.renderMode="virtual",this.table.element.clientHeight||this.table.options.height?this.fixedHeight=!0:this.fixedHeight=!1):this.renderMode="classic"},r.prototype.getRenderMode=function(){return this.renderMode},r.prototype.renderTable=function(){switch(this.table.options.renderStarted.call(this.table),this.element.scrollTop=0,this.renderMode){case"classic":this._simpleRender();break;case"virtual":this._virtualRenderFill()}this.firstRender&&(this.displayRowsCount?(this.firstRender=!1,this.table.modules.layout.layout()):this.renderEmptyScroll()),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout(),this.displayRowsCount||this.table.options.placeholder&&(this.table.options.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.table.options.placeholder),this.table.options.placeholder.style.width=this.table.columnManager.getWidth()+"px"),this.table.options.renderComplete.call(this.table)},r.prototype._simpleRender=function(){this._clearVirtualDom(),this.displayRowsCount?this.checkClassicModeGroupHeaderWidth():this.renderEmptyScroll()},r.prototype.checkClassicModeGroupHeaderWidth=function(){var n=this,r=this.tableElement,o=!0;n.getDisplayRows().forEach(function(e,t){n.styleRow(e,t),r.appendChild(e.getElement()),e.initialize(!0),"group"!==e.type&&(o=!1)}),r.style.minWidth=o?n.table.columnManager.getWidth()+"px":""},r.prototype.renderEmptyScroll=function(){this.table.options.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"},r.prototype._clearVirtualDom=function(){var e=this.tableElement;for(this.table.options.placeholder&&this.table.options.placeholder.parentNode&&this.table.options.placeholder.parentNode.removeChild(this.table.options.placeholder);e.firstChild;)e.removeChild(e.firstChild);e.style.paddingTop="",e.style.paddingBottom="",e.style.minWidth="",e.style.minHeight="",e.style.display="",e.style.visibility="",this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0},r.prototype.styleRow=function(e,t){e=e.getElement();t%2?(e.classList.add("tabulator-row-even"),e.classList.remove("tabulator-row-odd")):(e.classList.add("tabulator-row-odd"),e.classList.remove("tabulator-row-even"))},r.prototype._virtualRenderFill=function(e,t,n){var r=this,o=r.tableElement,i=r.element,s=0,a=0,l=0,u=0,c=!0,d=r.getDisplayRows();if(n=n||0,e=e||0){for(;o.firstChild;)o.removeChild(o.firstChild);var p=(r.displayRowsCount-e+1)*r.vDomRowHeight;p<r.height&&(e-=Math.ceil((r.height-p)/r.vDomRowHeight))<0&&(e=0),e-=s=Math.min(Math.max(Math.floor(r.vDomWindowBuffer/r.vDomRowHeight),r.vDomWindowMinMarginRows),e)}else r._clearVirtualDom();if(r.displayRowsCount&&L.prototype.helpers.elVisible(r.element)){for(r.vDomTop=e,r.vDomBottom=e-1;(a<=r.height+r.vDomWindowBuffer||u<r.vDomWindowMinTotalRows)&&r.vDomBottom<r.displayRowsCount-1;){var h,f=r.vDomBottom+1,m=d[f];r.styleRow(m,f),o.appendChild(m.getElement()),m.initialize(),m.heightInitialized||m.normalizeHeight(!0),h=m.getHeight(),u<s?l+=h:a+=h,h>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*h),"group"!==m.type&&(c=!1),r.vDomBottom++,u++}e?(r.vDomTopPad=t?r.vDomRowHeight*this.vDomTop+n:r.scrollTop-l,r.vDomBottomPad=r.vDomBottom==r.displayRowsCount-1?0:Math.max(r.vDomScrollHeight-r.vDomTopPad-a-l,0)):(this.vDomTopPad=0,r.vDomRowHeight=Math.floor((a+l)/u),r.vDomBottomPad=r.vDomRowHeight*(r.displayRowsCount-r.vDomBottom-1),r.vDomScrollHeight=l+a+r.vDomBottomPad-r.height),o.style.paddingTop=r.vDomTopPad+"px",o.style.paddingBottom=r.vDomBottomPad+"px",t&&(this.scrollTop=r.vDomTopPad+l+n-(this.element.scrollWidth>this.element.clientWidth?this.element.offsetHeight-this.element.clientHeight:0)),this.scrollTop=Math.min(this.scrollTop,this.element.scrollHeight-this.height),this.element.scrollWidth>this.element.offsetWidth&&t&&(this.scrollTop+=this.element.offsetHeight-this.element.clientHeight),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,i.scrollTop=this.scrollTop,o.style.minWidth=c?r.table.columnManager.getWidth()+"px":"",r.table.options.groupBy&&"fitDataFill"!=r.table.modules.layout.getMode()&&r.displayRowsCount==r.table.modules.groupRows.countGroups()&&(r.tableElement.style.minWidth=r.table.columnManager.getWidth())}else this.renderEmptyScroll();this.fixedHeight||this.adjustTableSize()},r.prototype.scrollVertical=function(e){var t=this.scrollTop-this.vDomScrollPosTop,n=this.scrollTop-this.vDomScrollPosBottom,r=2*this.vDomWindowBuffer;r<-t||r<n?(r=this.scrollLeft,this._virtualRenderFill(Math.floor(this.element.scrollTop/this.element.scrollHeight*this.displayRowsCount)),this.scrollHorizontal(r)):e?(t<0&&this._addTopRow(-t),n<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(-n):this.vDomScrollPosBottom=this.scrollTop)):(0<=t&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(t):this.vDomScrollPosTop=this.scrollTop),0<=n&&this._addBottomRow(n))},r.prototype._addTopRow=function(e){var t,n,r,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=this.tableElement,s=this.getDisplayRows();this.vDomTop&&((r=(n=s[t=this.vDomTop-1]).getHeight()||this.vDomRowHeight)<=e&&(this.styleRow(n,t),i.insertBefore(n.getElement(),i.firstChild),n.initialized&&n.heightInitialized||(this.vDomTopNewRows.push(n),n.heightInitialized||n.clearCellHeight()),n.initialize(),this.vDomTopPad-=r,this.vDomTopPad<0&&(this.vDomTopPad=t*this.vDomRowHeight),t||(this.vDomTopPad=0),i.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=r,this.vDomTop--),e=-(this.scrollTop-this.vDomScrollPosTop),n.getHeight()>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*n.getHeight()),o<this.vDomMaxRenderChain&&this.vDomTop&&e>=(s[this.vDomTop-1].getHeight()||this.vDomRowHeight)?this._addTopRow(e,o+1):this._quickNormalizeRowHeight(this.vDomTopNewRows))},r.prototype._removeTopRow=function(e){var t=this.tableElement,n=this.getDisplayRows()[this.vDomTop],r=n.getHeight()||this.vDomRowHeight;r<=e&&((n=n.getElement()).parentNode.removeChild(n),this.vDomTopPad+=r,t.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?r:r+this.vDomWindowBuffer,this.vDomTop++,e=this.scrollTop-this.vDomScrollPosTop,this._removeTopRow(e))},r.prototype._addBottomRow=function(e){var t,n,r,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=this.tableElement,s=this.getDisplayRows();this.vDomBottom<this.displayRowsCount-1&&((r=(n=s[t=this.vDomBottom+1]).getHeight()||this.vDomRowHeight)<=e&&(this.styleRow(n,t),i.appendChild(n.getElement()),n.initialized&&n.heightInitialized||(this.vDomBottomNewRows.push(n),n.heightInitialized||n.clearCellHeight()),n.initialize(),this.vDomBottomPad-=r,(this.vDomBottomPad<0||t==this.displayRowsCount-1)&&(this.vDomBottomPad=0),i.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=r,this.vDomBottom++),e=this.scrollTop-this.vDomScrollPosBottom,n.getHeight()>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*n.getHeight()),o<this.vDomMaxRenderChain&&this.vDomBottom<this.displayRowsCount-1&&e>=(s[this.vDomBottom+1].getHeight()||this.vDomRowHeight)?this._addBottomRow(e,o+1):this._quickNormalizeRowHeight(this.vDomBottomNewRows))},r.prototype._removeBottomRow=function(e){var t=this.tableElement,n=this.getDisplayRows()[this.vDomBottom],r=n.getHeight()||this.vDomRowHeight;r<=e&&((n=n.getElement()).parentNode&&n.parentNode.removeChild(n),this.vDomBottomPad+=r,this.vDomBottomPad<0&&(this.vDomBottomPad=0),t.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=r,this.vDomBottom--,e=-(this.scrollTop-this.vDomScrollPosBottom),this._removeBottomRow(e))},r.prototype._quickNormalizeRowHeight=function(e){e.forEach(function(e){e.calcHeight()}),e.forEach(function(e){e.setCellHeight()}),e.length=0},r.prototype.normalizeHeight=function(){this.activeRows.forEach(function(e){e.normalizeHeight()})},r.prototype.adjustTableSize=function(){var e,t=this.element.clientHeight;"virtual"===this.renderMode&&(e=Math.floor(this.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0)),this.fixedHeight?(this.element.style.minHeight="calc(100% - "+e+"px)",this.element.style.height="calc(100% - "+e+"px)",this.element.style.maxHeight="calc(100% - "+e+"px)"):(this.element.style.height="",this.element.style.height=this.table.element.clientHeight-e+"px",this.element.scrollTop=this.scrollTop),this.height=this.element.clientHeight,this.vDomWindowBuffer=this.table.options.virtualDomBuffer||this.height,this.fixedHeight||t==this.element.clientHeight||(!(t=this.table.modExists("resizeTable"))||this.table.modules.resizeTable.autoResize)&&t||this.redraw())},r.prototype.reinitialize=function(){this.rows.forEach(function(e){e.reinitialize(!0)})},r.prototype.blockRedraw=function(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1},r.prototype.restoreRedraw=function(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.stage,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRederInPosition&&this.reRenderInPosition(),this.redrawBlockRederInPosition=!1},r.prototype.redraw=function(e){var t=this.scrollLeft;this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,e?this.renderTable():("classic"==this.renderMode?this.table.options.groupBy?this.refreshActiveData("group",!1,!1):this._simpleRender():(this.reRenderInPosition(),this.scrollHorizontal(t)),this.displayRowsCount||this.table.options.placeholder&&this.getElement().appendChild(this.table.options.placeholder))},r.prototype.resetScroll=function(){var e;this.element.scrollLeft=0,this.element.scrollTop=0,"ie"===this.table.browser?((e=document.createEvent("Event")).initEvent("scroll",!1,!0),this.element.dispatchEvent(e)):this.element.dispatchEvent(new Event("scroll"))};function o(e){this.table=e,this.element=this.table.rowManager.tableElement,this.holderEl=this.table.rowManager.element,this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.window=200,this.initialized=!1,this.columns=[],this.compatabilityCheck()&&this.initialize()}o.prototype.compatabilityCheck=function(){var e=this.table.options,t=!0;return"fitDataTable"==e.layout&&(console.warn("Horizontal Vitrual DOM is not compatible with fitDataTable layout mode"),t=!1),e.responsiveLayout&&(console.warn("Horizontal Vitrual DOM is not compatible with responsive columns"),t=!1),this.table.rtl&&(console.warn("Horizontal Vitrual DOM is not currently compatible with RTL text direction"),t=!1),e.columns&&e.columns.find(function(e){return e.frozen})&&(console.warn("Horizontal Vitrual DOM is not compatible with frozen columns"),t=!1),t||(e.virtualDomHoz=!1),t},o.prototype.initialize=function(){var t=this;this.holderEl.addEventListener("scroll",function(){var e=t.holderEl.scrollLeft;t.scrollLeft!=e&&(t.scrollLeft=e,t.scroll(e-(t.vDomScrollPosLeft+t.window)))})},o.prototype.deinitialize=function(){this.initialized=!1},o.prototype.clear=function(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0},o.prototype.dataChange=function(){var e,t,n=!1,r=0,o=0;if("fitData"===this.table.options.layout){if(this.table.columnManager.columnsByIndex.forEach(function(e){!e.definition.width&&e.visible&&(n=!0)}),n&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.holderEl.clientWidth+this.window,e=this.table.options.groupBy?this.table.modules.groupRows.getGroups(!1)[0].getRows(!1)[0]:this.table.rowManager.getDisplayRows()[0])){t=e.getElement(),e.generateCells(),this.element.appendChild(t);for(o=0;o<e.cells.length;o++){var i=e.cells[o];if(t.appendChild(i.getElement()),i.column.reinitializeWidth(),(r+=i.column.getWidth())>this.vDomScrollPosRight)break}for(t.parentNode.removeChild(t),this.fitDataColAvg=Math.floor(r/(o+1));o<this.table.columnManager.columnsByIndex.length;o++)this.table.columnManager.columnsByIndex[o].setWidth(this.fitDataColAvg);this.reinitialize(!1,!0)}}else"fitColumns"===this.table.options.layout&&(this.table.modules.layout.layout(),this.table.vdomHoz.reinitialize(!1,!0))},o.prototype.fitDataLayoutOverride=function(){for(var e=this.leftCol;e<=this.rightCol;e++)this.columns[e].reinitializeWidth()},o.prototype.reinitialize=function(e,t){var r,o=this,n={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol};e&&!this.initialized||(this.clear(),this.scrollLeft=this.holderEl.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.window,this.vDomScrollPosRight=this.scrollLeft+this.holderEl.clientWidth+this.window,r=0,this.table.columnManager.columnsByIndex.forEach(function(e){var t,n={};e.visible&&(t=e.getWidth(),n.leftPos=r,n.rightPos=r+t,n.width=t,"fitData"===o.table.options.layout&&(n.fitDataCheck=!0),r+t>o.vDomScrollPosLeft&&r<o.vDomScrollPosRight?(-1==o.leftCol&&(o.leftCol=o.columns.length,o.vDomPadLeft=r),o.rightCol=o.columns.length):-1!==o.leftCol&&(o.vDomPadRight+=t),o.columns.push(e),e.modules.vdomHoz=n,r+=t)}),this.element.style.paddingLeft=this.vDomPadLeft+"px",this.element.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,t||e&&!this.reinitChanged(n)||this.renitializeRows(),this.holderEl.scrollLeft=this.scrollLeft)},o.prototype.reinitChanged=function(e){var n=this,r=!0;return e.cols.length!==this.columns.length||e.leftCol!==this.leftCol||e.rightCol!==this.rightCol||(e.cols.forEach(function(e,t){e!==n.columns[t]&&(r=!1)}),!r)},o.prototype.renitializeRows=function(){var t=this;this.table.rowManager.getVisibleRows().forEach(function(e){t.reinitializeRow(e,!0)})},o.prototype.scroll=function(e){this.vDomScrollPosLeft+=e,this.vDomScrollPosRight+=e,e>.8*this.holderEl.clientWidth?this.reinitialize():0<e?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())},o.prototype.colPositionAdjust=function(e,t,n){for(var r=e;r<t;r++){var o=this.columns[r];o.modules.vdomHoz.leftPos+=n,o.modules.vdomHoz.rightPos+=n}},o.prototype.addColRight=function(){var n=this.columns[this.rightCol+1];n&&n.modules.vdomHoz.leftPos<=this.vDomScrollPosRight&&(this.table.rowManager.getVisibleRows().forEach(function(e){var t;"group"!==e.type&&(t=e.getCell(n),e.getElement().appendChild(t.getElement()),t.cellRendered())}),this.fitDataColActualWidthCheck(n),this.rightCol++,this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=n.getWidth(),this.element.style.paddingRight=this.vDomPadRight+"px",this.addColRight())},o.prototype.addColLeft=function(){var n=this.columns[this.leftCol-1];n&&n.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach(function(e){var t;"group"!==e.type&&(t=e.getCell(n),e.getElement().prepend(t.getElement()),t.cellRendered())}),this.fitDataColActualWidthCheck(n),this.leftCol?this.vDomPadLeft-=n.getWidth():this.vDomPadLeft=0,this.element.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol--,this.addColLeft())},o.prototype.removeColRight=function(n){var e;(n=this.columns[this.rightCol])&&n.modules.vdomHoz.leftPos>this.vDomScrollPosRight&&(e=this.table.rowManager.getVisibleRows(),n.modules.vdomHoz.visible=!1,e.forEach(function(e){var t;"group"!==e.type&&(t=e.getCell(n),e.getElement().removeChild(t.getElement()))}),this.vDomPadRight+=n.getWidth(),this.element.style.paddingRight=this.vDomPadRight+"px",this.rightCol--,this.removeColRight())},o.prototype.removeColLeft=function(){var n=this.columns[this.leftCol];n&&n.modules.vdomHoz.rightPos<this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach(function(e){var t;"group"!==e.type&&(t=e.getCell(n),e.getElement().removeChild(t.getElement()))}),this.vDomPadLeft+=n.getWidth(),this.element.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol++,this.removeColLeft())},o.prototype.fitDataColActualWidthCheck=function(e){var t,n;e.modules.vdomHoz.fitDataCheck&&(e.reinitializeWidth(),(n=(t=e.getWidth())-e.modules.vdomHoz.width)&&(e.modules.vdomHoz.rightPos+=n,e.modules.vdomHoz.width=t,this.colPositionAdjust(this.rightCol+2,this.columns.length,n)),e.modules.vdomHoz.fitDataCheck=!1)},o.prototype.initializeRow=function(e){if("group"!==e.type){e.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol};for(var t=this.leftCol;t<=this.rightCol;t++){var n=this.columns[t];n&&n.visible&&(n=e.getCell(n),e.getElement().appendChild(n.getElement()),n.cellRendered())}}},o.prototype.reinitializeRow=function(e,t){if("group"!==e.type&&(t||!e.modules.vdomHoz||e.modules.vdomHoz.leftCol!==this.leftCol||e.modules.vdomHoz.rightCol!==this.rightCol)){for(var n=e.getElement();n.firstChild;)n.removeChild(n.firstChild);this.initializeRow(e)}};var s=function(e){this._row=e};s.prototype.getData=function(e){return this._row.getData(e)},s.prototype.getElement=function(){return this._row.getElement()},s.prototype.getCells=function(){var t=[];return this._row.getCells().forEach(function(e){t.push(e.getComponent())}),t},s.prototype.getCell=function(e){e=this._row.getCell(e);return!!e&&e.getComponent()},s.prototype.getIndex=function(){return this._row.getData("data")[this._row.table.options.index]},s.prototype.getPosition=function(e){return this._row.table.rowManager.getRowPosition(this._row,e)},s.prototype.delete=function(){return this._row.delete()},s.prototype.scrollTo=function(){return this._row.table.rowManager.scrollToRow(this._row)},s.prototype.pageTo=function(){if(this._row.table.modExists("page",!0))return this._row.table.modules.page.setPageToRow(this._row)},s.prototype.move=function(e,t){this._row.moveToRow(e,t)},s.prototype.update=function(e){return this._row.updateData(e)},s.prototype.normalizeHeight=function(){this._row.normalizeHeight(!0)},s.prototype.select=function(){this._row.table.modules.selectRow.selectRows(this._row)},s.prototype.deselect=function(){this._row.table.modules.selectRow.deselectRows(this._row)},s.prototype.toggleSelect=function(){this._row.table.modules.selectRow.toggleRow(this._row)},s.prototype.isSelected=function(){return this._row.table.modules.selectRow.isRowSelected(this._row)},s.prototype._getSelf=function(){return this._row},s.prototype.validate=function(){return this._row.validate()},s.prototype.freeze=function(){this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.freezeRow(this._row)},s.prototype.unfreeze=function(){this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.unfreezeRow(this._row)},s.prototype.isFrozen=function(){return!!this._row.table.modExists("frozenRows",!0)&&-1<this._row.table.modules.frozenRows.rows.indexOf(this._row)},s.prototype.treeCollapse=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.collapseRow(this._row)},s.prototype.treeExpand=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.expandRow(this._row)},s.prototype.treeToggle=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.toggleRow(this._row)},s.prototype.getTreeParent=function(){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.getTreeParent(this._row)},s.prototype.getTreeChildren=function(){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.getTreeChildren(this._row,!0)},s.prototype.addTreeChild=function(e,t,n){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.addTreeChildRow(this._row,e,t,n)},s.prototype.reformat=function(){return this._row.reinitialize()},s.prototype.getGroup=function(){return this._row.getGroup().getComponent()},s.prototype.getTable=function(){return this._row.table},s.prototype.getNextRow=function(){var e=this._row.nextRow();return e&&e.getComponent()},s.prototype.getPrevRow=function(){var e=this._row.prevRow();return e&&e.getComponent()};var l=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"row";this.table=t.table,this.parent=t,this.data={},this.type=n,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.component=null,this.created=!1,this.setData(e)};l.prototype.create=function(){this.created||(this.created=!0,this.generateElement())},l.prototype.createElement=function(){var e=document.createElement("div");e.classList.add("tabulator-row"),e.setAttribute("role","row"),this.element=e},l.prototype.getElement=function(){return this.create(),this.element},l.prototype.detachElement=function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},l.prototype.generateElement=function(){var t,n,r,o=this;this.createElement(),!1!==o.table.options.selectable&&o.table.modExists("selectRow")&&o.table.modules.selectRow.initializeRow(this),!1!==o.table.options.movableRows&&o.table.modExists("moveRow")&&o.table.modules.moveRow.initializeRow(this),!1!==o.table.options.dataTree&&o.table.modExists("dataTree")&&o.table.modules.dataTree.initializeRow(this),"collapse"===o.table.options.responsiveLayout&&o.table.modExists("responsiveLayout")&&o.table.modules.responsiveLayout.initializeRow(this),(o.table.options.rowContextMenu||o.table.options.rowClickMenu)&&this.table.modExists("menu")&&o.table.modules.menu.initializeRow(this),o.table.options.rowClick&&o.element.addEventListener("click",function(e){o.table.options.rowClick(e,o.getComponent())}),o.table.options.rowDblClick&&o.element.addEventListener("dblclick",function(e){o.table.options.rowDblClick(e,o.getComponent())}),o.table.options.rowContext&&o.element.addEventListener("contextmenu",function(e){o.table.options.rowContext(e,o.getComponent())}),o.table.options.rowMouseEnter&&o.element.addEventListener("mouseenter",function(e){o.table.options.rowMouseEnter(e,o.getComponent())}),o.table.options.rowMouseLeave&&o.element.addEventListener("mouseleave",function(e){o.table.options.rowMouseLeave(e,o.getComponent())}),o.table.options.rowMouseOver&&o.element.addEventListener("mouseover",function(e){o.table.options.rowMouseOver(e,o.getComponent())}),o.table.options.rowMouseOut&&o.element.addEventListener("mouseout",function(e){o.table.options.rowMouseOut(e,o.getComponent())}),o.table.options.rowMouseMove&&o.element.addEventListener("mousemove",function(e){o.table.options.rowMouseMove(e,o.getComponent())}),o.table.options.rowTap&&(r=!1,o.element.addEventListener("touchstart",function(e){r=!0},{passive:!0}),o.element.addEventListener("touchend",function(e){r&&o.table.options.rowTap(e,o.getComponent()),r=!1})),o.table.options.rowDblTap&&(t=null,o.element.addEventListener("touchend",function(e){t?(clearTimeout(t),t=null,o.table.options.rowDblTap(e,o.getComponent())):t=setTimeout(function(){clearTimeout(t),t=null},300)})),o.table.options.rowTapHold&&(n=null,o.element.addEventListener("touchstart",function(e){clearTimeout(n),n=setTimeout(function(){clearTimeout(n),n=null,r=!1,o.table.options.rowTapHold(e,o.getComponent())},1e3)},{passive:!0}),o.element.addEventListener("touchend",function(e){clearTimeout(n),n=null}))},l.prototype.generateCells=function(){this.cells=this.table.columnManager.generateCells(this)},l.prototype.initialize=function(e){var t=this;if(this.create(),!this.initialized||e){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layoutRow(this),this.generateCells(),this.table.options.virtualDomHoz&&this.table.vdomHoz.initialized?this.table.vdomHoz.initializeRow(this):this.cells.forEach(function(e){t.element.appendChild(e.getElement()),e.cellRendered()}),e&&this.normalizeHeight(),this.table.options.dataTree&&this.table.modExists("dataTree")&&this.table.modules.dataTree.layoutRow(this),"collapse"===this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout")&&this.table.modules.responsiveLayout.layoutRow(this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.table.options.resizableRows&&this.table.modExists("resizeRows")&&this.table.modules.resizeRows.initializeRow(this),this.initialized=!0}else this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitializeRow(this)},l.prototype.reinitializeHeight=function(){this.heightInitialized=!1,this.element&&null!==this.element.offsetParent&&this.normalizeHeight(!0)},l.prototype.reinitialize=function(e){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&null!==this.element.offsetParent&&this.initialize(!0),this.table.options.dataTree&&this.table.modExists("dataTree",!0)&&this.table.modules.dataTree.getTreeChildren(this,!1,!0).forEach(function(e){e.reinitialize(!0)})},l.prototype.calcHeight=function(e){var t=0,n=this.table.options.resizableRows?this.element.clientHeight:0;this.cells.forEach(function(e){e=e.getHeight();t<e&&(t=e)}),this.height=!e&&this.manualHeight?this.height:Math.max(t,n),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight},l.prototype.setCellHeight=function(){this.cells.forEach(function(e){e.setHeight()}),this.heightInitialized=!0},l.prototype.clearCellHeight=function(){this.cells.forEach(function(e){e.clearHeight()})},l.prototype.normalizeHeight=function(e){e&&this.clearCellHeight(),this.calcHeight(e),this.setCellHeight()},l.prototype.setHeight=function(e,t){this.height==e&&!t||(this.manualHeight=!0,this.height=e,this.heightStyled=e?e+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)},l.prototype.getHeight=function(){return this.outerHeight},l.prototype.getWidth=function(){return this.element.offsetWidth},l.prototype.deleteCell=function(e){e=this.cells.indexOf(e);-1<e&&this.cells.splice(e,1)},l.prototype.setData=function(e){this.table.modExists("mutator")&&(e=this.table.modules.mutator.transformRow(e,"data")),this.data=e,this.table.options.reactiveData&&this.table.modExists("reactiveData",!0)&&this.table.modules.reactiveData.watchRow(this)},l.prototype.updateData=function(r){var o,i=this,s=this.element&&L.prototype.helpers.elVisible(this.element),a={};return new Promise(function(e,t){for(var n in"string"==typeof r&&(r=JSON.parse(r)),i.table.options.reactiveData&&i.table.modExists("reactiveData",!0)&&i.table.modules.reactiveData.block(),o=i.table.modExists("mutator")?(a=Object.assign(a,i.data),a=Object.assign(a,r),i.table.modules.mutator.transformRow(a,"data",r)):r)i.data[n]=o[n];for(var n in i.table.options.reactiveData&&i.table.modExists("reactiveData",!0)&&i.table.modules.reactiveData.unblock(),r)i.table.columnManager.getColumnsByFieldRoot(n).forEach(function(e){var t=i.getCell(e.getField());t&&(e=e.getFieldValue(o),t.getValue()!=e&&(t.setValueProcessData(e),s&&t.cellRendered()))});i.table.options.groupUpdateOnCellEdit&&i.table.options.groupBy&&i.table.modExists("groupRows")&&i.table.modules.groupRows.reassignRowToGroup(i.row),s?(i.normalizeHeight(!0),i.table.options.rowFormatter&&i.table.options.rowFormatter(i.getComponent())):(i.initialized=!1,i.height=0,i.heightStyled=""),!1!==i.table.options.dataTree&&i.table.modExists("dataTree")&&i.table.modules.dataTree.redrawNeeded(r)&&(i.table.modules.dataTree.initializeRow(i),s&&(i.table.modules.dataTree.layoutRow(i),i.table.rowManager.refreshActiveData("tree",!1,!0))),i.table.options.rowUpdated.call(i.table,i.getComponent()),i.table.options.dataChanged&&i.table.options.dataChanged.call(i.table,i.table.rowManager.getData()),e()})},l.prototype.getData=function(e){return e&&this.table.modExists("accessor")?this.table.modules.accessor.transformRow(this,e):this.data},l.prototype.getCell=function(t){return t=this.table.columnManager.findColumn(t),this.cells.find(function(e){return e.column===t})},l.prototype.getCellIndex=function(t){return this.cells.findIndex(function(e){return e===t})},l.prototype.findNextEditableCell=function(e){var t=!1;if(e<this.cells.length-1)for(var n=e+1;n<this.cells.length;n++){var r=this.cells[n];if(r.column.modules.edit&&L.prototype.helpers.elVisible(r.getElement())){var o=!0;if(o="function"==typeof r.column.modules.edit.check?r.column.modules.edit.check(r.getComponent()):o){t=r;break}}}return t},l.prototype.findPrevEditableCell=function(e){var t=!1;if(0<e)for(var n=e-1;0<=n;n--){var r=this.cells[n],o=!0;if(r.column.modules.edit&&L.prototype.helpers.elVisible(r.getElement())&&(o="function"==typeof r.column.modules.edit.check?r.column.modules.edit.check(r.getComponent()):o)){t=r;break}}return t},l.prototype.getCells=function(){return this.cells},l.prototype.nextRow=function(){return this.table.rowManager.nextDisplayRow(this,!0)||!1},l.prototype.prevRow=function(){return this.table.rowManager.prevDisplayRow(this,!0)||!1},l.prototype.moveToRow=function(e,t){var n=this.table.rowManager.findRow(e);n?(this.table.rowManager.moveRowActual(this,n,!t),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",e)},l.prototype.validate=function(){var t=[];return this.cells.forEach(function(e){e.validate()||t.push(e.getComponent())}),!t.length||t},l.prototype.delete=function(){var o=this;return new Promise(function(e,t){var n,r;o.table.options.history&&o.table.modExists("history")&&(o.table.options.groupBy&&o.table.modExists("groupRows")?(n=(r=o.getGroup().rows).indexOf(o))&&(n=r[n-1]):(n=o.table.rowManager.getRowIndex(o))&&(n=o.table.rowManager.rows[n-1]),o.table.modules.history.action("rowDelete",o,{data:o.getData(),pos:!n,index:n})),o.deleteActual(),e()})},l.prototype.deleteActual=function(e){this.table.rowManager.getRowIndex(this),this.detatchModules(),this.table.options.reactiveData&&this.table.modExists("reactiveData",!0),this.modules.group&&this.modules.group.removeRow(this),this.table.rowManager.deleteRow(this,e),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.table.options.dataTree&&this.table.modExists("dataTree",!0)&&this.table.modules.dataTree.rowDelete(this),this.table.modExists("columnCalcs")&&(this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.columnCalcs.recalcRowGroup(this):this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows))},l.prototype.detatchModules=function(){this.table.modExists("selectRow")&&this.table.modules.selectRow._deselectRow(this,!0),this.table.modExists("edit")&&this.table.modules.edit.currentCell.row===this&&this.table.modules.edit.cancelEdit(),this.table.modExists("frozenRows")&&this.table.modules.frozenRows.detachRow(this)},l.prototype.deleteCells=function(){for(var e=this.cells.length,t=0;t<e;t++)this.cells[0].delete()},l.prototype.wipe=function(){if(this.detatchModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}},l.prototype.getGroup=function(){return this.modules.group||!1},l.prototype.getComponent=function(){return this.component||(this.component=new s(this)),this.component};function b(e){this._cell=e}b.prototype.getValue=function(){return this._cell.getValue()},b.prototype.getOldValue=function(){return this._cell.getOldValue()},b.prototype.getInitialValue=function(){return this._cell.initialValue},b.prototype.getElement=function(){return this._cell.getElement()},b.prototype.getRow=function(){return this._cell.row.getComponent()},b.prototype.getData=function(){return this._cell.row.getData()},b.prototype.getField=function(){return this._cell.column.getField()},b.prototype.getColumn=function(){return this._cell.column.getComponent()},b.prototype.setValue=function(e,t){this._cell.setValue(e,t=void 0===t?!0:t)},b.prototype.restoreOldValue=function(){this._cell.setValueActual(this._cell.getOldValue())},b.prototype.restoreInitialValue=function(){this._cell.setValueActual(this._cell.initialValue)},b.prototype.edit=function(e){return this._cell.edit(e)},b.prototype.cancelEdit=function(){this._cell.cancelEdit()},b.prototype.isEdited=function(){return!!this._cell.modules.edit&&this._cell.modules.edit.edited},b.prototype.clearEdited=function(){self.table.modExists("edit",!0)&&this._cell.table.modules.edit.clearEdited(this._cell)},b.prototype.isValid=function(){return!this._cell.modules.validate||!this._cell.modules.validate.invalid},b.prototype.validate=function(){return this._cell.validate()},b.prototype.clearValidation=function(){this._cell.table.modExists("validate",!0)&&this._cell.table.modules.validate.clearValidation(this._cell)},b.prototype.nav=function(){return this._cell.nav()},b.prototype.checkHeight=function(){this._cell.checkHeight()},b.prototype.getTable=function(){return this._cell.table},b.prototype._getSelf=function(){return this._cell};var u=function(e,t){this.table=e.table,this.column=e,this.row=t,this.element=null,this.value=null,this.initialValue,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()};u.prototype.build=function(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value},u.prototype.generateElement=function(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.element=this.element},u.prototype._configureCell=function(){var t=this,e=t.column.cellEvents,n=t.element,r=this.column.getField();n.style.textAlign=t.column.hozAlign,t.column.vertAlign&&(n.style.display="inline-flex",n.style.alignItems={top:"flex-start",bottom:"flex-end",middle:"center"}[t.column.vertAlign]||"",t.column.hozAlign&&(n.style.justifyContent={left:"flex-start",right:"flex-end",center:"center"}[t.column.hozAlign]||"")),r&&n.setAttribute("tabulator-field",r),t.column.definition.cssClass&&t.column.definition.cssClass.split(" ").forEach(function(e){n.classList.add(e)}),"hover"===this.table.options.tooltipGenerationMode&&n.addEventListener("mouseenter",function(e){t._generateTooltip()}),t._bindClickEvents(e),t._bindTouchEvents(e),t._bindMouseEvents(e),t.column.modules.edit&&t.table.modules.edit.bindEditor(t),t.column.definition.rowHandle&&!1!==t.table.options.movableRows&&t.table.modExists("moveRow")&&t.table.modules.moveRow.initializeCell(t),t.column.visible||t.hide()},u.prototype._bindClickEvents=function(n){var r=this,e=r.element;(n.cellClick||r.table.options.cellClick)&&e.addEventListener("click",function(e){var t=r.getComponent();n.cellClick&&n.cellClick.call(r.table,e,t),r.table.options.cellClick&&r.table.options.cellClick.call(r.table,e,t)}),n.cellDblClick||this.table.options.cellDblClick?e.addEventListener("dblclick",function(e){var t=r.getComponent();n.cellDblClick&&n.cellDblClick.call(r.table,e,t),r.table.options.cellDblClick&&r.table.options.cellDblClick.call(r.table,e,t)}):e.addEventListener("dblclick",function(e){if(!r.table.modExists("edit")||r.table.modules.edit.currentCell!==r){e.preventDefault();try{var t;document.selection?((t=document.body.createTextRange()).moveToElementText(r.element),t.select()):window.getSelection&&((t=document.createRange()).selectNode(r.element),window.getSelection().removeAllRanges(),window.getSelection().addRange(t))}catch(e){}}}),(n.cellContext||this.table.options.cellContext)&&e.addEventListener("contextmenu",function(e){var t=r.getComponent();n.cellContext&&n.cellContext.call(r.table,e,t),r.table.options.cellContext&&r.table.options.cellContext.call(r.table,e,t)})},u.prototype._bindMouseEvents=function(n){var r=this,e=r.element;(n.cellMouseEnter||r.table.options.cellMouseEnter)&&e.addEventListener("mouseenter",function(e){var t=r.getComponent();n.cellMouseEnter&&n.cellMouseEnter.call(r.table,e,t),r.table.options.cellMouseEnter&&r.table.options.cellMouseEnter.call(r.table,e,t)}),(n.cellMouseLeave||r.table.options.cellMouseLeave)&&e.addEventListener("mouseleave",function(e){var t=r.getComponent();n.cellMouseLeave&&n.cellMouseLeave.call(r.table,e,t),r.table.options.cellMouseLeave&&r.table.options.cellMouseLeave.call(r.table,e,t)}),(n.cellMouseOver||r.table.options.cellMouseOver)&&e.addEventListener("mouseover",function(e){var t=r.getComponent();n.cellMouseOver&&n.cellMouseOver.call(r.table,e,t),r.table.options.cellMouseOver&&r.table.options.cellMouseOver.call(r.table,e,t)}),(n.cellMouseOut||r.table.options.cellMouseOut)&&e.addEventListener("mouseout",function(e){var t=r.getComponent();n.cellMouseOut&&n.cellMouseOut.call(r.table,e,t),r.table.options.cellMouseOut&&r.table.options.cellMouseOut.call(r.table,e,t)}),(n.cellMouseMove||r.table.options.cellMouseMove)&&e.addEventListener("mousemove",function(e){var t=r.getComponent();n.cellMouseMove&&n.cellMouseMove.call(r.table,e,t),r.table.options.cellMouseMove&&r.table.options.cellMouseMove.call(r.table,e,t)})},u.prototype._bindTouchEvents=function(n){var r,o,i,s=this,e=s.element;(n.cellTap||this.table.options.cellTap)&&(i=!1,e.addEventListener("touchstart",function(e){i=!0},{passive:!0}),e.addEventListener("touchend",function(e){var t;i&&(t=s.getComponent(),n.cellTap&&n.cellTap.call(s.table,e,t),s.table.options.cellTap&&s.table.options.cellTap.call(s.table,e,t)),i=!1})),(n.cellDblTap||this.table.options.cellDblTap)&&(r=null,e.addEventListener("touchend",function(e){var t;r?(clearTimeout(r),r=null,t=s.getComponent(),n.cellDblTap&&n.cellDblTap.call(s.table,e,t),s.table.options.cellDblTap&&s.table.options.cellDblTap.call(s.table,e,t)):r=setTimeout(function(){clearTimeout(r),r=null},300)})),(n.cellTapHold||this.table.options.cellTapHold)&&(o=null,e.addEventListener("touchstart",function(t){clearTimeout(o),o=setTimeout(function(){clearTimeout(o),o=null,i=!1;var e=s.getComponent();n.cellTapHold&&n.cellTapHold.call(s.table,t,e),s.table.options.cellTapHold&&s.table.options.cellTapHold.call(s.table,t,e)},1e3)},{passive:!0}),e.addEventListener("touchend",function(e){clearTimeout(o),o=null}))},u.prototype._generateContents=function(){var e=this.table.modExists("format")?this.table.modules.format.formatValue(this):this.element.innerHTML=this.value;switch(void 0===e?"undefined":_typeof(e)){case"object":if(e instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(e)}else this.element.innerHTML="",null!=e&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",e);break;case"undefined":case"null":this.element.innerHTML="";break;default:this.element.innerHTML=e}},u.prototype.cellRendered=function(){this.table.modExists("format")&&this.table.modules.format.cellRendered&&this.table.modules.format.cellRendered(this)},u.prototype._generateTooltip=function(){var e=this.column.tooltip;e?(!0===e?e=this.value:"function"==typeof e&&!1===(e=e(this.getComponent()))&&(e=""),this.element.setAttribute("title",e=void 0===e?"":e)):this.element.setAttribute("title","")},u.prototype.getElement=function(e){return this.loaded||(this.loaded=!0,e||this.layoutElement()),this.element},u.prototype.getValue=function(){return this.value},u.prototype.getOldValue=function(){return this.oldValue},u.prototype.setValue=function(e,t){this.setValueProcessData(e,t)&&(this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("cellEdit",this,{oldValue:this.oldValue,newValue:this.value}),t=this.getComponent(),this.column.cellEvents.cellEdited&&this.column.cellEvents.cellEdited.call(this.table,t),this.table.options.groupUpdateOnCellEdit&&this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.reassignRowToGroup(this.row),this.cellRendered(),this.table.options.cellEdited.call(this.table,t),this.table.options.dataChanged&&this.table.options.dataChanged.call(this.table,this.table.rowManager.getData()))},u.prototype.setValueProcessData=function(e,t){var n=!1;return this.value!=e&&(n=!0,t&&this.column.modules.mutate&&(e=this.table.modules.mutator.transformCell(this,e))),this.setValueActual(e),n&&this.table.modExists("columnCalcs")&&(this.column.definition.topCalc||this.column.definition.bottomCalc)&&(this.table.options.groupBy&&this.table.modExists("groupRows")?("table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs||this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),"table"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.recalcRowGroup(this.row)):this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows)),n},u.prototype.setValueActual=function(e){this.oldValue=this.value,this.value=e,this.table.options.reactiveData&&this.table.modExists("reactiveData")&&this.table.modules.reactiveData.block(),this.column.setFieldValue(this.row.data,e),this.table.options.reactiveData&&this.table.modExists("reactiveData")&&this.table.modules.reactiveData.unblock(),this.loaded&&this.layoutElement()},u.prototype.layoutElement=function(){this._generateContents(),this._generateTooltip(),this.table.options.resizableColumns&&this.table.modExists("resizeColumns")&&"row"===this.row.type&&this.table.modules.resizeColumns.initializeColumn("cell",this.column,this.element),(this.column.definition.contextMenu||this.column.definition.clickMenu)&&this.table.modExists("menu")&&this.table.modules.menu.initializeCell(this),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layoutElement(this.element,this.column)},u.prototype.setWidth=function(){this.width=this.column.width,this.element.style.width=this.column.widthStyled},u.prototype.clearWidth=function(){this.width="",this.element.style.width=""},u.prototype.getWidth=function(){return this.width||this.element.offsetWidth},u.prototype.setMinWidth=function(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled},u.prototype.setMaxWidth=function(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled},u.prototype.checkHeight=function(){this.row.reinitializeHeight()},u.prototype.clearHeight=function(){this.element.style.height="",this.height=null},u.prototype.setHeight=function(){this.height=this.row.height,this.element.style.height=this.row.heightStyled},u.prototype.getHeight=function(){return this.height||this.element.offsetHeight},u.prototype.show=function(){this.element.style.display=this.column.vertAlign?"inline-flex":""},u.prototype.hide=function(){this.element.style.display="none"},u.prototype.edit=function(e){if(this.table.modExists("edit",!0))return this.table.modules.edit.editCell(this,e)},u.prototype.cancelEdit=function(){var e;this.table.modExists("edit",!0)&&((e=this.table.modules.edit.getCurrentCell())&&e._getSelf()===this?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited "))},u.prototype.validate=function(){return!this.column.modules.validate||!this.table.modExists("validate",!0)||!0===this.table.modules.validate.validate(this.column.modules.validate,this,this.getValue())},u.prototype.delete=function(){!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.modules.validate&&this.modules.validate.invalid&&this.table.modules.validate.clearValidation(this),this.modules.edit&&this.modules.edit.edited&&this.table.modules.edit.clearEdited(this),this.table.options.history&&this.table.modules.history.clearComponentHistory(this),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}},u.prototype.nav=function(){var n=this,e=!1,t=this.row.getCellIndex(this);return{next:function(){var e,t=this.right();return!!t||!(!(e=n.table.rowManager.nextDisplayRow(n.row,!0))||!(t=e.findNextEditableCell(-1)))&&(t.edit(),!0)},prev:function(){var e,t=this.left();return!!t||!(!(e=n.table.rowManager.prevDisplayRow(n.row,!0))||!(t=e.findPrevEditableCell(e.cells.length)))&&(t.edit(),!0)},left:function(){return!!(e=n.row.findPrevEditableCell(t))&&(e.edit(),!0)},right:function(){return!!(e=n.row.findNextEditableCell(t))&&(e.edit(),!0)},up:function(){var e=n.table.rowManager.prevDisplayRow(n.row,!0);e&&e.cells[t].edit()},down:function(){var e=n.table.rowManager.nextDisplayRow(n.row,!0);e&&e.cells[t].edit()}}},u.prototype.getIndex=function(){this.row.getCellIndex(this)},u.prototype.getComponent=function(){return this.component||(this.component=new b(this)),this.component};function c(e){this.table=e,this.active=!1,this.element=this.createElement(),this.external=!1,this.links=[],this._initialize()}c.prototype.createElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-footer"),e},c.prototype._initialize=function(e){this.table.options.footerElement&&("string"===_typeof(this.table.options.footerElement)?"<"===this.table.options.footerElement[0]?this.element.innerHTML=this.table.options.footerElement:(this.external=!0,this.element=document.querySelector(this.table.options.footerElement)):this.element=this.table.options.footerElement)},c.prototype.getElement=function(){return this.element},c.prototype.append=function(e,t){this.activate(t),this.element.appendChild(e),this.table.rowManager.adjustTableSize()},c.prototype.prepend=function(e,t){this.activate(t),this.element.insertBefore(e,this.element.firstChild),this.table.rowManager.adjustTableSize()},c.prototype.remove=function(e){e.parentNode.removeChild(e),this.deactivate()},c.prototype.deactivate=function(e){this.element.firstChild&&!e||(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)},c.prototype.activate=function(e){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display="")),e&&this.links.push(e)};var L=function e(t,n){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.vdomHoz=null,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.modules={},this.initializeElement(t)&&(this.initializeOptions(n||{}),this._create()),e.prototype.comms.register(this)};L.prototype.defaultOptions={height:!(c.prototype.redraw=function(){this.links.forEach(function(e){e.footerRedraw()})}),minHeight:!1,maxHeight:!1,layout:"fitData",layoutColumnsOnNewData:!1,columnMinWidth:40,columnMaxWidth:!1,columnHeaderVertAlign:"top",columnVertAlign:!1,resizableColumns:!0,resizableRows:!1,autoResize:!0,columns:[],cellHozAlign:"",cellVertAlign:"",headerHozAlign:"",data:[],autoColumns:!1,autoColumnsDefinitions:!1,reactiveData:!1,nestedFieldSeparator:".",tooltips:!1,tooltipsHeader:!1,tooltipGenerationMode:"load",initialSort:!1,initialFilter:!1,initialHeaderFilter:!1,columnHeaderSortMulti:!0,sortOrderReverse:!1,headerSort:!0,headerSortTristate:!1,headerSortElement:"<div class='tabulator-arrow'></div>",footerElement:!1,index:"id",textDirection:"auto",keybindings:[],tabEndNewRow:!1,invalidOptionWarnings:!0,clipboard:!1,clipboardCopyStyled:!0,clipboardCopyConfig:!1,clipboardCopyFormatter:!1,clipboardCopyRowRange:"active",clipboardPasteParser:"table",clipboardPasteAction:"insert",clipboardCopied:function(){},clipboardPasted:function(){},clipboardPasteError:function(){},downloadDataFormatter:!1,downloadReady:function(e,t){return t},downloadComplete:!1,downloadConfig:{},downloadRowRange:"active",dataTree:!1,dataTreeFilter:!0,dataTreeSort:!0,dataTreeElementColumn:!1,dataTreeBranchElement:!0,dataTreeChildIndent:9,dataTreeChildField:"_children",dataTreeCollapseElement:!1,dataTreeExpandElement:!1,dataTreeStartExpanded:!1,dataTreeRowExpanded:function(){},dataTreeRowCollapsed:function(){},dataTreeChildColumnCalcs:!1,dataTreeSelectPropagate:!1,printAsHtml:!1,printFormatter:!1,printHeader:!1,printFooter:!1,printCopyStyle:!0,printStyled:!0,printVisibleRows:!0,printRowRange:"visible",printConfig:{},addRowPos:"bottom",selectable:"highlight",selectableRangeMode:"drag",selectableRollingSelection:!0,selectablePersistence:!0,selectableCheck:function(e,t){return!0},headerFilterLiveFilterDelay:300,headerFilterPlaceholder:!1,headerVisible:!0,history:!1,locale:!1,langs:{},virtualDom:!0,virtualDomBuffer:0,virtualDomHoz:!1,persistentLayout:!1,persistentSort:!1,persistentFilter:!1,persistenceID:"",persistenceMode:!0,persistenceReaderFunc:!1,persistenceWriterFunc:!1,persistence:!1,responsiveLayout:!1,responsiveLayoutCollapseStartOpen:!0,responsiveLayoutCollapseUseFormatters:!0,responsiveLayoutCollapseFormatter:!1,pagination:!1,paginationSize:!1,paginationInitialPage:1,paginationButtonCount:5,paginationSizeSelector:!1,paginationElement:!1,paginationDataSent:{},paginationDataReceived:{},paginationAddRow:"page",ajaxURL:!1,ajaxURLGenerator:!1,ajaxParams:{},ajaxConfig:"get",ajaxContentType:"form",ajaxRequestFunc:!1,ajaxLoader:!0,ajaxLoaderLoading:!1,ajaxLoaderError:!1,ajaxFiltering:!1,ajaxSorting:!1,ajaxProgressiveLoad:!1,ajaxProgressiveLoadDelay:0,ajaxProgressiveLoadScrollMargin:0,groupBy:!1,groupStartOpen:!0,groupValues:!1,groupUpdateOnCellEdit:!1,groupHeader:!1,groupHeaderPrint:null,groupHeaderClipboard:null,groupHeaderHtmlOutput:null,groupHeaderDownload:null,htmlOutputConfig:!1,movableColumns:!1,movableRows:!1,movableRowsConnectedTables:!1,movableRowsConnectedElements:!1,movableRowsSender:!1,movableRowsReceiver:"insert",movableRowsSendingStart:function(){},movableRowsSent:function(){},movableRowsSentFailed:function(){},movableRowsSendingStop:function(){},movableRowsReceivingStart:function(){},movableRowsReceived:function(){},movableRowsReceivedFailed:function(){},movableRowsReceivingStop:function(){},movableRowsElementDrop:function(){},scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,placeholder:!1,tableBuilding:function(){},tableBuilt:function(){},renderStarted:function(){},renderComplete:function(){},rowClick:!1,rowDblClick:!1,rowContext:!1,rowTap:!1,rowDblTap:!1,rowTapHold:!1,rowMouseEnter:!1,rowMouseLeave:!1,rowMouseOver:!1,rowMouseOut:!1,rowMouseMove:!1,rowContextMenu:!1,rowClickMenu:!1,rowAdded:function(){},rowDeleted:function(){},rowMoved:function(){},rowUpdated:function(){},rowSelectionChanged:function(){},rowSelected:function(){},rowDeselected:function(){},rowResized:function(){},cellClick:!1,cellDblClick:!1,cellContext:!1,cellTap:!1,cellDblTap:!1,cellTapHold:!1,cellMouseEnter:!1,cellMouseLeave:!1,cellMouseOver:!1,cellMouseOut:!1,cellMouseMove:!1,cellEditing:function(){},cellEdited:function(){},cellEditCancelled:function(){},columnMoved:!1,columnResized:function(){},columnTitleChanged:function(){},columnVisibilityChanged:function(){},htmlImporting:function(){},htmlImported:function(){},dataLoading:function(){},dataLoaded:function(){},dataEdited:!1,dataChanged:!1,ajaxRequesting:function(){},ajaxResponse:!1,ajaxError:function(){},dataFiltering:!1,dataFiltered:!1,dataSorting:function(){},dataSorted:function(){},groupToggleElement:"arrow",groupClosedShowCalcs:!1,dataGrouping:function(){},dataGrouped:!1,groupVisibilityChanged:function(){},groupClick:!1,groupDblClick:!1,groupContext:!1,groupContextMenu:!1,groupClickMenu:!1,groupTap:!1,groupDblTap:!1,groupTapHold:!1,columnCalcs:!0,pageLoaded:function(){},localized:function(){},validationMode:"blocking",validationFailed:function(){},historyUndo:function(){},historyRedo:function(){},scrollHorizontal:function(){},scrollVertical:function(){}},L.prototype.initializeOptions=function(e){if(!1!==e.invalidOptionWarnings)for(var t in e)void 0===this.defaultOptions[t]&&console.warn("Invalid table constructor option:",t);for(var t in this.defaultOptions)t in e?this.options[t]=e[t]:Array.isArray(this.defaultOptions[t])?this.options[t]=Object.assign([],this.defaultOptions[t]):"object"===_typeof(this.defaultOptions[t])&&null!==this.defaultOptions[t]?this.options[t]=Object.assign({},this.defaultOptions[t]):this.options[t]=this.defaultOptions[t]},L.prototype.initializeElement=function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement?(this.element=e,!0):"string"==typeof e?(this.element=document.querySelector(e),!!this.element||(console.error("Tabulator Creation Error - no element found matching selector: ",e),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",e),!1)},L.prototype.rtlCheck=function(){var e=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if("rtl"!==e.direction)break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}},L.prototype._mapDepricatedFunctionality=function(){(this.options.persistentLayout||this.options.persistentSort||this.options.persistentFilter)&&(this.options.persistence||(this.options.persistence={})),this.options.dataEdited&&(console.warn("DEPRECATION WARNING - dataEdited option has been deprecated, please use the dataChanged option instead"),this.options.dataChanged=this.options.dataEdited),this.options.downloadDataFormatter&&console.warn("DEPRECATION WARNING - downloadDataFormatter option has been deprecated"),void 0!==this.options.clipboardCopyHeader&&(this.options.columnHeaders=this.options.clipboardCopyHeader,console.warn("DEPRECATION WARNING - clipboardCopyHeader option has been deprecated, please use the columnHeaders property on the clipboardCopyConfig option")),!0!==this.options.printVisibleRows&&(console.warn("printVisibleRows option is deprecated, you should now use the printRowRange option"),this.options.persistence.printRowRange="active"),!0!==this.options.printCopyStyle&&(console.warn("printCopyStyle option is deprecated, you should now use the printStyled option"),this.options.persistence.printStyled=this.options.printCopyStyle),this.options.persistentLayout&&(console.warn("persistentLayout option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&void 0===this.options.persistence.columns&&(this.options.persistence.columns=!0)),this.options.persistentSort&&(console.warn("persistentSort option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&void 0===this.options.persistence.sort&&(this.options.persistence.sort=!0)),this.options.persistentFilter&&(console.warn("persistentFilter option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&void 0===this.options.persistence.filter&&(this.options.persistence.filter=!0)),this.options.columnVertAlign&&(console.warn("columnVertAlign option is deprecated, you should now use the columnHeaderVertAlign option"),this.options.columnHeaderVertAlign=this.options.columnVertAlign)},L.prototype._clearSelection=function(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")},L.prototype._create=function(){this._clearObjectPointers(),this._mapDepricatedFunctionality(),this.bindModules(),this.rtlCheck(),"TABLE"===this.element.tagName&&this.modExists("htmlTableImport",!0)&&this.modules.htmlTableImport.parseTable(),this.columnManager=new t(this),this.rowManager=new r(this),this.footerManager=new c(this),this.columnManager.setRowManager(this.rowManager),this.rowManager.setColumnManager(this.columnManager),this.options.virtualDomHoz&&(this.vdomHoz=new o(this)),this._buildElement(),this._loadInitialData()},L.prototype._clearObjectPointers=function(){this.options.columns=this.options.columns.slice(0),this.options.reactiveData||(this.options.data=this.options.data.slice(0))},L.prototype._buildElement=function(){var e,t,n,r,o=this,i=this.element,s=this.modules,a=this.options;for(a.tableBuilding.call(this),i.classList.add("tabulator"),i.setAttribute("role","grid");i.firstChild;)i.removeChild(i.firstChild);for(e in a.height&&(a.height=isNaN(a.height)?a.height:a.height+"px",i.style.height=a.height),!1!==a.minHeight&&(a.minHeight=isNaN(a.minHeight)?a.minHeight:a.minHeight+"px",i.style.minHeight=a.minHeight),!1!==a.maxHeight&&(a.maxHeight=isNaN(a.maxHeight)?a.maxHeight:a.maxHeight+"px",i.style.maxHeight=a.maxHeight),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modExists("layout",!0)&&s.layout.initialize(a.layout),s.localize.initialize(),!1!==a.headerFilterPlaceholder&&s.localize.setHeaderFilterPlaceholder(a.headerFilterPlaceholder),a.langs)s.localize.installLang(e,a.langs[e]);s.localize.setLocale(a.locale),"string"==typeof a.placeholder&&((t=document.createElement("div")).classList.add("tabulator-placeholder"),(n=document.createElement("span")).innerHTML=a.placeholder,t.appendChild(n),a.placeholder=t),i.appendChild(this.columnManager.getElement()),i.appendChild(this.rowManager.getElement()),a.footerElement&&this.footerManager.activate(),a.persistence&&this.modExists("persistence",!0)&&s.persistence.initialize(),a.movableRows&&this.modExists("moveRow")&&s.moveRow.initialize(),a.autoColumns&&this.options.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modExists("columnCalcs")&&s.columnCalcs.initialize(),this.columnManager.setColumns(a.columns),a.dataTree&&this.modExists("dataTree",!0)&&s.dataTree.initialize(),this.modExists("frozenRows")&&this.modules.frozenRows.initialize(),(a.persistence&&this.modExists("persistence",!0)&&s.persistence.config.sort||a.initialSort)&&this.modExists("sort",!0)&&(r=[],a.persistence&&this.modExists("persistence",!0)&&s.persistence.config.sort?!1===(r=s.persistence.load("sort"))&&a.initialSort&&(r=a.initialSort):a.initialSort&&(r=a.initialSort),s.sort.setSort(r)),(a.persistence&&this.modExists("persistence",!0)&&s.persistence.config.filter||a.initialFilter)&&this.modExists("filter",!0)&&(r=[],a.persistence&&this.modExists("persistence",!0)&&s.persistence.config.filter?!1===(r=s.persistence.load("filter"))&&a.initialFilter&&(r=a.initialFilter):a.initialFilter&&(r=a.initialFilter),s.filter.setFilter(r)),a.initialHeaderFilter&&this.modExists("filter",!0)&&a.initialHeaderFilter.forEach(function(e){var t=o.columnManager.findColumn(e.field);if(!t)return console.warn("Column Filter Error - No matching column found:",e.field),!1;s.filter.setHeaderFilterValue(t,e.value)}),this.modExists("ajax")&&s.ajax.initialize(),a.pagination&&this.modExists("page",!0)&&s.page.initialize(),a.groupBy&&this.modExists("groupRows",!0)&&s.groupRows.initialize(),this.modExists("keybindings")&&s.keybindings.initialize(),this.modExists("selectRow")&&s.selectRow.clearSelectionData(!0),a.autoResize&&this.modExists("resizeTable")&&s.resizeTable.initialize(),this.modExists("clipboard")&&s.clipboard.initialize(),a.printAsHtml&&this.modExists("print")&&s.print.initialize(),a.tableBuilt.call(this)},L.prototype._loadInitialData=function(){var e=this;if(e.options.pagination&&e.modExists("page"))if(e.modules.page.reset(!0,!0),"local"==e.options.pagination){if(e.options.data.length)e.rowManager.setData(e.options.data,!1,!0);else{if((e.options.ajaxURL||e.options.ajaxURLGenerator)&&e.modExists("ajax"))return void e.modules.ajax.loadData(!1,!0).then(function(){}).catch(function(){e.options.paginationInitialPage&&e.modules.page.setPage(e.options.paginationInitialPage)});e.rowManager.setData(e.options.data,!1,!0)}e.options.paginationInitialPage&&e.modules.page.setPage(e.options.paginationInitialPage)}else e.options.ajaxURL?e.modules.page.setPage(e.options.paginationInitialPage).then(function(){}).catch(function(){}):e.rowManager.setData([],!1,!0);else e.options.data.length?e.rowManager.setData(e.options.data):(e.options.ajaxURL||e.options.ajaxURLGenerator)&&e.modExists("ajax")?e.modules.ajax.loadData(!1,!0).then(function(){}).catch(function(){}):e.rowManager.setData(e.options.data,!1,!0)},L.prototype.destroy=function(){var e=this.element;for(L.prototype.comms.deregister(this),this.options.reactiveData&&this.modExists("reactiveData",!0)&&this.modules.reactiveData.unwatchData(),this.rowManager.rows.forEach(function(e){e.wipe()}),this.rowManager.rows=[],this.rowManager.activeRows=[],this.rowManager.displayRows=[],this.options.autoResize&&this.modExists("resizeTable")&&this.modules.resizeTable.clearBindings(),this.modExists("keybindings")&&this.modules.keybindings.clearBindings();e.firstChild;)e.removeChild(e.firstChild);e.classList.remove("tabulator")},L.prototype._detectBrowser=function(){var e=navigator.userAgent||navigator.vendor||window.opera;-1<e.indexOf("Trident")?(this.browser="ie",this.browserSlow=!0):-1<e.indexOf("Edge")?(this.browser="edge",this.browserSlow=!0):(-1<e.indexOf("Firefox")?this.browser="firefox":this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))},L.prototype.blockRedraw=function(){return this.rowManager.blockRedraw()},L.prototype.restoreRedraw=function(){return this.rowManager.restoreRedraw()},L.prototype.setDataFromLocalFile=function(e){var a=this;return new Promise(function(o,i){var s=document.createElement("input");s.type="file",s.accept=e||".json,application/json",s.addEventListener("change",function(e){var t,n=s.files[0],r=new FileReader;r.readAsText(n),r.onload=function(e){try{t=JSON.parse(r.result)}catch(e){return console.warn("File Load Error - File contents is invalid JSON",e),void i(e)}a.setData(t).then(function(e){o(e)}).catch(function(e){o(e)})},r.onerror=function(e){console.warn("File Load Error - Unable to read file"),i()}}),s.click()})},L.prototype.setData=function(e,t,n){return this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this._setData(e,t,n,!1,!0)},L.prototype._setData=function(e,t,n,r,o){var i=this;return"string"!=typeof e?e?i.rowManager.setData(e,r,o):i.modExists("ajax")&&(i.modules.ajax.getUrl||i.options.ajaxURLGenerator)?"remote"==i.options.pagination&&i.modExists("page",!0)?(i.modules.page.reset(!0,!0),i.modules.page.setPage(1)):i.modules.ajax.loadData(r,o):i.rowManager.setData([],r,o):0==e.indexOf("{")||0==e.indexOf("[")?i.rowManager.setData(JSON.parse(e),r,o):i.modExists("ajax",!0)?(t&&i.modules.ajax.setParams(t),n&&i.modules.ajax.setConfig(n),i.modules.ajax.setUrl(e),"remote"==i.options.pagination&&i.modExists("page",!0)?(i.modules.page.reset(!0,!0),i.modules.page.setPage(1)):i.modules.ajax.loadData(r,o)):void 0},L.prototype.clearData=function(){this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this.rowManager.clearData()},L.prototype.getData=function(e){return!0===e&&(console.warn("passing a boolean to the getData function is deprecated, you should now pass the string 'active'"),e="active"),this.rowManager.getData(e)},L.prototype.getDataCount=function(e){return!0===e&&(console.warn("passing a boolean to the getDataCount function is deprecated, you should now pass the string 'active'"),e="active"),this.rowManager.getDataCount(e)},L.prototype.searchRows=function(e,t,n){if(this.modExists("filter",!0))return this.modules.filter.search("rows",e,t,n)},L.prototype.searchData=function(e,t,n){if(this.modExists("filter",!0))return this.modules.filter.search("data",e,t,n)},L.prototype.getHtml=function(e,t,n){if(this.modExists("export",!0))return this.modules.export.getHtml(e,t,n)},L.prototype.print=function(e,t,n){if(this.modExists("print",!0))return this.modules.print.printFullscreen(e,t,n)},L.prototype.getAjaxUrl=function(){if(this.modExists("ajax",!0))return this.modules.ajax.getUrl()},L.prototype.replaceData=function(e,t,n){return this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this._setData(e,t,n,!0)},L.prototype.updateData=function(t){var r=this,o=this,i=0;return new Promise(function(n,e){r.modExists("ajax")&&r.modules.ajax.blockActiveRequest(),(t="string"==typeof t?JSON.parse(t):t)?t.forEach(function(e){var t=o.rowManager.findRow(e[o.options.index]);t&&(i++,t.updateData(e).then(function(){--i||n()}))}):(console.warn("Update Error - No data provided"),e("Update Error - No data provided"))})},L.prototype.addData=function(t,r,o){var i=this;return new Promise(function(n,e){i.modExists("ajax")&&i.modules.ajax.blockActiveRequest(),(t="string"==typeof t?JSON.parse(t):t)?i.rowManager.addRows(t,r,o).then(function(e){var t=[];e.forEach(function(e){t.push(e.getComponent())}),n(t)}):(console.warn("Update Error - No data provided"),e("Update Error - No data provided"))})},L.prototype.updateOrAddData=function(t){var r=this,o=this,i=[],s=0;return new Promise(function(n,e){r.modExists("ajax")&&r.modules.ajax.blockActiveRequest(),(t="string"==typeof t?JSON.parse(t):t)?t.forEach(function(e){var t=o.rowManager.findRow(e[o.options.index]);s++,t?t.updateData(e).then(function(){s--,i.push(t.getComponent()),s||n(i)}):o.rowManager.addRows(e).then(function(e){s--,i.push(e[0].getComponent()),s||n(i)})}):(console.warn("Update Error - No data provided"),e("Update Error - No data provided"))})},L.prototype.getRow=function(e){var t=this.rowManager.findRow(e);return t?t.getComponent():(console.warn("Find Error - No matching row found:",e),!1)},L.prototype.getRowFromPosition=function(e,t){t=this.rowManager.getRowFromPosition(e,t);return t?t.getComponent():(console.warn("Find Error - No matching row found:",e),!1)},L.prototype.deleteRow=function(a){var l=this;return new Promise(function(e,n){function r(){++o==a.length&&i&&(t.rowManager.reRenderInPosition(),e())}var t=l,o=0,i=0,s=[];(a=!Array.isArray(a)?[a]:a).forEach(function(e){var t=l.rowManager.findRow(e,!0);t?s.push(t):(console.warn("Delete Error - No matching row found:",e),n("Delete Error - No matching row found"),r())}),s.sort(function(e,t){return l.rowManager.rows.indexOf(e)>l.rowManager.rows.indexOf(t)?1:-1}),s.forEach(function(e){e.delete().then(function(){i++,r()}).catch(function(e){r(),n(e)})})})},L.prototype.addRow=function(n,r,o){var i=this;return new Promise(function(t,e){"string"==typeof n&&(n=JSON.parse(n)),i.rowManager.addRows(n,r,o).then(function(e){i.modExists("columnCalcs")&&i.modules.columnCalcs.recalc(i.rowManager.activeRows),t(e[0].getComponent())})})},L.prototype.updateOrAddRow=function(r,o){var i=this;return new Promise(function(t,n){var e=i.rowManager.findRow(r);"string"==typeof o&&(o=JSON.parse(o)),e?e.updateData(o).then(function(){i.modExists("columnCalcs")&&i.modules.columnCalcs.recalc(i.rowManager.activeRows),t(e.getComponent())}).catch(function(e){n(e)}):e=i.rowManager.addRows(o).then(function(e){i.modExists("columnCalcs")&&i.modules.columnCalcs.recalc(i.rowManager.activeRows),t(e[0].getComponent())}).catch(function(e){n(e)})})},L.prototype.updateRow=function(r,o){var i=this;return new Promise(function(e,t){var n=i.rowManager.findRow(r);"string"==typeof o&&(o=JSON.parse(o)),n?n.updateData(o).then(function(){e(n.getComponent())}).catch(function(e){t(e)}):(console.warn("Update Error - No matching row found:",r),t("Update Error - No matching row found"))})},L.prototype.scrollToRow=function(r,o,i){var s=this;return new Promise(function(e,t){var n=s.rowManager.findRow(r);n?s.rowManager.scrollToRow(n,o,i).then(function(){e()}).catch(function(e){t(e)}):(console.warn("Scroll Error - No matching row found:",r),t("Scroll Error - No matching row found"))})},L.prototype.moveRow=function(e,t,n){var r=this.rowManager.findRow(e);r?r.moveToRow(t,n):console.warn("Move Error - No matching row found:",e)},L.prototype.getRows=function(e){return!0===e&&(console.warn("passing a boolean to the getRows function is deprecated, you should now pass the string 'active'"),e="active"),this.rowManager.getComponents(e)},L.prototype.getRowPosition=function(e,t){var n=this.rowManager.findRow(e);return n?this.rowManager.getRowPosition(n,t):(console.warn("Position Error - No matching row found:",e),!1)},L.prototype.copyToClipboard=function(e){this.modExists("clipboard",!0)&&this.modules.clipboard.copy(e)},L.prototype.setColumns=function(e){this.columnManager.setColumns(e)},L.prototype.getColumns=function(e){return this.columnManager.getComponents(e)},L.prototype.getColumn=function(e){var t=this.columnManager.findColumn(e);return t?t.getComponent():(console.warn("Find Error - No matching column found:",e),!1)},L.prototype.getColumnDefinitions=function(){return this.columnManager.getDefinitionTree()},L.prototype.getColumnLayout=function(){if(this.modExists("persistence",!0))return this.modules.persistence.parseColumns(this.columnManager.getColumns())},L.prototype.setColumnLayout=function(e){return!!this.modExists("persistence",!0)&&(this.columnManager.setColumns(this.modules.persistence.mergeDefinition(this.options.columns,e)),!0)},L.prototype.showColumn=function(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Show Error - No matching column found:",e),!1;t.show(),this.options.responsiveLayout&&this.modExists("responsiveLayout",!0)&&this.modules.responsiveLayout.update()},L.prototype.hideColumn=function(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Hide Error - No matching column found:",e),!1;t.hide(),this.options.responsiveLayout&&this.modExists("responsiveLayout",!0)&&this.modules.responsiveLayout.update()},L.prototype.toggleColumn=function(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Visibility Toggle Error - No matching column found:",e),!1;t.visible?t.hide():t.show()},L.prototype.addColumn=function(r,o,i){var s=this;return new Promise(function(t,n){var e=s.columnManager.findColumn(i);s.columnManager.addColumn(r,o,e).then(function(e){t(e.getComponent())}).catch(function(e){n(e)})})},L.prototype.deleteColumn=function(r){var o=this;return new Promise(function(e,t){var n=o.columnManager.findColumn(r);n?n.delete().then(function(){e()}).catch(function(e){t(e)}):(console.warn("Column Delete Error - No matching column found:",r),t())})},L.prototype.updateColumnDefinition=function(r,o){var i=this;return new Promise(function(t,n){var e=i.columnManager.findColumn(r);e?e.updateDefinition(o).then(function(e){t(e)}).catch(function(e){n(e)}):(console.warn("Column Update Error - No matching column found:",r),n())})},L.prototype.moveColumn=function(e,t,n){var r=this.columnManager.findColumn(e),t=this.columnManager.findColumn(t);r?t?this.columnManager.moveColumn(r,t,n):console.warn("Move Error - No matching column found:",t):console.warn("Move Error - No matching column found:",e)},L.prototype.scrollToColumn=function(r,o,i){var s=this;return new Promise(function(e,t){var n=s.columnManager.findColumn(r);n?s.columnManager.scrollToColumn(n,o,i).then(function(){e()}).catch(function(e){t(e)}):(console.warn("Scroll Error - No matching column found:",r),t("Scroll Error - No matching column found"))})},L.prototype.setLocale=function(e){this.modules.localize.setLocale(e)},L.prototype.getLocale=function(){return this.modules.localize.getLocale()},L.prototype.getLang=function(e){return this.modules.localize.getLang(e)},L.prototype.redraw=function(e){this.columnManager.redraw(e),this.rowManager.redraw(e)},L.prototype.setHeight=function(e){"classic"!==this.rowManager.renderMode?(this.options.height=isNaN(e)?e:e+"px",this.element.style.height=this.options.height,this.rowManager.setRenderMode(),this.rowManager.redraw()):console.warn("setHeight function is not available in classic render mode")},L.prototype.setSort=function(e,t){this.modExists("sort",!0)&&(this.modules.sort.setSort(e,t),this.rowManager.sorterRefresh())},L.prototype.getSorters=function(){if(this.modExists("sort",!0))return this.modules.sort.getSort()},L.prototype.clearSort=function(){this.modExists("sort",!0)&&(this.modules.sort.clear(),this.rowManager.sorterRefresh())},L.prototype.setFilter=function(e,t,n,r){this.modExists("filter",!0)&&(this.modules.filter.setFilter(e,t,n,r),this.rowManager.filterRefresh())},L.prototype.refreshFilter=function(){this.modExists("filter",!0)&&this.rowManager.filterRefresh()},L.prototype.addFilter=function(e,t,n,r){this.modExists("filter",!0)&&(this.modules.filter.addFilter(e,t,n,r),this.rowManager.filterRefresh())},L.prototype.getFilters=function(e){if(this.modExists("filter",!0))return this.modules.filter.getFilters(e)},L.prototype.setHeaderFilterFocus=function(e){if(this.modExists("filter",!0)){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Filter Focus Error - No matching column found:",e),!1;this.modules.filter.setHeaderFilterFocus(t)}},L.prototype.getHeaderFilterValue=function(e){if(this.modExists("filter",!0)){var t=this.columnManager.findColumn(e);if(t)return this.modules.filter.getHeaderFilterValue(t);console.warn("Column Filter Error - No matching column found:",e)}},L.prototype.setHeaderFilterValue=function(e,t){if(this.modExists("filter",!0)){var n=this.columnManager.findColumn(e);if(!n)return console.warn("Column Filter Error - No matching column found:",e),!1;this.modules.filter.setHeaderFilterValue(n,t)}},L.prototype.getHeaderFilters=function(){if(this.modExists("filter",!0))return this.modules.filter.getHeaderFilters()},L.prototype.removeFilter=function(e,t,n){this.modExists("filter",!0)&&(this.modules.filter.removeFilter(e,t,n),this.rowManager.filterRefresh())},L.prototype.clearFilter=function(e){this.modExists("filter",!0)&&(this.modules.filter.clearFilter(e),this.rowManager.filterRefresh())},L.prototype.clearHeaderFilter=function(){this.modExists("filter",!0)&&(this.modules.filter.clearHeaderFilter(),this.rowManager.filterRefresh())},L.prototype.selectRow=function(e){this.modExists("selectRow",!0)&&(!0===e&&(console.warn("passing a boolean to the selectRowselectRow function is deprecated, you should now pass the string 'active'"),e="active"),this.modules.selectRow.selectRows(e))},L.prototype.deselectRow=function(e){this.modExists("selectRow",!0)&&this.modules.selectRow.deselectRows(e)},L.prototype.toggleSelectRow=function(e){this.modExists("selectRow",!0)&&this.modules.selectRow.toggleRow(e)},L.prototype.getSelectedRows=function(){if(this.modExists("selectRow",!0))return this.modules.selectRow.getSelectedRows()},L.prototype.getSelectedData=function(){if(this.modExists("selectRow",!0))return this.modules.selectRow.getSelectedData()},L.prototype.getInvalidCells=function(){if(this.modExists("validate",!0))return this.modules.validate.getInvalidCells()},L.prototype.clearCellValidation=function(e){var t=this;this.modExists("validate",!0)&&(e=e||this.modules.validate.getInvalidCells(),(e=!Array.isArray(e)?[e]:e).forEach(function(e){t.modules.validate.clearValidation(e._getSelf())}))},L.prototype.validate=function(e){var t=[];return this.rowManager.rows.forEach(function(e){e=e.validate();!0!==e&&(t=t.concat(e))}),!t.length||t},L.prototype.setMaxPage=function(e){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.setMaxPage(e)},L.prototype.setPage=function(e){return this.options.pagination&&this.modExists("page")?this.modules.page.setPage(e):new Promise(function(e,t){t()})},L.prototype.setPageToRow=function(n){var r=this;return new Promise(function(e,t){r.options.pagination&&r.modExists("page")?(n=r.rowManager.findRow(n))?r.modules.page.setPageToRow(n).then(function(){e()}).catch(function(){t()}):t():t()})},L.prototype.setPageSize=function(e){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.setPageSize(e),this.modules.page.setPage(1).then(function(){}).catch(function(){})},L.prototype.getPageSize=function(){if(this.options.pagination&&this.modExists("page",!0))return this.modules.page.getPageSize()},L.prototype.previousPage=function(){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.previousPage()},L.prototype.nextPage=function(){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.nextPage()},L.prototype.getPage=function(){return!(!this.options.pagination||!this.modExists("page"))&&this.modules.page.getPage()},L.prototype.getPageMax=function(){return!(!this.options.pagination||!this.modExists("page"))&&this.modules.page.getPageMax()},L.prototype.setGroupBy=function(e){if(!this.modExists("groupRows",!0))return!1;this.options.groupBy=e,this.modules.groupRows.initialize(),this.rowManager.refreshActiveData("display"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")},L.prototype.setGroupValues=function(e){if(!this.modExists("groupRows",!0))return!1;this.options.groupValues=e,this.modules.groupRows.initialize(),this.rowManager.refreshActiveData("display"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")},L.prototype.setGroupStartOpen=function(e){if(!this.modExists("groupRows",!0))return!1;this.options.groupStartOpen=e,this.modules.groupRows.initialize(),this.options.groupBy?(this.rowManager.refreshActiveData("group"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")):console.warn("Grouping Update - cant refresh view, no groups have been set")},L.prototype.setGroupHeader=function(e){if(!this.modExists("groupRows",!0))return!1;this.options.groupHeader=e,this.modules.groupRows.initialize(),this.options.groupBy?(this.rowManager.refreshActiveData("group"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")):console.warn("Grouping Update - cant refresh view, no groups have been set")},L.prototype.getGroups=function(e){return!!this.modExists("groupRows",!0)&&this.modules.groupRows.getGroups(!0)},L.prototype.getGroupedData=function(){if(this.modExists("groupRows",!0))return this.options.groupBy?this.modules.groupRows.getGroupedData():this.getData()},L.prototype.getEditedCells=function(){if(this.modExists("edit",!0))return this.modules.edit.getEditedCells()},L.prototype.clearCellEdited=function(e){var t=this;this.modExists("edit",!0)&&(e=e||this.modules.edit.getEditedCells(),(e=!Array.isArray(e)?[e]:e).forEach(function(e){t.modules.edit.clearEdited(e._getSelf())}))},L.prototype.getCalcResults=function(){return!!this.modExists("columnCalcs",!0)&&this.modules.columnCalcs.getResults()},L.prototype.recalc=function(){this.modExists("columnCalcs",!0)&&this.modules.columnCalcs.recalcAll(this.rowManager.activeRows)},L.prototype.navigatePrev=function(){var e=!1;return!(!this.modExists("edit",!0)||!(e=this.modules.edit.currentCell))&&e.nav().prev()},L.prototype.navigateNext=function(){var e=!1;return!(!this.modExists("edit",!0)||!(e=this.modules.edit.currentCell))&&e.nav().next()},L.prototype.navigateLeft=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().left())},L.prototype.navigateRight=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().right())},L.prototype.navigateUp=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().up())},L.prototype.navigateDown=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().down())},L.prototype.undo=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.undo()},L.prototype.redo=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.redo()},L.prototype.getHistoryUndoSize=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.getHistoryUndoSize()},L.prototype.getHistoryRedoSize=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.getHistoryRedoSize()},L.prototype.clearHistory=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.clear()},L.prototype.download=function(e,t,n,r){this.modExists("download",!0)&&this.modules.download.download(e,t,n,r)},L.prototype.downloadToTab=function(e,t,n,r){this.modExists("download",!0)&&this.modules.download.download(e,t,n,r,!0)},L.prototype.tableComms=function(e,t,n,r){this.modules.comms.receive(e,t,n,r)},L.prototype.moduleBindings={},L.prototype.extendModule=function(e,t,n){if(L.prototype.moduleBindings[e]){var r=L.prototype.moduleBindings[e].prototype[t];if(r)if("object"==(void 0===n?"undefined":_typeof(n)))for(var o in n)r[o]=n[o];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",t)}else console.warn("Module Error - module does not exist:",e)},L.prototype.registerModule=function(e,t){L.prototype.moduleBindings[e]=t},L.prototype.bindModules=function(){for(var e in this.modules={},L.prototype.moduleBindings)this.modules[e]=new L.prototype.moduleBindings[e](this)},L.prototype.modExists=function(e,t){return!!this.modules[e]||(t&&console.error("Tabulator Module Not Installed: "+e),!1)},L.prototype.helpers={elVisible:function(e){return!(e.offsetWidth<=0&&e.offsetHeight<=0)},elOffset:function(e){e=e.getBoundingClientRect();return{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}},deepClone:function(e){var t,n=Object.assign(Array.isArray(e)?[]:{},e);for(t in e)null!=e[t]&&"object"===_typeof(e[t])&&(e[t]instanceof Date?n[t]=new Date(e[t]):n[t]=this.deepClone(e[t]));return n}},L.prototype.comms={tables:[],register:function(e){L.prototype.comms.tables.push(e)},deregister:function(e){e=L.prototype.comms.tables.indexOf(e);-1<e&&L.prototype.comms.tables.splice(e,1)},lookupTable:function(e,t){var n,r,o=[];if("string"==typeof e){if((n=document.querySelectorAll(e)).length)for(var i=0;i<n.length;i++)(r=L.prototype.comms.matchElement(n[i]))&&o.push(r)}else"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e instanceof L?(r=L.prototype.comms.matchElement(e))&&o.push(r):Array.isArray(e)?e.forEach(function(e){o=o.concat(L.prototype.comms.lookupTable(e))}):t||console.warn("Table Connection Error - Invalid Selector",e);return o},matchElement:function(t){return L.prototype.comms.tables.find(function(e){return t instanceof L?e===t:e.element===t})}},L.prototype.findTable=function(e){e=L.prototype.comms.lookupTable(e,!0);return!(Array.isArray(e)&&!e.length)&&e};var d=function(e){this.table=e,this.mode=null};d.prototype.initialize=function(e){this.modes[e]?this.mode=e:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode)},d.prototype.getMode=function(){return this.mode},d.prototype.layout=function(){this.modes[this.mode].call(this,this.table.columnManager.columnsByIndex),0===this.mode.indexOf("fitData")&&this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns")},d.prototype.modes={fitData:function(e){this.table.options.virtualDomHoz?this.table.vdomHoz.fitDataLayoutOverride():e.forEach(function(e){e.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataFill:function(e){e.forEach(function(e){e.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataTable:function(e){e.forEach(function(e){e.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataStretch:function(e){var t,n=this,r=0,o=this.table.rowManager.element.clientWidth,i=!1;e.forEach(function(e,t){e.widthFixed||e.reinitializeWidth(),(n.table.options.responsiveLayout?e.modules.responsive:e).visible&&(i=e),e.visible&&(r+=e.getWidth())}),i?(t=o-r+i.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(i.setWidth(0),this.table.modules.responsiveLayout.update()),0<t?i.setWidth(t):i.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitColumns:function(e){function f(e){return"string"==typeof e?-1<e.indexOf("%")?n/100*parseInt(e):parseInt(e):e}function m(e,r,o,i){function s(e){return o*(e.column.definition.widthGrow||1)}function a(e){return f(e.width)-o*(e.column.definition.widthShrink||0)}var t,n,l=[],u=0,c=b,d=0,p=0,h=[];return e.forEach(function(e,t){var n=(i?a:s)(e);e.column.minWidth>=n?l.push(e):e.column.maxWidth&&e.column.maxWidth<n?(e.width=e.column.maxWidth,r-=e.column.maxWidth,(c-=i?e.column.definition.widthShrink||1:e.column.definition.widthGrow||1)&&(o=Math.floor(r/c))):(h.push(e),p+=i?e.column.definition.widthShrink||1:e.column.definition.widthGrow||1)}),l.length?(l.forEach(function(e){u+=i?e.width-e.column.minWidth:e.column.minWidth,e.width=e.column.minWidth}),d=(t=r-u)-(n=p?Math.floor(t/p):t)*p,d+=m(h,t,n,i)):(d=p?r-Math.floor(r/p)*p:r,h.forEach(function(e){e.width=(i?a:s)(e)})),d}var t,n=this.table.element.clientWidth,r=0,o=0,b=0,i=[],s=[],a=0,l=0;this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(n-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),e.forEach(function(e){var t,n;e.visible&&(n=e.definition.width,t=parseInt(e.minWidth),n?(n=f(n),r+=t<n?n:t,e.definition.widthShrink&&(s.push({column:e,width:t<n?n:t}),a+=e.definition.widthShrink)):(i.push({column:e,width:0}),b+=e.definition.widthGrow||1))});var o=n-r,u=Math.floor(o/b),l=m(i,o,u,!1);i.length&&0<l&&(i[i.length-1].width+=+l),i.forEach(function(e){o-=e.width}),0<(t=Math.abs(l)+o)&&a&&(l=m(s,t,Math.floor(t/a),!0)),s.length&&(s[s.length-1].width-=l),i.forEach(function(e){e.column.setWidth(e.width)}),s.forEach(function(e){e.column.setWidth(e.width)})}},L.prototype.registerModule("layout",d);d=function(e){this.table=e,this.locale="default",this.lang=!1,this.bindings={},this.langList={}};d.prototype.initialize=function(){this.langList=L.prototype.helpers.deepClone(this.langs)},d.prototype.setHeaderFilterPlaceholder=function(e){this.langList.default.headerFilters.default=e},d.prototype.setHeaderFilterColumnPlaceholder=function(e,t){this.langList.default.headerFilters.columns[e]=t,this.lang&&!this.lang.headerFilters.columns[e]&&(this.lang.headerFilters.columns[e]=t)},d.prototype.installLang=function(e,t){this.langList[e]?this._setLangProp(this.langList[e],t):this.langList[e]=t},d.prototype._setLangProp=function(e,t){for(var n in t)e[n]&&"object"==_typeof(e[n])?this._setLangProp(e[n],t[n]):e[n]=t[n]},d.prototype.setLocale=function(e){var t,n=this;(e=!0===(e=e||"default")&&navigator.language?navigator.language.toLowerCase():e)&&!n.langList[e]&&(t=e.split("-")[0],e=n.langList[t]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",e,t),t):(console.warn("Localization Error - Matching locale not found, using default: ",e),"default")),n.locale=e,n.lang=L.prototype.helpers.deepClone(n.langList.default||{}),"default"!=e&&function e(t,n){for(var r in t)"object"==_typeof(t[r])?(n[r]||(n[r]={}),e(t[r],n[r])):n[r]=t[r]}(n.langList[e],n.lang),n.table.options.localized.call(n.table,n.locale,n.lang),n._executeBindings()},d.prototype.getLocale=function(e){return self.locale},d.prototype.getLang=function(e){return e?this.langList[e]:this.lang},d.prototype.getText=function(e,t){e=(e=t?e+"|"+t:e).split("|");return this._getLangElement(e,this.locale)||""},d.prototype._getLangElement=function(e,t){var n=this.lang;return e.forEach(function(e){n&&(e=n[e],n=void 0!==e&&e)}),n},d.prototype.bind=function(e,t){this.bindings[e]||(this.bindings[e]=[]),this.bindings[e].push(t),t(this.getText(e),this.lang)},d.prototype._executeBindings=function(){var e,n=this;for(e in n.bindings)!function(t){n.bindings[t].forEach(function(e){e(n.getText(t),n.lang)})}(e)},d.prototype.langs={default:{groups:{item:"item",items:"items"},columns:{},ajax:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All"},headerFilters:{default:"filter column...",columns:{}}}},L.prototype.registerModule("localize",d);d=function(e){this.table=e};d.prototype.getConnections=function(e){var t=this,n=[];return L.prototype.comms.lookupTable(e).forEach(function(e){t.table!==e&&n.push(e)}),n},d.prototype.send=function(e,t,n,r){var o=this,i=this.getConnections(e);i.forEach(function(e){e.tableComms(o.table.element,t,n,r)}),!i.length&&e&&console.warn("Table Connection Error - No tables matching selector found",e)},d.prototype.receive=function(e,t,n,r){if(this.table.modExists(t))return this.table.modules[t].commsReceived(e,n,r);console.warn("Inter-table Comms Error - no such module:",t)},L.prototype.registerModule("comms",d);d=function(e){this.table=e,this.allowedTypes=["","data","download","clipboard","print","htmlOutput"]};d.prototype.initializeColumn=function(n){var r=this,o=!1,i={};this.allowedTypes.forEach(function(e){var t,e="accessor"+(e.charAt(0).toUpperCase()+e.slice(1));n.definition[e]&&(t=r.lookupAccessor(n.definition[e]))&&(o=!0,i[e]={accessor:t,params:n.definition[e+"Params"]||{}})}),o&&(n.modules.accessor=i)},d.prototype.lookupAccessor=function(e){var t=!1;switch(void 0===e?"undefined":_typeof(e)){case"string":this.accessors[e]?t=this.accessors[e]:console.warn("Accessor Error - No such accessor found, ignoring: ",e);break;case"function":t=e}return t},d.prototype.transformRow=function(e,i){var s="accessor"+(i.charAt(0).toUpperCase()+i.slice(1)),a=e.getComponent(),l=L.prototype.helpers.deepClone(e.data||{});return this.table.columnManager.traverse(function(e){var t,n,r,o;e.modules.accessor&&(n=e.modules.accessor[s]||e.modules.accessor.accessor||!1)&&"undefined"!=(t=e.getFieldValue(l))&&(o=e.getComponent(),r="function"==typeof n.params?n.params(t,l,i,o,a):n.params,e.setFieldValue(l,n.accessor(t,l,i,r,o,a)))}),l},d.prototype.accessors={},L.prototype.registerModule("accessor",d);d=function(e){this.table=e,this.config=!1,this.url="",this.urlGenerator=!1,this.params=!1,this.loaderElement=this.createLoaderElement(),this.msgElement=this.createMsgElement(),this.loadingElement=!1,this.errorElement=!1,this.loaderPromise=!1,this.progressiveLoad=!1,this.loading=!1,this.requestOrder=0};d.prototype.initialize=function(){var e;this.loaderElement.appendChild(this.msgElement),this.table.options.ajaxLoaderLoading&&("string"==typeof this.table.options.ajaxLoaderLoading?((e=document.createElement("template")).innerHTML=this.table.options.ajaxLoaderLoading.trim(),this.loadingElement=e.content.firstChild):this.loadingElement=this.table.options.ajaxLoaderLoading),this.loaderPromise=this.table.options.ajaxRequestFunc||this.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||this.defaultURLGenerator,this.table.options.ajaxLoaderError&&("string"==typeof this.table.options.ajaxLoaderError?((e=document.createElement("template")).innerHTML=this.table.options.ajaxLoaderError.trim(),this.errorElement=e.content.firstChild):this.errorElement=this.table.options.ajaxLoaderError),this.table.options.ajaxParams&&this.setParams(this.table.options.ajaxParams),this.table.options.ajaxConfig&&this.setConfig(this.table.options.ajaxConfig),this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.table.options.ajaxProgressiveLoad&&(this.table.options.pagination?(this.progressiveLoad=!1,console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time")):this.table.modExists("page")?(this.progressiveLoad=this.table.options.ajaxProgressiveLoad,this.table.modules.page.initializeProgressive(this.progressiveLoad)):console.error("Pagination plugin is required for progressive ajax loading"))},d.prototype.createLoaderElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-loader"),e},d.prototype.createMsgElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-loader-msg"),e.setAttribute("role","alert"),e},d.prototype.setParams=function(e,t){if(t)for(var n in this.params=this.params||{},e)this.params[n]=e[n];else this.params=e},d.prototype.getParams=function(){return this.params||{}},d.prototype.setConfig=function(e){if(this._loadDefaultConfig(),"string"==typeof e)this.config.method=e;else for(var t in e)this.config[t]=e[t]},d.prototype._loadDefaultConfig=function(e){if(!this.config||e)for(var t in this.config={},this.defaultConfig)this.config[t]=this.defaultConfig[t]},d.prototype.setUrl=function(e){this.url=e},d.prototype.getUrl=function(){return this.url},d.prototype.loadData=function(e,t){return this.progressiveLoad?this._loadDataProgressive():this._loadDataStandard(e,t)},d.prototype.nextPage=function(e){this.loading||e<(this.table.options.ajaxProgressiveLoadScrollMargin||2*this.table.rowManager.getElement().clientHeight)&&this.table.modules.page.nextPage().then(function(){}).catch(function(){})},d.prototype.blockActiveRequest=function(){this.requestOrder++},d.prototype._loadDataProgressive=function(){return this.table.rowManager.setData([]),this.table.modules.page.setPage(1)},d.prototype._loadDataStandard=function(r,o){var i=this;return new Promise(function(t,n){i.sendRequest(r).then(function(e){i.table.rowManager.setData(e,r,o).then(function(){t()}).catch(function(e){n(e)})}).catch(function(e){n(e)})})},d.prototype.generateParamsList=function(e,n){var r=this,o=[];if(n=n||"",Array.isArray(e))e.forEach(function(e,t){o=o.concat(r.generateParamsList(e,n?n+"["+t+"]":t))});else if("object"===(void 0===e?"undefined":_typeof(e)))for(var t in e)o=o.concat(r.generateParamsList(e[t],n?n+"["+t+"]":t));else o.push({key:n,value:e});return o},d.prototype.serializeParams=function(e){var e=this.generateParamsList(e),t=[];return e.forEach(function(e){t.push(encodeURIComponent(e.key)+"="+encodeURIComponent(e.value))}),t.join("&")},d.prototype.sendRequest=function(e){var r,o=this,i=this,s=i.url;return i.requestOrder++,r=i.requestOrder,i._loadDefaultConfig(),new Promise(function(t,n){!1!==i.table.options.ajaxRequesting.call(o.table,i.url,i.params)?(i.loading=!0,e||i.showLoader(),o.loaderPromise(s,i.config,i.params).then(function(e){r===i.requestOrder?(i.table.options.ajaxResponse&&(e=i.table.options.ajaxResponse.call(i.table,i.url,i.params,e)),t(e),i.hideLoader(),i.loading=!1):console.warn("Ajax Response Blocked - An active ajax request was blocked by an attempt to change table data while the request was being made")}).catch(function(e){console.error("Ajax Load Error: ",e),i.table.options.ajaxError.call(i.table,e),i.showError(),setTimeout(function(){i.hideLoader()},3e3),i.loading=!1,n(e)})):n()})},d.prototype.showLoader=function(){if("function"==typeof this.table.options.ajaxLoader?this.table.options.ajaxLoader():this.table.options.ajaxLoader){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-error"),this.msgElement.classList.add("tabulator-loading"),this.loadingElement?this.msgElement.appendChild(this.loadingElement):this.msgElement.innerHTML=this.table.modules.localize.getText("ajax|loading"),this.table.element.appendChild(this.loaderElement)}},d.prototype.showError=function(){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-loading"),this.msgElement.classList.add("tabulator-error"),this.errorElement?this.msgElement.appendChild(this.errorElement):this.msgElement.innerHTML=this.table.modules.localize.getText("ajax|error"),this.table.element.appendChild(this.loaderElement)},d.prototype.hideLoader=function(){this.loaderElement.parentNode&&this.loaderElement.parentNode.removeChild(this.loaderElement)},d.prototype.defaultConfig={method:"GET"},d.prototype.defaultURLGenerator=function(e,t,n){return e&&n&&Object.keys(n).length&&(t.method&&"get"!=t.method.toLowerCase()||(t.method="get",e+=(e.includes("?")?"&":"?")+this.modules.ajax.serializeParams(n))),e},d.prototype.defaultLoaderPromise=function(r,o,i){var s,a=this;return new Promise(function(t,n){if(r=a.urlGenerator.call(a.table,r,o,i),"GET"!=o.method.toUpperCase())if(s="object"===_typeof(a.table.options.ajaxContentType)?a.table.options.ajaxContentType:a.contentTypeFormatters[a.table.options.ajaxContentType]){for(var e in s.headers)o.headers||(o.headers={}),void 0===o.headers[e]&&(o.headers[e]=s.headers[e]);o.body=s.body.call(a,r,o,i)}else console.warn("Ajax Error - Invalid ajaxContentType value:",a.table.options.ajaxContentType);r?(void 0===o.headers&&(o.headers={}),void 0===o.headers.Accept&&(o.headers.Accept="application/json"),void 0===o.headers["X-Requested-With"]&&(o.headers["X-Requested-With"]="XMLHttpRequest"),void 0===o.mode&&(o.mode="cors"),"cors"==o.mode?(void 0===o.headers["Access-Control-Allow-Origin"]&&(o.headers["Access-Control-Allow-Origin"]=window.location.origin),void 0===o.credentials&&(o.credentials="same-origin")):void 0===o.credentials&&(o.credentials="include"),fetch(r,o).then(function(e){e.ok?e.json().then(function(e){t(e)}).catch(function(e){n(e),console.warn("Ajax Load Error - Invalid JSON returned",e)}):(console.error("Ajax Load Error - Connection Error: "+e.status,e.statusText),n(e))}).catch(function(e){console.error("Ajax Load Error - Connection Error: ",e),n(e)})):(console.warn("Ajax Load Error - No URL Set"),t([]))})},d.prototype.contentTypeFormatters={json:{headers:{"Content-Type":"application/json"},body:function(e,t,n){return JSON.stringify(n)}},form:{headers:{},body:function(e,t,n){var n=this.generateParamsList(n),r=new FormData;return n.forEach(function(e){r.append(e.key,e.value)}),r}}},L.prototype.registerModule("ajax",d);function p(e){this._row=e}p.prototype.getData=function(e){return this._row.getData(e)},p.prototype.getElement=function(){return this._row.getElement()},p.prototype.getTable=function(){return this._row.table},p.prototype.getCells=function(){var t=[];return this._row.getCells().forEach(function(e){t.push(e.getComponent())}),t},p.prototype.getCell=function(e){e=this._row.getCell(e);return!!e&&e.getComponent()},p.prototype._getSelf=function(){return this._row};d=function(e){this.table=e,this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.initialize()};d.prototype.createElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-calcs-holder"),e},d.prototype.initialize=function(){this.genColumn=new a({field:"value"},this)},d.prototype.registerColumnField=function(){},d.prototype.initializeColumn=function(e){var t=e.definition,n={topCalcParams:t.topCalcParams||{},botCalcParams:t.bottomCalcParams||{}};if(t.topCalc){switch(_typeof(t.topCalc)){case"string":this.calculations[t.topCalc]?n.topCalc=this.calculations[t.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.topCalc);break;case"function":n.topCalc=t.topCalc}n.topCalc&&(e.modules.columnCalcs=n,this.topCalcs.push(e),"group"!=this.table.options.columnCalcs&&this.initializeTopRow())}if(t.bottomCalc){switch(_typeof(t.bottomCalc)){case"string":this.calculations[t.bottomCalc]?n.botCalc=this.calculations[t.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.bottomCalc);break;case"function":n.botCalc=t.bottomCalc}n.botCalc&&(e.modules.columnCalcs=n,this.botCalcs.push(e),"group"!=this.table.options.columnCalcs&&this.initializeBottomRow())}},d.prototype.removeCalcs=function(){var e=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),e=!0),this.botInitialized&&(this.botInitialized=!1,this.table.footerManager.remove(this.botElement),e=!0),e&&this.table.rowManager.adjustTableSize()},d.prototype.initializeTopRow=function(){this.topInitialized||(this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)},d.prototype.initializeBottomRow=function(){this.botInitialized||(this.table.footerManager.prepend(this.botElement),this.botInitialized=!0)},d.prototype.scrollHorizontal=function(e){this.botInitialized&&this.botRow&&(this.botRow.getElement().style.marginLeft=-e+"px")},d.prototype.recalc=function(e){var t;if(this.topInitialized||this.botInitialized){if(this.rowsToData(e),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),t=this.generateRow("top",this.rowsToData(e)),this.topRow=t;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(t.getElement()),t.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),t=this.generateRow("bottom",this.rowsToData(e)),this.botRow=t;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(t.getElement()),t.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}},d.prototype.recalcRowGroup=function(e){this.recalcGroup(this.table.modules.groupRows.getRowGroup(e))},d.prototype.recalcAll=function(){var t=this;(this.topCalcs.length||this.botCalcs.length)&&("group"!==this.table.options.columnCalcs&&this.recalc(this.table.rowManager.activeRows),this.table.options.groupBy&&"table"!==this.table.options.columnCalcs)&&table.modules.groupRows.getChildGroups().forEach(function(e){t.recalcGroup(e)})},d.prototype.recalcGroup=function(e){var t,n;e&&e.calcs&&(e.calcs.bottom&&(t=this.rowsToData(e.rows),n=this.generateRowData("bottom",t),e.calcs.bottom.updateData(n),e.calcs.bottom.reinitialize()),e.calcs.top&&(t=this.rowsToData(e.rows),n=this.generateRowData("top",t),e.calcs.top.updateData(n),e.calcs.top.reinitialize()))},d.prototype.generateTopRow=function(e){return this.generateRow("top",this.rowsToData(e))},d.prototype.generateBottomRow=function(e){return this.generateRow("bottom",this.rowsToData(e))},d.prototype.rowsToData=function(e){var t=this,n=[];return e.forEach(function(e){n.push(e.getData()),t.table.options.dataTree&&t.table.options.dataTreeChildColumnCalcs&&e.modules.dataTree.open&&(e=t.rowsToData(t.table.modules.dataTree.getFilteredTreeChildren(e)),n=n.concat(e))}),n},d.prototype.generateRow=function(r,e){var o,i=this,e=this.generateRowData(r,e);return i.table.modExists("mutator")&&i.table.modules.mutator.disable(),o=new l(e,this,"calc"),i.table.modExists("mutator")&&i.table.modules.mutator.enable(),o.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+r),o.component=!1,o.getComponent=function(){return this.component||(this.component=new p(this)),this.component},o.generateCells=function(){var n=[];i.table.columnManager.columnsByIndex.forEach(function(e){i.genColumn.setField(e.getField()),i.genColumn.hozAlign=e.hozAlign,e.definition[r+"CalcFormatter"]&&i.table.modExists("format")?i.genColumn.modules.format={formatter:i.table.modules.format.getFormatter(e.definition[r+"CalcFormatter"]),params:e.definition[r+"CalcFormatterParams"]||{}}:i.genColumn.modules.format={formatter:i.table.modules.format.getFormatter("plaintext"),params:{}},i.genColumn.definition.cssClass=e.definition.cssClass;var t=new u(i.genColumn,o);t.getElement(),t.column=e,t.setWidth(),e.cells.push(t),n.push(t),e.visible||t.hide()}),this.cells=n},o},d.prototype.generateRowData=function(e,r){var o,i={},t="top"==e?this.topCalcs:this.botCalcs,s="top"==e?"topCalc":"botCalc";return t.forEach(function(t){var n=[];t.modules.columnCalcs&&t.modules.columnCalcs[s]&&(r.forEach(function(e){n.push(t.getFieldValue(e))}),o=s+"Params",o="function"==typeof t.modules.columnCalcs[o]?t.modules.columnCalcs[o](n,r):t.modules.columnCalcs[o],t.setFieldValue(i,t.modules.columnCalcs[s](n,r,o)))}),i},d.prototype.hasTopCalcs=function(){return!!this.topCalcs.length},d.prototype.hasBottomCalcs=function(){return!!this.botCalcs.length},d.prototype.redraw=function(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)},d.prototype.getResults=function(){var t=this,n={};return this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.getGroups(!0).forEach(function(e){n[e.getKey()]=t.getGroupResults(e)}):n={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},n},d.prototype.getGroupResults=function(e){var t=this,n=e._getSelf(),e=e.getSubGroups(),r={};return e.forEach(function(e){r[e.getKey()]=t.getGroupResults(e)}),{top:n.calcs.top?n.calcs.top.getData():{},bottom:n.calcs.bottom?n.calcs.bottom.getData():{},groups:r}},d.prototype.calculations={avg:function(e,t,n){var r=0,n=void 0!==n.precision?n.precision:2;return e.length&&(r=e.reduce(function(e,t){return Number(e)+Number(t)}),r/=e.length,r=!1!==n?r.toFixed(n):r),parseFloat(r).toString()},max:function(e,t,n){var r=null,n=void 0!==n.precision&&n.precision;return e.forEach(function(e){((e=Number(e))>r||null===r)&&(r=e)}),null!==r?!1!==n?r.toFixed(n):r:""},min:function(e,t,n){var r=null,n=void 0!==n.precision&&n.precision;return e.forEach(function(e){((e=Number(e))<r||null===r)&&(r=e)}),null!==r?!1!==n?r.toFixed(n):r:""},sum:function(e,t,n){var r=0,n=void 0!==n.precision&&n.precision;return e.length&&e.forEach(function(e){e=Number(e),r+=isNaN(e)?0:Number(e)}),!1!==n?r.toFixed(n):r},concat:function(e,t,n){var r=0;return r=e.length?e.reduce(function(e,t){return String(e)+String(t)}):r},count:function(e,t,n){var r=0;return e.length&&e.forEach(function(e){e&&r++}),r}},L.prototype.registerModule("columnCalcs",d);d=function(e){this.table=e,this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0};d.prototype.initialize=function(){var o=this;this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,!0!==this.mode&&"copy"!==this.mode||this.table.element.addEventListener("copy",function(e){var t,n,r;o.blocked||(e.preventDefault(),o.customSelection?(r=o.customSelection,o.table.options.clipboardCopyFormatter&&(r=o.table.options.clipboardCopyFormatter("plain",r))):(t=o.table.modules.export.generateExportList(o.table.options.clipboardCopyConfig,o.table.options.clipboardCopyStyled,o.rowRange,"clipboard"),r=(n=o.table.modules.export.genereateHTMLTable(t))?o.generatePlainContent(t):"",o.table.options.clipboardCopyFormatter&&(r=o.table.options.clipboardCopyFormatter("plain",r),n=o.table.options.clipboardCopyFormatter("html",n))),window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",r):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",r),n&&e.clipboardData.setData("text/html",n)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",r),n&&e.originalEvent.clipboardData.setData("text/html",n)),o.table.options.clipboardCopied.call(o.table,r,n),o.reset())}),!0!==this.mode&&"paste"!==this.mode||this.table.element.addEventListener("paste",function(e){o.paste(e)}),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction)},d.prototype.reset=function(){this.blocked=!0,this.customSelection=!1},d.prototype.generatePlainContent=function(e){var t=[];return e.forEach(function(n){var r=[];n.columns.forEach(function(e){var t="";if(e)if("group"===n.type&&(e.value=e.component.getKey()),null===e.value)t="";else switch(_typeof(e.value)){case"object":t=JSON.stringify(e.value);break;case"undefined":t="";break;default:t=e.value}r.push(t)}),t.push(r.join("\t"))}),t.join("\n")},d.prototype.copy=function(e,t){var n;this.blocked=!1,!(this.customSelection=!1)!==this.mode&&"copy"!==this.mode||(this.rowRange=e||this.table.options.clipboardCopyRowRange,void 0!==window.getSelection&&void 0!==document.createRange?((e=document.createRange()).selectNodeContents(this.table.element),(n=window.getSelection()).toString()&&t&&(this.customSelection=n.toString()),n.removeAllRanges(),n.addRange(e)):void 0!==document.selection&&void 0!==document.body.createTextRange&&((e=document.body.createTextRange()).moveToElementText(this.table.element),e.select()),document.execCommand("copy"),n&&n.removeAllRanges())},d.prototype.setPasteAction=function(e){switch(void 0===e?"undefined":_typeof(e)){case"string":this.pasteAction=this.pasteActions[e],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",e);break;case"function":this.pasteAction=e}},d.prototype.setPasteParser=function(e){switch(void 0===e?"undefined":_typeof(e)){case"string":this.pasteParser=this.pasteParsers[e],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",e);break;case"function":this.pasteParser=e}},d.prototype.paste=function(e){var t,n;this.checkPaseOrigin(e)&&(t=this.getPasteData(e),(n=this.pasteParser.call(this,t))?(e.preventDefault(),this.table.modExists("mutator")&&(n=this.mutateData(n)),e=this.pasteAction.call(this,n),this.table.options.clipboardPasted.call(this.table,t,n,e)):this.table.options.clipboardPasteError.call(this.table,t))},d.prototype.mutateData=function(e){var t=this,n=[];return Array.isArray(e)?e.forEach(function(e){n.push(t.table.modules.mutator.transformRow(e,"clipboard"))}):n=e,n},d.prototype.checkPaseOrigin=function(e){var t=!0;return t="DIV"!=e.target.tagName||this.table.modules.edit.currentCell?!1:t},d.prototype.getPasteData=function(e){var t;return window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?t=e.clipboardData.getData("text/plain"):e.originalEvent&&e.originalEvent.clipboardData.getData&&(t=e.originalEvent.clipboardData.getData("text/plain")),t},d.prototype.pasteParsers={table:function(e){var t=[],n=!0,r=this.table.columnManager.columns,o=[],i=[];return(e=e.split("\n")).forEach(function(e){t.push(e.split("\t"))}),!(!t.length||1===t.length&&t[0].length<2)&&(t[0].forEach(function(t){var e=r.find(function(e){return t&&e.definition.title&&t.trim()&&e.definition.title.trim()===t.trim()});e?o.push(e):n=!1}),n||(n=!0,o=[],t[0].forEach(function(t){var e=r.find(function(e){return t&&e.field&&t.trim()&&e.field.trim()===t.trim()});e?o.push(e):n=!1}),n||(o=this.table.columnManager.columnsByIndex)),n&&t.shift(),t.forEach(function(e){var n={};e.forEach(function(e,t){o[t]&&(n[o[t].field]=e)}),i.push(n)}),i)}},d.prototype.pasteActions={replace:function(e){return this.table.setData(e)},update:function(e){return this.table.updateOrAddData(e)},insert:function(e){return this.table.addData(e)}},L.prototype.registerModule("clipboard",d);d=function(e){this.table=e,this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.displayIndex=0};d.prototype.initialize=function(){var e=null,t=this.table.columnManager.getFirstVisibileColumn(),n=this.table.options;switch(this.field=n.dataTreeChildField,this.indent=n.dataTreeChildIndent,this.elementField=n.dataTreeElementColumn||!!t&&t.field,n.dataTreeBranchElement&&(!0===n.dataTreeBranchElement?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):"string"==typeof n.dataTreeBranchElement?((e=document.createElement("div")).innerHTML=n.dataTreeBranchElement,this.branchEl=e.firstChild):this.branchEl=n.dataTreeBranchElement),n.dataTreeCollapseElement?"string"==typeof n.dataTreeCollapseElement?((e=document.createElement("div")).innerHTML=n.dataTreeCollapseElement,this.collapseEl=e.firstChild):this.collapseEl=n.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),n.dataTreeExpandElement?"string"==typeof n.dataTreeExpandElement?((e=document.createElement("div")).innerHTML=n.dataTreeExpandElement,this.expandEl=e.firstChild):this.expandEl=n.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),_typeof(n.dataTreeStartExpanded)){case"boolean":this.startOpen=function(e,t){return n.dataTreeStartExpanded};break;case"function":this.startOpen=n.dataTreeStartExpanded;break;default:this.startOpen=function(e,t){return n.dataTreeStartExpanded[t]}}},d.prototype.initializeRow=function(e){var t=e.getData()[this.field],n=Array.isArray(t),t=n||!n&&"object"===(void 0===t?"undefined":_typeof(t))&&null!==t;!t&&e.modules.dataTree&&e.modules.dataTree.branchEl&&e.modules.dataTree.branchEl.parentNode.removeChild(e.modules.dataTree.branchEl),!t&&e.modules.dataTree&&e.modules.dataTree.controlEl&&e.modules.dataTree.controlEl.parentNode.removeChild(e.modules.dataTree.controlEl),e.modules.dataTree={index:e.modules.dataTree?e.modules.dataTree.index:0,open:!!t&&(e.modules.dataTree?e.modules.dataTree.open:this.startOpen(e.getComponent(),0)),controlEl:!(!e.modules.dataTree||!t)&&e.modules.dataTree.controlEl,branchEl:!(!e.modules.dataTree||!t)&&e.modules.dataTree.branchEl,parent:!!e.modules.dataTree&&e.modules.dataTree.parent,children:t}},d.prototype.layoutRow=function(e){var t=(this.elementField?e.getCell(this.elementField):e.getCells()[0]).getElement(),n=e.modules.dataTree;n.branchEl&&(n.branchEl.parentNode&&n.branchEl.parentNode.removeChild(n.branchEl),n.branchEl=!1),n.controlEl&&(n.controlEl.parentNode&&n.controlEl.parentNode.removeChild(n.controlEl),n.controlEl=!1),this.generateControlElement(e,t),e.getElement().classList.add("tabulator-tree-level-"+n.index),n.index&&(this.branchEl?(n.branchEl=this.branchEl.cloneNode(!0),t.insertBefore(n.branchEl,t.firstChild),this.table.rtl?n.branchEl.style.marginRight=(n.branchEl.offsetWidth+n.branchEl.style.marginLeft)*(n.index-1)+n.index*this.indent+"px":n.branchEl.style.marginLeft=(n.branchEl.offsetWidth+n.branchEl.style.marginRight)*(n.index-1)+n.index*this.indent+"px"):this.table.rtl?t.style.paddingRight=parseInt(window.getComputedStyle(t,null).getPropertyValue("padding-right"))+n.index*this.indent+"px":t.style.paddingLeft=parseInt(window.getComputedStyle(t,null).getPropertyValue("padding-left"))+n.index*this.indent+"px")},d.prototype.generateControlElement=function(t,e){var n=this,r=t.modules.dataTree,e=e||t.getCells()[0].getElement(),o=r.controlEl;!1!==r.children&&(r.open?(r.controlEl=this.collapseEl.cloneNode(!0),r.controlEl.addEventListener("click",function(e){e.stopPropagation(),n.collapseRow(t)})):(r.controlEl=this.expandEl.cloneNode(!0),r.controlEl.addEventListener("click",function(e){e.stopPropagation(),n.expandRow(t)})),r.controlEl.addEventListener("mousedown",function(e){e.stopPropagation()}),o&&o.parentNode===e?o.parentNode.replaceChild(r.controlEl,o):e.insertBefore(r.controlEl,e.firstChild))},d.prototype.setDisplayIndex=function(e){this.displayIndex=e},d.prototype.getDisplayIndex=function(){return this.displayIndex},d.prototype.getRows=function(e){var r=this,o=[];return e.forEach(function(e,t){var n;o.push(e),e instanceof l&&(e.create(),(n=e.modules.dataTree.children).index||!1===n.children||r.getChildren(e).forEach(function(e){e.create(),o.push(e)}))}),o},d.prototype.getChildren=function(e,t){var n=this,r=e.modules.dataTree,o=[],i=[];return!1!==r.children&&(r.open||t)&&(Array.isArray(r.children)||(r.children=this.generateChildren(e)),o=this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(r.children):r.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(o),o.forEach(function(e){i.push(e),n.getChildren(e).forEach(function(e){i.push(e)})})),i},d.prototype.generateChildren=function(t){var n=this,r=[],e=t.getData()[this.field];return(e=!Array.isArray(e)?[e]:e).forEach(function(e){e=new l(e||{},n.table.rowManager);e.create(),e.modules.dataTree.index=t.modules.dataTree.index+1,e.modules.dataTree.parent=t,e.modules.dataTree.children&&(e.modules.dataTree.open=n.startOpen(e.getComponent(),e.modules.dataTree.index)),r.push(e)}),r},d.prototype.expandRow=function(e,t){var n=e.modules.dataTree;!1!==n.children&&(n.open=!0,e.reinitialize(),this.table.rowManager.refreshActiveData("tree",!1,!0),this.table.options.dataTreeRowExpanded(e.getComponent(),e.modules.dataTree.index))},d.prototype.collapseRow=function(e){var t=e.modules.dataTree;!1!==t.children&&(t.open=!1,e.reinitialize(),this.table.rowManager.refreshActiveData("tree",!1,!0),this.table.options.dataTreeRowCollapsed(e.getComponent(),e.modules.dataTree.index))},d.prototype.toggleRow=function(e){var t=e.modules.dataTree;!1!==t.children&&(t.open?this.collapseRow(e):this.expandRow(e))},d.prototype.getTreeParent=function(e){return!!e.modules.dataTree.parent&&e.modules.dataTree.parent.getComponent()},d.prototype.getFilteredTreeChildren=function(e){var t=e.modules.dataTree,n=[];return t.children&&(Array.isArray(t.children)||(t.children=this.generateChildren(e)),(this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(t.children):t.children).forEach(function(e){e instanceof l&&n.push(e)})),n},d.prototype.rowDelete=function(e){var t=e.modules.dataTree.parent;t&&(!1!==(e=this.findChildIndex(e,t))&&t.data[this.field].splice(e,1),t.data[this.field].length||delete t.data[this.field],this.initializeRow(t),this.layoutRow(t)),this.table.rowManager.refreshActiveData("tree",!1,!0)},d.prototype.addTreeChildRow=function(e,t,n,r){var o=!1;"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e.data[this.field])||(e.data[this.field]=[],e.modules.dataTree.open=this.startOpen(e.getComponent(),e.modules.dataTree.index)),void 0!==r&&!1!==(o=this.findChildIndex(r,e))&&e.data[this.field].splice(n?o:o+1,0,t),!1===o&&(n?e.data[this.field].unshift(t):e.data[this.field].push(t)),this.initializeRow(e),this.layoutRow(e),this.table.rowManager.refreshActiveData("tree",!1,!0)},d.prototype.findChildIndex=function(t,e){var n=this,r=!1;return"object"==(void 0===t?"undefined":_typeof(t))?t instanceof l?r=t.data:t instanceof s?r=t._getSelf().data:"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&e.modules.dataTree&&(r=e.modules.dataTree.children.find(function(e){return e instanceof l&&e.element===t}))&&(r=r.data):r=null!=t&&e.data[this.field].find(function(e){return e.data[n.table.options.index]==t}),r&&(-1==(r=Array.isArray(e.data[this.field])?e.data[this.field].indexOf(r):r)&&(r=!1)),r},d.prototype.getTreeChildren=function(e,t,n){var r=this,o=e.modules.dataTree,i=[];return o.children&&(Array.isArray(o.children)||(o.children=this.generateChildren(e)),o.children.forEach(function(e){e instanceof l&&(i.push(t?e.getComponent():e),n&&(i=i.concat(r.getTreeChildren(e,t,n))))})),i},d.prototype.checkForRestyle=function(e){e.row.cells.indexOf(e)||e.row.reinitialize()},d.prototype.getChildField=function(){return this.field},d.prototype.redrawNeeded=function(e){return!!this.field&&void 0!==e[this.field]||!!this.elementField&&void 0!==e[this.elementField]},L.prototype.registerModule("dataTree",d);d=function(e){this.table=e};d.prototype.download=function(n,r,e,t,o){var i=this,s=!1;"function"==typeof n?s=n:i.downloaders[n]?s=i.downloaders[n]:console.warn("Download Error - No such download type found: ",n),s&&(t=this.generateExportList(t),s.call(this.table,t,e||{},function(e,t){o?!0===o?i.triggerDownload(e,t,n,r,!0):o(e):i.triggerDownload(e,t,n,r)}))},d.prototype.generateExportList=function(e){var e=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,e||this.table.options.downloadRowRange,"download"),n=this.table.options.groupHeaderDownload;return n&&!Array.isArray(n)&&(n=[n]),e.forEach(function(e){var t;"group"===e.type&&(t=e.columns[0],n&&n[e.indent]&&(t.value=n[e.indent](t.value,e.component._group.getRowCount(),e.component._group.getData(),e.component)))}),e},d.prototype.triggerDownload=function(e,t,n,r,o){var i=document.createElement("a"),t=new Blob([e],{type:t}),r=r||"Tabulator."+("function"==typeof n?"txt":n);(t=this.table.options.downloadReady.call(this.table,e,t))&&(o?window.open(window.URL.createObjectURL(t)):navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(t,r):(i.setAttribute("href",window.URL.createObjectURL(t)),i.setAttribute("download",r),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)),this.table.options.downloadComplete&&this.table.options.downloadComplete())},d.prototype.commsReceived=function(e,t,n){"intercept"===t&&this.download(n.type,"",n.options,n.active,n.intercept)},d.prototype.downloaders={csv:function(e,t,n){var r=t&&t.delimiter?t.delimiter:",",o=[],i=[];e.forEach(function(e){var t=[];switch(e.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":e.columns.forEach(function(e,t){e&&1===e.depth&&(i[t]=void 0===e.value||null===e.value?"":'"'+String(e.value).split('"').join('""')+'"')});break;case"row":e.columns.forEach(function(e){if(e){switch(_typeof(e.value)){case"object":e.value=JSON.stringify(e.value);break;case"undefined":case"null":e.value=""}t.push('"'+String(e.value).split('"').join('""')+'"')}}),o.push(t.join(r))}}),i.length&&o.unshift(i.join(r)),o=o.join("\n"),n(o=t.bom?"\ufeff"+o:o,"text/csv")},json:function(e,t,n){var r=[];e.forEach(function(e){var t={};switch(e.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":e.columns.forEach(function(e){e&&(t[e.component.getField()]=e.value)}),r.push(t)}}),n(r=JSON.stringify(r,null,"\t"),"application/json")},pdf:function(e,t,n){function r(e,n){var r=[];return e.columns.forEach(function(e){var t;if(e){switch(_typeof(e.value)){case"object":e.value=JSON.stringify(e.value);break;case"undefined":case"null":e.value=""}t={content:e.value,colSpan:e.width,rowSpan:e.height},n&&(t.styles=n),r.push(t)}else r.push("")}),r}var o=[],i=[],s={},a=t.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},l=t.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},u=t.jsPDF||{},c=t&&t.title?t.title:"";u.orientation||(u.orientation=t.orientation||"landscape"),u.unit||(u.unit="pt"),e.forEach(function(e){switch(e.type){case"header":o.push(r(e));break;case"group":i.push(r(e,a));break;case"calc":i.push(r(e,l));break;case"row":i.push(r(e))}});var d=new jsPDF(u);t&&t.autoTable&&(s="function"==typeof t.autoTable?t.autoTable(d)||{}:t.autoTable),c&&(s.addPageContent=function(e){d.text(c,40,30)}),s.head=o,s.body=i,d.autoTable(s),t&&t.documentProcessing&&t.documentProcessing(d),n(d.output("arraybuffer"),"application/pdf")},xlsx:function(r,e,t){function n(){var t=[],o=[],e={},n={s:{c:0,r:0},e:{c:r[0]?r[0].columns.reduce(function(e,t){return e+(t&&t.width?t.width:1)},0):0,r:r.length}};return r.forEach(function(e,n){var r=[];e.columns.forEach(function(e,t){e?(r.push(e.value instanceof Date||"object"!==_typeof(e.value)?e.value:JSON.stringify(e.value)),(1<e.width||-1<e.height)&&o.push({s:{r:n,c:t},e:{r:n+e.height-1,c:t+e.width-1}})):r.push("")}),t.push(r)}),XLSX.utils.sheet_add_aoa(e,t),e["!ref"]=XLSX.utils.encode_range(n),o.length&&(e["!merges"]=o),e}var o=e.sheetName||"Sheet1",i=XLSX.utils.book_new();if(i.SheetNames=[],i.Sheets={},e.sheetOnly)t(n());else{if(e.sheets)for(var s in e.sheets)!0===e.sheets[s]?(i.SheetNames.push(s),i.Sheets[s]=n()):(i.SheetNames.push(s),this.modules.comms.send(e.sheets[s],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:this.active,intercept:function(e){i.Sheets[s]=e}}));else i.SheetNames.push(o),i.Sheets[o]=n();e.documentProcessing&&(i=e.documentProcessing(i)),t(function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=255&e.charCodeAt(r);return t}(XLSX.write(i,{bookType:"xlsx",bookSST:!0,type:"binary"})),"application/octet-stream")}},html:function(e,t,n){this.modExists("export",!0)&&n(this.modules.export.genereateHTMLTable(e),"text/html")}},L.prototype.registerModule("download",d);d=function(e){this.table=e,this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[]};d.prototype.initializeColumn=function(e){var t={editor:!1,blocked:!1,check:e.definition.editable,params:e.definition.editorParams||{}};switch(_typeof(e.definition.editor)){case"string":"tick"===e.definition.editor&&(e.definition.editor="tickCross",console.warn("DEPRECATION WARNING - the tick editor has been deprecated, please use the tickCross editor")),this.editors[e.definition.editor]?t.editor=this.editors[e.definition.editor]:console.warn("Editor Error - No such editor found: ",e.definition.editor);break;case"function":t.editor=e.definition.editor;break;case"boolean":!0===e.definition.editor&&("function"!=typeof e.definition.formatter?("tick"===e.definition.formatter&&(e.definition.formatter="tickCross",console.warn("DEPRECATION WARNING - the tick editor has been deprecated, please use the tickCross editor")),this.editors[e.definition.formatter]?t.editor=this.editors[e.definition.formatter]:t.editor=this.editors.input):console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",e.definition.formatter))}t.editor&&(e.modules.edit=t)},d.prototype.getCurrentCell=function(){return!!this.currentCell&&this.currentCell.getComponent()},d.prototype.clearEditor=function(e){var t,n=this.currentCell;if(this.invalidEdit=!1,n){for(this.currentCell=!1,t=n.getElement(),e?n.validate():t.classList.remove("tabulator-validation-fail"),t.classList.remove("tabulator-editing");t.firstChild;)t.removeChild(t.firstChild);n.row.getElement().classList.remove("tabulator-row-editing")}},d.prototype.cancelEdit=function(){var e,t;this.currentCell&&(e=this.currentCell,t=this.currentCell.getComponent(),this.clearEditor(!0),e.setValueActual(e.getValue()),e.cellRendered(),"textarea"!=e.column.definition.editor&&!e.column.definition.variableHeight||e.row.normalizeHeight(!0),e.column.cellEvents.cellEditCancelled&&e.column.cellEvents.cellEditCancelled.call(this.table,t),this.table.options.cellEditCancelled.call(this.table,t))},d.prototype.bindEditor=function(t){var n=this,r=t.getElement(!0);r.setAttribute("tabindex",0),r.addEventListener("click",function(e){r.classList.contains("tabulator-editing")||r.focus({preventScroll:!0})}),r.addEventListener("mousedown",function(e){2===e.button?e.preventDefault():n.mouseClick=!0}),r.addEventListener("focus",function(e){n.recursionBlock||n.edit(t,e,!1)})},d.prototype.focusCellNoEvent=function(e,t){this.recursionBlock=!0,t&&"ie"===this.table.browser||e.getElement().focus({preventScroll:!0}),this.recursionBlock=!1},d.prototype.editCell=function(e,t){this.focusCellNoEvent(e),this.edit(e,!1,t)},d.prototype.focusScrollAdjust=function(e){var t,n,r;"virtual"==this.table.rowManager.getRenderMode()&&(t=this.table.rowManager.element.scrollTop,r=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,(n=e.row.getElement()).offsetTop,n.offsetTop<t?this.table.rowManager.element.scrollTop-=t-n.offsetTop:n.offsetTop+n.offsetHeight>r&&(this.table.rowManager.element.scrollTop+=n.offsetTop+n.offsetHeight-r),n=this.table.rowManager.element.scrollLeft,r=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,(e=e.getElement()).offsetLeft,this.table.modExists("frozenColumns")&&(n+=parseInt(this.table.modules.frozenColumns.leftMargin),r-=parseInt(this.table.modules.frozenColumns.rightMargin)),this.table.options.virtualDomHoz&&(n-=parseInt(this.table.vdomHoz.vDomPadLeft),r-=parseInt(this.table.vdomHoz.vDomPadLeft)),e.offsetLeft<n?this.table.rowManager.element.scrollLeft-=n-e.offsetLeft:e.offsetLeft+e.offsetWidth>r&&(this.table.rowManager.element.scrollLeft+=e.offsetLeft+e.offsetWidth-r))},d.prototype.edit=function(n,e,t){var r=this,o=!0,i=function(){},s=n.getElement();if(!this.currentCell){if(n.column.modules.edit.blocked)return this.mouseClick=!1,s.blur(),!1;switch(e&&e.stopPropagation(),_typeof(n.column.modules.edit.check)){case"function":o=n.column.modules.edit.check(n.getComponent());break;case"boolean":o=n.column.modules.edit.check}if(o||t){if(r.cancelEdit(),r.currentCell=n,this.focusScrollAdjust(n),t=n.getComponent(),this.mouseClick&&(this.mouseClick=!1,n.column.cellEvents.cellClick&&n.column.cellEvents.cellClick.call(this.table,e,t)),n.column.cellEvents.cellEditing&&n.column.cellEvents.cellEditing.call(this.table,t),r.table.options.cellEditing.call(this.table,t),e="function"==typeof n.column.modules.edit.params?n.column.modules.edit.params(t):n.column.modules.edit.params,!1===(e=n.column.modules.edit.editor.call(r,t,function(e){i=e},function(e){if(r.currentCell===n){var t=!0;return!0===(t=n.column.modules.validate&&r.table.modExists("validate")&&"manual"!=r.table.options.validationMode?r.table.modules.validate.validate(n.column.modules.validate,n,e):t)||"highlight"===r.table.options.validationMode?(r.clearEditor(),n.modules.edit||(n.modules.edit={}),n.modules.edit.edited=!0,-1==r.editedCells.indexOf(n)&&r.editedCells.push(n),n.setValue(e,!0),r.table.options.dataTree&&r.table.modExists("dataTree")&&r.table.modules.dataTree.checkForRestyle(n),!0===t||(s.classList.add("tabulator-validation-fail"),r.table.options.validationFailed.call(r.table,n.getComponent(),e,t),!1)):(r.invalidEdit=!0,s.classList.add("tabulator-validation-fail"),r.focusCellNoEvent(n,!0),i(),r.table.options.validationFailed.call(r.table,n.getComponent(),e,t),!1)}},function(){r.currentCell===n&&(r.cancelEdit(),r.table.options.dataTree&&r.table.modExists("dataTree")&&r.table.modules.dataTree.checkForRestyle(n))},e)))return s.blur(),!1;if(!(e instanceof Node))return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",e),s.blur(),!1;for(s.classList.add("tabulator-editing"),n.row.getElement().classList.add("tabulator-row-editing");s.firstChild;)s.removeChild(s.firstChild);s.appendChild(e),i();for(var a=s.children,l=0;l<a.length;l++)a[l].addEventListener("click",function(e){e.stopPropagation()});return!0}return this.mouseClick=!1,s.blur(),!1}this.invalidEdit||this.cancelEdit()},d.prototype.maskInput=function(r,t){function n(e){var t=o[e];void 0!==t&&t!==a&&t!==i&&t!==s&&(r.value=r.value+""+t,n(e+1))}var o=t.mask,i=void 0!==t.maskLetterChar?t.maskLetterChar:"A",s=void 0!==t.maskNumberChar?t.maskNumberChar:"9",a=void 0!==t.maskWildcardChar?t.maskWildcardChar:"*";r.addEventListener("keydown",function(e){var t=r.value.length,n=e.key;if(46<e.keyCode){if(t>=o.length)return e.preventDefault(),e.stopPropagation(),!1;switch(o[t]){case i:if(n.toUpperCase()==n.toLowerCase())return e.preventDefault(),e.stopPropagation(),!1;break;case s:if(isNaN(n))return e.preventDefault(),e.stopPropagation(),!1;break;case a:break;default:if(n!==o[t])return e.preventDefault(),e.stopPropagation(),!1}0}}),r.addEventListener("keyup",function(e){46<e.keyCode&&t.maskAutoFill&&n(r.value.length)}),r.placeholder||(r.placeholder=o),t.maskAutoFill&&n(r.value.length)},d.prototype.getEditedCells=function(){var t=[];return this.editedCells.forEach(function(e){t.push(e.getComponent())}),t},d.prototype.clearEdited=function(e){e.modules.edit&&e.modules.edit.edited&&(e.modules.edit.edited=!1,e.modules.validate&&(e.modules.validate.invalid=!1)),-1<(e=this.editedCells.indexOf(e))&&this.editedCells.splice(e,1)},d.prototype.editors={input:function(e,t,n,r,o){function i(e){null==s&&""!==a.value||a.value!==s?n(a.value)&&(s=a.value):r()}var s=e.getValue(),a=document.createElement("input");if(a.setAttribute("type",o.search?"search":"text"),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",o.elementAttributes&&"object"==_typeof(o.elementAttributes))for(var l in o.elementAttributes)"+"==l.charAt(0)?(l=l.slice(1),a.setAttribute(l,a.getAttribute(l)+o.elementAttributes["+"+l])):a.setAttribute(l,o.elementAttributes[l]);return a.value=void 0!==s?s:"",t(function(){a.focus({preventScroll:!0}),a.style.height="100%"}),a.addEventListener("change",i),a.addEventListener("blur",i),a.addEventListener("keydown",function(e){switch(e.keyCode){case 13:i();break;case 27:r();break;case 35:case 36:e.stopPropagation()}}),o.mask&&this.table.modules.edit.maskInput(a,o),a},textarea:function(t,e,n,r,o){function i(e){null==s&&""!==u.value||u.value!==s?(n(u.value)&&(s=u.value),setTimeout(function(){t.getRow().normalizeHeight()},300)):r()}var s=t.getValue(),a=o.verticalNavigation||"hybrid",l=String(null!=s?s:""),u=(l.match(/(?:\r\n|\r|\n)/g),document.createElement("textarea")),c=0;if(u.style.display="block",u.style.padding="2px",u.style.height="100%",u.style.width="100%",u.style.boxSizing="border-box",u.style.whiteSpace="pre-wrap",u.style.resize="none",o.elementAttributes&&"object"==_typeof(o.elementAttributes))for(var d in o.elementAttributes)"+"==d.charAt(0)?(d=d.slice(1),u.setAttribute(d,u.getAttribute(d)+o.elementAttributes["+"+d])):u.setAttribute(d,o.elementAttributes[d]);return u.value=l,e(function(){u.focus({preventScroll:!0}),u.style.height="100%",u.scrollHeight,u.style.height=u.scrollHeight+"px",t.getRow().normalizeHeight()}),u.addEventListener("change",i),u.addEventListener("blur",i),u.addEventListener("keyup",function(){u.style.height="";var e=u.scrollHeight;u.style.height=e+"px",e!=c&&(c=e,t.getRow().normalizeHeight())}),u.addEventListener("keydown",function(e){switch(e.keyCode){case 27:r();break;case 38:("editor"==a||"hybrid"==a&&u.selectionStart)&&(e.stopImmediatePropagation(),e.stopPropagation());break;case 40:("editor"==a||"hybrid"==a&&u.selectionStart!==u.value.length)&&(e.stopImmediatePropagation(),e.stopPropagation());break;case 35:case 36:e.stopPropagation()}}),o.mask&&this.table.modules.edit.maskInput(u,o),u},number:function(e,t,n,r,o){function i(){var e=l.value;(e=!isNaN(e)&&""!==e?Number(e):e)!==s?n(e)&&(s=e):r()}var s=e.getValue(),a=o.verticalNavigation||"editor",l=document.createElement("input");if(l.setAttribute("type","number"),void 0!==o.max&&l.setAttribute("max",o.max),void 0!==o.min&&l.setAttribute("min",o.min),void 0!==o.step&&l.setAttribute("step",o.step),l.style.padding="4px",l.style.width="100%",l.style.boxSizing="border-box",o.elementAttributes&&"object"==_typeof(o.elementAttributes))for(var u in o.elementAttributes)"+"==u.charAt(0)?(u=u.slice(1),l.setAttribute(u,l.getAttribute(u)+o.elementAttributes["+"+u])):l.setAttribute(u,o.elementAttributes[u]);l.value=s;function c(e){i()}return t(function(){l.removeEventListener("blur",c),l.focus({preventScroll:!0}),l.style.height="100%",l.addEventListener("blur",c)}),l.addEventListener("keydown",function(e){switch(e.keyCode){case 13:i();break;case 27:r();break;case 38:case 40:"editor"==a&&(e.stopImmediatePropagation(),e.stopPropagation());break;case 35:case 36:e.stopPropagation()}}),o.mask&&this.table.modules.edit.maskInput(l,o),l},range:function(e,t,n,r,o){function i(){var e=a.value;(e=!isNaN(e)&&""!==e?Number(e):e)!=s?n(e)&&(s=e):r()}var s=e.getValue(),a=document.createElement("input");if(a.setAttribute("type","range"),void 0!==o.max&&a.setAttribute("max",o.max),void 0!==o.min&&a.setAttribute("min",o.min),void 0!==o.step&&a.setAttribute("step",o.step),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",o.elementAttributes&&"object"==_typeof(o.elementAttributes))for(var l in o.elementAttributes)"+"==l.charAt(0)?(l=l.slice(1),a.setAttribute(l,a.getAttribute(l)+o.elementAttributes["+"+l])):a.setAttribute(l,o.elementAttributes[l]);return a.value=s,t(function(){a.focus({preventScroll:!0}),a.style.height="100%"}),a.addEventListener("blur",function(e){i()}),a.addEventListener("keydown",function(e){switch(e.keyCode){case 13:i();break;case 27:r()}}),a},select:function(s,e,n,t,a){function r(e){var t={},n=g.table.getData(),r=e?g.table.columnManager.getColumnByField(e):s.getColumn()._getSelf();return r?n.forEach(function(e){e=r.getFieldValue(e);null!=e&&""!==e&&(t[e]=!0)}):console.warn("unable to find matching column to create select lookup list:",e),Object.keys(t)}function o(e,n){function r(e){e={label:e.label,value:e.value,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1};return-1<n.indexOf(e.value)&&l(e),o.push(e),i.push(e),e}var o=[],i=[];if("function"==typeof e&&(e=e(s)),Array.isArray(e))e.forEach(function(e){var t;"object"===(void 0===e?"undefined":_typeof(e))?e.options?(t={label:e.label,group:!0,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1},i.push(t),e.options.forEach(function(e){r(e)})):r(e):(-1<n.indexOf((t={label:e,value:e,element:!1}).value)&&l(t),o.push(t),i.push(t))});else for(var t in e){t={label:e[t],value:t,element:!1};-1<n.indexOf(t.value)&&l(t),o.push(t),i.push(t)}a.sortValuesList&&(o.sort(function(e,t){return e.label<t.label?-1:e.label>t.label?1:0}),i.sort(function(e,t){return e.label<t.label?-1:e.label>t.label?1:0}),"asc"!==a.sortValuesList&&(o.reverse(),i.reverse())),_=o,k=i,function(){for(;C.firstChild;)C.removeChild(C.firstChild);k.forEach(function(e){var t=e.element;if(!t){if(t=document.createElement("div"),e.label=a.listItemFormatter?a.listItemFormatter(e.value,e.label,s,t,e.itemParams):e.label,e.group?(t.classList.add("tabulator-edit-select-list-group"),t.tabIndex=0,t.innerHTML=""===e.label?"&nbsp;":e.label):(t.classList.add("tabulator-edit-select-list-item"),t.tabIndex=0,t.innerHTML=""===e.label?"&nbsp;":e.label,t.addEventListener("click",function(){A=!0,setTimeout(function(){A=!1},10),E?(c(e),j.focus()):d(e)}),-1<S.indexOf(e)&&t.classList.add("active")),e.elementAttributes&&"object"==_typeof(e.elementAttributes))for(var n in e.elementAttributes)"+"==n.charAt(0)?(n=n.slice(1),t.setAttribute(n,j.getAttribute(n)+e.elementAttributes["+"+n])):t.setAttribute(n,e.elementAttributes[n]);t.addEventListener("mousedown",function(){T=!1,setTimeout(function(){T=!0},10)}),e.element=t}C.appendChild(t)})}()}function i(e,t){!E&&R&&R.element&&R.element.classList.remove("active"),R&&R.element&&R.element.classList.remove("focused"),(R=e).element&&(e.element.classList.add("focused"),t&&e.element.classList.add("active")),e&&e.element&&e.element.scrollIntoView&&e.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function l(e){-1==S.indexOf(e)&&(S.push(e),i(e,!0)),h()}function u(e){var t=S[e];-1<e&&(S.splice(e,1),t.element&&t.element.classList.remove("active"))}function c(e){e=e||R;var t=S.indexOf(e);-1<t?u(t):(!0!==E&&S.length>=E&&u(0),l(e)),h()}function d(e){m(),(e=e||R)&&(j.value=e.label,n(e.value)),x=[e.value]}function p(e){e||m();var t=[];S.forEach(function(e){t.push(e.value)}),n(x=t)}function h(){var t=[];S.forEach(function(e){t.push(e.label)}),j.value=t.join(", "),!1===g.currentCell&&p(!0)}function f(){m(),t()}function m(){C.parentNode&&C.parentNode.removeChild(C),g.table.rowManager.element.removeEventListener("scroll",f)}var b=this,g=this,v=s.getElement(),y=s.getValue(),w=a.verticalNavigation||"editor",x=void 0!==y||null===y?Array.isArray(y)?y:[y]:void 0!==a.defaultValue?a.defaultValue:[],j=document.createElement("input"),C=document.createElement("div"),E=a.multiselect,_=[],R={},k=[],S=[],T=!0,A=!1,P="",M=null;if(!Array.isArray(a)&&(Array.isArray(a)||"object"!==(void 0===a?"undefined":_typeof(a))||a.values)||(console.warn("DEPRECATION WARNING - values for the select editor must now be passed into the values property of the editorParams object, not as the editorParams object"),a={values:a}),j.setAttribute("type","text"),j.style.padding="4px",j.style.width="100%",j.style.boxSizing="border-box",j.style.cursor="default",j.readOnly=0!=this.currentCell,a.elementAttributes&&"object"==_typeof(a.elementAttributes))for(var D in a.elementAttributes)"+"==D.charAt(0)?(D=D.slice(1),j.setAttribute(D,j.getAttribute(D)+a.elementAttributes["+"+D])):j.setAttribute(D,a.elementAttributes[D]);return j.value=void 0!==y||null===y?y:"",j.addEventListener("search",function(e){j.value||(function(){for(var e=S.length,t=0;t<e;t++)u(0)}(),p())}),j.addEventListener("keydown",function(e){var t;switch(e.keyCode){case 38:t=_.indexOf(R),("editor"==w||"hybrid"==w&&t)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),0<t&&i(_[t-1],!E));break;case 40:t=_.indexOf(R),("editor"==w||"hybrid"==w&&t<_.length-1)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t<_.length-1&&i(-1==t?_[0]:_[t+1],!E));break;case 37:case 39:e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault();break;case 13:(E?c:d)();break;case 27:f();break;case 9:break;default:!1===g.currentCell&&e.preventDefault(),38<=e.keyCode&&e.keyCode<=90&&function(){clearTimeout(M);var e=String.fromCharCode(event.keyCode).toLowerCase();P+=e.toLowerCase(),(e=_.find(function(e){return void 0!==e.label&&e.label.toLowerCase().startsWith(P)}))&&i(e,!E),M=setTimeout(function(){P=""},800)}(e.keyCode)}}),j.addEventListener("blur",function(e){T&&(E?p:f)()}),j.addEventListener("focus",function(e){var t;A||(S=[],C.parentNode||(!0===a.values?o(r(),x):"string"==typeof a.values?o(r(a.values),x):o(a.values||[],x),t=L.prototype.helpers.elOffset(v),C.style.minWidth=v.offsetWidth+"px",C.style.top=t.top+v.offsetHeight+"px",C.style.left=t.left+"px",C.addEventListener("mousedown",function(e){T=!1,setTimeout(function(){T=!0},10)}),document.body.appendChild(C)))}),(C=document.createElement("div")).classList.add("tabulator-edit-select-list"),e(function(){j.style.height="100%",j.focus({preventScroll:!0})}),setTimeout(function(){b.table.rowManager.element.addEventListener("scroll",f)},10),j},autocomplete:function(o,e,t,n,i){function r(){!0===i.values?k=s():"string"==typeof i.values&&(k=s(i.values))}function s(e){var t={},n=g.table.getData(),r=e?g.table.columnManager.getColumnByField(e):o.getColumn()._getSelf();return r?(n.forEach(function(e){e=r.getFieldValue(e);null!=e&&""!==e&&(t[e]=!0)}),t=i.sortValuesList?"asc"==i.sortValuesList?Object.keys(t).sort():Object.keys(t).sort().reverse():Object.keys(t)):console.warn("unable to find matching column to create autocomplete lookup list:",e),t}function a(t,n){var r=[],e=k||i.values||[];i.searchFunc?(r=i.searchFunc(t,e))instanceof Promise?(l(void 0!==i.searchingPlaceholder?i.searchingPlaceholder:"Searching..."),r.then(function(e){d(u(e),n)}).catch(function(e){console.err("error in autocomplete search promise:",e)})):d(u(r),n):(e=u(e),""===t?i.showListOnEmpty&&(r=e):e.forEach(function(e){null===e.value&&void 0===e.value||(-1<String(e.value).toLowerCase().indexOf(String(t).toLowerCase())||-1<String(e.title).toLowerCase().indexOf(String(t).toLowerCase()))&&r.push(e)}),d(r,n))}function l(e){var t=document.createElement("div");c(),!1!==e&&(t.classList.add("tabulator-edit-select-list-notice"),t.tabIndex=0,e instanceof Node?t.appendChild(e):t.innerHTML=e,C.appendChild(t))}function u(e){var n=[];if(Array.isArray(e))e.forEach(function(e){var t={};"object"===(void 0===e?"undefined":_typeof(e))?(t.title=i.listItemFormatter?i.listItemFormatter(e.value,e.label):e.label,t.value=e.value):(t.title=i.listItemFormatter?i.listItemFormatter(e,e):e,t.value=e),n.push(t)});else for(var t in e){t={title:i.listItemFormatter?i.listItemFormatter(t,e[t]):e[t],value:t};n.push(t)}return n}function c(){for(;C.firstChild;)C.removeChild(C.firstChild)}function d(e,t){var n,r;e.length?(e=e,n=t,r=!1,c(),(E=e).forEach(function(t){var e=t.element;e||((e=document.createElement("div")).classList.add("tabulator-edit-select-list-item"),e.tabIndex=0,e.innerHTML=t.title,e.addEventListener("click",function(e){h(t),p()}),e.addEventListener("mousedown",function(e){R=!1,setTimeout(function(){R=!0},10)}),t.element=e,n&&t.value==y&&(j.value=t.title,t.element.classList.add("active"),r=!0),t===_&&(t.element.classList.add("active"),r=!0)),C.appendChild(e)}),r||h(!1)):i.emptyPlaceholder&&l(i.emptyPlaceholder)}function p(){f(),_?y!==_.value?(y=_.value,j.value=_.title,t(_.value)):n():i.freetext||i.allowEmpty&&""===j.value?(y=j.value,t(j.value)):n()}function h(e){_&&_.element&&_.element.classList.remove("active"),(_=e)&&e.element&&e.element.classList.add("active"),e&&e.element&&e.element.scrollIntoView&&e.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function f(){C.parentNode&&C.parentNode.removeChild(C),g.table.rowManager.element.removeEventListener("scroll",m)}function m(){f(),n()}var b=this,g=this,v=o.getElement(),y=o.getValue(),w=i.verticalNavigation||"editor",x=void 0!==y||null===y?y:void 0!==i.defaultValue?i.defaultValue:"",j=document.createElement("input"),C=document.createElement("div"),E=[],_=!1,R=!0,k=!1;if(j.setAttribute("type","search"),j.style.padding="4px",j.style.width="100%",j.style.boxSizing="border-box",i.elementAttributes&&"object"==_typeof(i.elementAttributes))for(var S in i.elementAttributes)"+"==S.charAt(0)?(S=S.slice(1),j.setAttribute(S,j.getAttribute(S)+i.elementAttributes["+"+S])):j.setAttribute(S,i.elementAttributes[S]);return C.classList.add("tabulator-edit-select-list"),C.addEventListener("mousedown",function(e){R=!1,setTimeout(function(){R=!0},10)}),j.addEventListener("keydown",function(e){var t;switch(e.keyCode){case 38:t=E.indexOf(_),("editor"==w||"hybrid"==w&&t)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),h(0<t&&E[t-1]));break;case 40:t=E.indexOf(_),("editor"==w||"hybrid"==w&&t<E.length-1)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t<E.length-1&&h(-1==t?E[0]:E[t+1]));break;case 37:case 39:e.stopImmediatePropagation(),e.stopPropagation();break;case 13:p();break;case 27:m();break;case 36:case 35:e.stopImmediatePropagation()}}),j.addEventListener("keyup",function(e){switch(e.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:a(j.value)}}),j.addEventListener("search",function(e){a(j.value)}),j.addEventListener("blur",function(e){R&&p()}),j.addEventListener("focus",function(e){var t=x;r(),function(){if(!C.parentNode){for(console.log("show",x);C.firstChild;)C.removeChild(C.firstChild);var e=L.prototype.helpers.elOffset(v);C.style.minWidth=v.offsetWidth+"px",C.style.top=e.top+v.offsetHeight+"px",C.style.left=e.left+"px",document.body.appendChild(C)}}(),a(j.value=t,!0)}),e(function(){j.style.height="100%",j.focus({preventScroll:!0})}),i.mask&&this.table.modules.edit.maskInput(j,i),setTimeout(function(){b.table.rowManager.element.addEventListener("scroll",m)},10),r(),a(j.value=x,!0),j},star:function(e,t,r,n,o){function i(n){d.forEach(function(e,t){t<n?("ie"==a.table.browser?e.setAttribute("class","tabulator-star-active"):e.classList.replace("tabulator-star-inactive","tabulator-star-active"),e.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):("ie"==a.table.browser?e.setAttribute("class","tabulator-star-inactive"):e.classList.replace("tabulator-star-active","tabulator-star-inactive"),e.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')})}function s(e){i(u=e)}var a=this,l=e.getElement(),u=e.getValue(),c=l.getElementsByTagName("svg").length||5,e=l.getElementsByTagName("svg")[0]?l.getElementsByTagName("svg")[0].getAttribute("width"):14,d=[],p=document.createElement("div"),h=document.createElementNS("http://www.w3.org/2000/svg","svg");if(l.style.whiteSpace="nowrap",l.style.overflow="hidden",l.style.textOverflow="ellipsis",p.style.verticalAlign="middle",p.style.display="inline-block",p.style.padding="4px",h.setAttribute("width",e),h.setAttribute("height",e),h.setAttribute("viewBox","0 0 512 512"),h.setAttribute("xml:space","preserve"),h.style.padding="0 1px",o.elementAttributes&&"object"==_typeof(o.elementAttributes))for(var f in o.elementAttributes)"+"==f.charAt(0)?(f=f.slice(1),p.setAttribute(f,p.getAttribute(f)+o.elementAttributes["+"+f])):p.setAttribute(f,o.elementAttributes[f]);for(var m=1;m<=c;m++)!function(t){var e=document.createElement("span"),n=h.cloneNode(!0);d.push(n),e.addEventListener("mouseenter",function(e){e.stopPropagation(),e.stopImmediatePropagation(),i(t)}),e.addEventListener("mousemove",function(e){e.stopPropagation(),e.stopImmediatePropagation()}),e.addEventListener("click",function(e){e.stopPropagation(),e.stopImmediatePropagation(),r(t),l.blur()}),e.appendChild(n),p.appendChild(e)}(m);return i(u=Math.min(parseInt(u),c)),p.addEventListener("mousemove",function(e){i(0)}),p.addEventListener("click",function(e){r(0)}),l.addEventListener("blur",function(e){n()}),l.addEventListener("keydown",function(e){switch(e.keyCode){case 39:s(u+1);break;case 37:s(u-1);break;case 13:r(u);break;case 27:n()}}),p},progress:function(e,t,n,r,o){function i(){var e=window.getComputedStyle(l,null),e=d*Math.round(f.offsetWidth/((l.clientWidth-parseInt(e.getPropertyValue("padding-left"))-parseInt(e.getPropertyValue("padding-right")))/100))+c;n(e),l.setAttribute("aria-valuenow",e),l.setAttribute("aria-label",p)}var s,a,l=e.getElement(),u=void 0===o.max?l.getElementsByTagName("div")[0].getAttribute("max")||100:o.max,c=void 0===o.min?l.getElementsByTagName("div")[0].getAttribute("min")||0:o.min,d=(u-c)/100,p=e.getValue()||0,h=document.createElement("div"),f=document.createElement("div");if(h.style.position="absolute",h.style.right="0",h.style.top="0",h.style.bottom="0",h.style.width="5px",h.classList.add("tabulator-progress-handle"),f.style.display="inline-block",f.style.position="relative",f.style.height="100%",f.style.backgroundColor="#488CE9",f.style.maxWidth="100%",f.style.minWidth="0%",o.elementAttributes&&"object"==_typeof(o.elementAttributes))for(var m in o.elementAttributes)"+"==m.charAt(0)?(m=m.slice(1),f.setAttribute(m,f.getAttribute(m)+o.elementAttributes["+"+m])):f.setAttribute(m,o.elementAttributes[m]);return l.style.padding="4px 4px",p=Math.min(parseFloat(p),u),p=Math.max(parseFloat(p),c),p=Math.round((p-c)/d),f.style.width=p+"%",l.setAttribute("aria-valuemin",c),l.setAttribute("aria-valuemax",u),f.appendChild(h),h.addEventListener("mousedown",function(e){s=e.screenX,a=f.offsetWidth}),h.addEventListener("mouseover",function(){h.style.cursor="ew-resize"}),l.addEventListener("mousemove",function(e){s&&(f.style.width=a+e.screenX-s+"px")}),l.addEventListener("mouseup",function(e){s&&(e.stopPropagation(),e.stopImmediatePropagation(),a=s=!1,i())}),l.addEventListener("keydown",function(e){switch(e.keyCode){case 39:e.preventDefault(),f.style.width=f.clientWidth+l.clientWidth/100+"px";break;case 37:e.preventDefault(),f.style.width=f.clientWidth-l.clientWidth/100+"px";break;case 9:case 13:i();break;case 27:r()}}),l.addEventListener("blur",function(){r()}),f},tickCross:function(e,t,n,r,o){function i(e){return a?e?u?l:s.checked:s.checked&&!u?(s.checked=!1,s.indeterminate=!0,u=!0,l):(u=!1,s.checked):s.checked}var e=e.getValue(),s=document.createElement("input"),a=o.tristate,l=void 0===o.indeterminateValue?null:o.indeterminateValue,u=!1;if(s.setAttribute("type","checkbox"),s.style.marginTop="5px",s.style.boxSizing="border-box",o.elementAttributes&&"object"==_typeof(o.elementAttributes))for(var c in o.elementAttributes)"+"==c.charAt(0)?(c=c.slice(1),s.setAttribute(c,s.getAttribute(c)+o.elementAttributes["+"+c])):s.setAttribute(c,o.elementAttributes[c]);return s.value=e,!a||void 0!==e&&e!==l&&""!==e||(u=!0,s.indeterminate=!0),"firefox"!=this.table.browser&&t(function(){s.focus({preventScroll:!0})}),s.checked=!0===e||"true"===e||"True"===e||1===e,t(function(){s.focus()}),s.addEventListener("change",function(e){n(i())}),s.addEventListener("blur",function(e){n(i(!0))}),s.addEventListener("keydown",function(e){13==e.keyCode&&n(i()),27==e.keyCode&&r()}),s}},L.prototype.registerModule("edit",d);function h(e,t,n,r){this.type=e,this.columns=t,this.component=n||!1,this.indent=r||0}function f(e,t,n,r,o){this.value=e,this.component=t||!1,this.width=n,this.height=r,this.depth=o}d=function(e){this.table=e,this.config={},this.cloneTableStyle=!0,this.colVisProp=""};d.prototype.generateExportList=function(e,t,n,r){this.cloneTableStyle=t,this.config=e||{},this.colVisProp=r;r=!1!==this.config.columnHeaders?this.headersToExportRows(this.generateColumnGroupHeaders()):[],n=this.bodyToExportRows(this.rowLookup(n));return r.concat(n)},d.prototype.genereateTable=function(e,t,n,r){r=this.generateExportList(e,t,n,r);return this.genereateTableElement(r)},d.prototype.rowLookup=function(e){var t=this,n=[];if("function"==typeof e)e.call(this.table).forEach(function(e){(e=t.table.rowManager.findRow(e))&&n.push(e)});else switch(e){case!0:case"visible":n=this.table.rowManager.getVisibleRows(!0);break;case"all":n=this.table.rowManager.rows;break;case"selected":n=this.table.modules.selectRow.selectedRows;break;default:n=this.table.options.pagination?this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length-2):this.table.rowManager.getDisplayRows()}return Object.assign([],n)},d.prototype.generateColumnGroupHeaders=function(){var t=this,n=[];return(!1!==this.config.columnGroups?this.table.columnManager.columns:this.table.columnManager.columnsByIndex).forEach(function(e){e=t.processColumnGroup(e);e&&n.push(e)}),n},d.prototype.processColumnGroup=function(e){var t=this,n=e.columns,r=0,o={title:e.definition["title"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))]||e.definition.title,column:e,depth:1};if(n.length){if(o.subGroups=[],o.width=0,n.forEach(function(e){e=t.processColumnGroup(e);e&&(o.width+=e.width,o.subGroups.push(e),e.depth>r&&(r=e.depth))}),o.depth+=r,!o.width)return!1}else{if(!this.columnVisCheck(e))return!1;o.width=1}return o},d.prototype.columnVisCheck=function(e){return!1!==e.definition[this.colVisProp]&&(e.visible||!e.visible&&e.definition[this.colVisProp])},d.prototype.headersToExportRows=function(e){var s=[],a=0,n=[];return e.forEach(function(e){e.depth>a&&(a=e.depth)}),e.forEach(function(e){!function t(e,n){var r=a-n;if(void 0===s[n]&&(s[n]=[]),e.height=e.subGroups?1:r-e.depth+1,s[n].push(e),1<e.height)for(var o=1;o<e.height;o++)void 0===s[n+o]&&(s[n+o]=[]),s[n+o].push(!1);if(1<e.width)for(var i=1;i<e.width;i++)s[n].push(!1);e.subGroups&&e.subGroups.forEach(function(e){t(e,n+1)})}(e,0)}),s.forEach(function(e){var t=[];e.forEach(function(e){e?t.push(new f(e.title,e.column.getComponent(),e.width,e.height,e.depth)):t.push(null)}),n.push(new h("header",t))}),n},d.prototype.bodyToExportRows=function(e){var i=this,s=[],a=[];return this.table.columnManager.columnsByIndex.forEach(function(e){i.columnVisCheck(e)&&s.push(e.getComponent())}),!1!==this.config.columnCalcs&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&e.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&e.push(this.table.modules.columnCalcs.botRow)),(e=e.filter(function(e){switch(e.type){case"group":return!1!==i.config.rowGroups;case"calc":return!1!==i.config.columnCalcs;case"row":return!(i.table.options.dataTree&&!1===i.config.dataTree&&e.modules.dataTree.parent)}return!0})).forEach(function(e,t){var n=e.getData(i.colVisProp),r=[],o=0;switch(e.type){case"group":o=e.level,r.push(new f(e.key,e.getComponent(),s.length,1));break;case"calc":case"row":s.forEach(function(e){r.push(new f(e._column.getFieldValue(n),e,1,1))}),i.table.options.dataTree&&!1!==i.config.dataTree&&(o=e.modules.dataTree.index)}a.push(new h(e.type,r,e.getComponent(),o))}),a},d.prototype.genereateTableElement=function(e){var r=this,t=document.createElement("table"),o=document.createElement("thead"),i=document.createElement("tbody"),s=this.lookupTableStyles(),n=this.table.options["rowFormatter"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],a={};return a.rowFormatter=null!==n?n:this.table.options.rowFormatter,this.table.options.dataTree&&!1!==this.config.dataTree&&this.table.modExists("columnCalcs")&&(a.treeElementField=this.table.modules.dataTree.elementField),a.groupHeader=this.table.options["groupHeader"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],a.groupHeader&&!Array.isArray(a.groupHeader)&&(a.groupHeader=[a.groupHeader]),t.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),o,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),1e3<e.length&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),e.forEach(function(e,t){switch(e.type){case"header":o.appendChild(r.genereateHeaderElement(e,a,s));break;case"group":i.appendChild(r.genereateGroupElement(e,a,s));break;case"calc":i.appendChild(r.genereateCalcElement(e,a,s));break;case"row":var n=r.genereateRowElement(e,a,s);r.mapElementStyles(t%2&&s.evenRow?s.evenRow:s.oddRow,n,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),i.appendChild(n)}}),o.innerHTML&&t.appendChild(o),t.appendChild(i),this.mapElementStyles(this.table.element,t,["border-top","border-left","border-right","border-bottom"]),t},d.prototype.lookupTableStyles=function(){var e={};return this.cloneTableStyle&&window.getComputedStyle&&(e.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),e.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),e.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),e.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),e.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],e.firstRow&&(e.styleCells=e.firstRow.getElementsByClassName("tabulator-cell"),e.firstCell=e.styleCells[0],e.lastCell=e.styleCells[e.styleCells.length-1])),e},d.prototype.genereateHeaderElement=function(e,t,n){var r=this,o=document.createElement("tr");return e.columns.forEach(function(e){var t,n;e&&(t=document.createElement("th"),n=e.component._column.definition.cssClass?e.component._column.definition.cssClass.split(" "):[],t.colSpan=e.width,t.rowSpan=e.height,t.innerHTML=e.value,r.cloneTableStyle&&(t.style.boxSizing="border-box"),n.forEach(function(e){t.classList.add(e)}),r.mapElementStyles(e.component.getElement(),t,["text-align","border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),r.mapElementStyles(e.component._column.contentElement,t,["padding-top","padding-left","padding-right","padding-bottom"]),e.component._column.visible?r.mapElementStyles(e.component.getElement(),t,["width"]):e.component._column.definition.width&&(t.style.width=e.component._column.definition.width+"px"),e.component._column.parent&&r.mapElementStyles(e.component._column.parent.groupElement,t,["border-top"]),o.appendChild(t))}),o},d.prototype.genereateGroupElement=function(e,t,n){var r=document.createElement("tr"),o=document.createElement("td"),i=e.columns[0];return r.classList.add("tabulator-print-table-row"),t.groupHeader&&t.groupHeader[e.indent]?i.value=t.groupHeader[e.indent](i.value,e.component._group.getRowCount(),e.component._group.getData(),e.component):!1===t.groupHeader?i.value=i.value:i.value=e.component._group.generator(i.value,e.component._group.getRowCount(),e.component._group.getData(),e.component),o.colSpan=i.width,o.innerHTML=i.value,r.classList.add("tabulator-print-table-group"),r.classList.add("tabulator-group-level-"+e.indent),i.component.isVisible()&&r.classList.add("tabulator-group-visible"),this.mapElementStyles(n.firstGroup,r,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(n.firstGroup,o,["padding-top","padding-left","padding-right","padding-bottom"]),r.appendChild(o),r},d.prototype.genereateCalcElement=function(e,t,n){t=this.genereateRowElement(e,t,n);return t.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(n.calcRow,t,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),t},d.prototype.genereateRowElement=function(s,a,l){var u=this,c=document.createElement("tr");return c.classList.add("tabulator-print-table-row"),s.columns.forEach(function(e){if(e){var t=document.createElement("td"),n=e.component._column,r=e.value,o={modules:{},getValue:function(){return r},getField:function(){return n.definition.field},getElement:function(){return t},getColumn:function(){return n.getComponent()},getData:function(){return s.component.getData()},getRow:function(){return s.component},getComponent:function(){return o},column:n};if((n.definition.cssClass?n.definition.cssClass.split(" "):[]).forEach(function(e){t.classList.add(e)}),u.table.modExists("format")&&!1!==u.config.formatCells)r=u.table.modules.format.formatExportValue(o,u.colVisProp);else switch(void 0===r?"undefined":_typeof(r)){case"object":r=JSON.stringify(r);break;case"undefined":case"null":r=""}r instanceof Node?t.appendChild(r):t.innerHTML=r,l.firstCell&&(u.mapElementStyles(l.firstCell,t,["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size"]),n.definition.align&&(t.style.textAlign=n.definition.align)),u.table.options.dataTree&&!1!==u.config.dataTree&&(a.treeElementField&&a.treeElementField==n.field||!a.treeElementField&&0==i)&&(s.component._row.modules.dataTree.controlEl&&t.insertBefore(s.component._row.modules.dataTree.controlEl.cloneNode(!0),t.firstChild),s.component._row.modules.dataTree.branchEl&&t.insertBefore(s.component._row.modules.dataTree.branchEl.cloneNode(!0),t.firstChild)),c.appendChild(t),o.modules.format&&o.modules.format.renderedCallback&&o.modules.format.renderedCallback(),a.rowFormatter&&!1!==u.config.formatCells&&a.rowFormatter(s.component)}}),c},d.prototype.genereateHTMLTable=function(e){var t=document.createElement("div");return t.appendChild(this.genereateTableElement(e)),t.innerHTML},d.prototype.getHtml=function(e,t,n,r){r=this.generateExportList(n||this.table.options.htmlOutputConfig,t,e,r||"htmlOutput");return this.genereateHTMLTable(r)},d.prototype.mapElementStyles=function(e,t,n){var r,o;this.cloneTableStyle&&e&&t&&(r={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"},window.getComputedStyle&&(o=window.getComputedStyle(e),n.forEach(function(e){t.style[r[e]]=o.getPropertyValue(e)})))},L.prototype.registerModule("export",d);d=function(e){this.table=e,this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1};d.prototype.initializeColumn=function(o,e){var i,s=this,a=o.getField();o.modules.filter={success:function(r){var e,t="input"==o.modules.filter.tagType&&"text"==o.modules.filter.attrType||"textarea"==o.modules.filter.tagType?"partial":"match",n="";if(void 0===o.modules.filter.prevSuccess||o.modules.filter.prevSuccess!==r){if(o.modules.filter.prevSuccess=r,o.modules.filter.emptyFunc(r))delete s.headerFilters[a];else{switch(o.modules.filter.value=r,_typeof(o.definition.headerFilterFunc)){case"string":s.filters[o.definition.headerFilterFunc]?(n=o.definition.headerFilterFunc,e=function(e){var t=o.definition.headerFilterFuncParams||{},n=o.getFieldValue(e),t="function"==typeof t?t(r,n,e):t;return s.filters[o.definition.headerFilterFunc](r,n,e,t)}):console.warn("Header Filter Error - Matching filter function not found: ",o.definition.headerFilterFunc);break;case"function":n=e=function(e){var t=o.definition.headerFilterFuncParams||{},n=o.getFieldValue(e),t="function"==typeof t?t(r,n,e):t;return o.definition.headerFilterFunc(r,n,e,t)}}e||(n="partial"==t?(e=function(e){e=o.getFieldValue(e);return null!=e&&-1<String(e).toLowerCase().indexOf(String(r).toLowerCase())},"like"):(e=function(e){return o.getFieldValue(e)==r},"=")),s.headerFilters[a]={value:r,func:e,type:n,params:i||{}}}t=JSON.stringify(s.headerFilters),s.prevHeaderFilterChangeCheck!==t&&(s.prevHeaderFilterChangeCheck=t,s.changed=!0,s.table.rowManager.filterRefresh())}return!0},attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(o)},d.prototype.generateHeaderFilterElement=function(e,t,n){var r,o,i,s,a,l,u=this,c=this,d=e.modules.filter.success,p=e.getField();if(e.modules.filter.headerElement&&e.modules.filter.headerElement.parentNode&&e.contentElement.removeChild(e.modules.filter.headerElement.parentNode),p){switch(e.modules.filter.emptyFunc=e.definition.headerFilterEmptyCheck||function(e){return!e&&"0"!==e&&0!==e},(r=document.createElement("div")).classList.add("tabulator-header-filter"),_typeof(e.definition.headerFilter)){case"string":c.table.modules.edit.editors[e.definition.headerFilter]?(o=c.table.modules.edit.editors[e.definition.headerFilter],"tick"!==e.definition.headerFilter&&"tickCross"!==e.definition.headerFilter||e.definition.headerFilterEmptyCheck||(e.modules.filter.emptyFunc=function(e){return!0!==e&&!1!==e})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",e.definition.editor);break;case"function":o=e.definition.headerFilter;break;case"boolean":e.modules.edit&&e.modules.edit.editor?o=e.modules.edit.editor:e.definition.formatter&&c.table.modules.edit.editors[e.definition.formatter]?(o=c.table.modules.edit.editors[e.definition.formatter],"tick"!==e.definition.formatter&&"tickCross"!==e.definition.formatter||e.definition.headerFilterEmptyCheck||(e.modules.filter.emptyFunc=function(e){return!0!==e&&!1!==e})):o=c.table.modules.edit.editors.input}o&&(s={getValue:function(){return void 0!==t?t:""},getField:function(){return e.definition.field},getElement:function(){return r},getColumn:function(){return e.getComponent()},getRow:function(){return{normalizeHeight:function(){}}}},l="function"==typeof(l=e.definition.headerFilterParams||{})?l.call(c.table):l,(i=o.call(this.table.modules.edit,s,function(){},d,function(){},l))?i instanceof Node?(p?c.table.modules.localize.bind("headerFilters|columns|"+e.definition.field,function(e){i.setAttribute("placeholder",void 0!==e&&e?e:c.table.modules.localize.getText("headerFilters|default"))}):c.table.modules.localize.bind("headerFilters|default",function(e){i.setAttribute("placeholder",void 0!==c.column.definition.headerFilterPlaceholder&&c.column.definition.headerFilterPlaceholder?c.column.definition.headerFilterPlaceholder:e)}),i.addEventListener("click",function(e){e.stopPropagation(),i.focus()}),i.addEventListener("focus",function(e){var t=u.table.columnManager.element.scrollLeft;t!==u.table.rowManager.element.scrollLeft&&(u.table.rowManager.scrollHorizontal(t),u.table.columnManager.scrollHorizontal(t))}),a=!1,l=function(e){a&&clearTimeout(a),a=setTimeout(function(){d(i.value)},c.table.options.headerFilterLiveFilterDelay)},e.modules.filter.headerElement=i,e.modules.filter.attrType=i.hasAttribute("type")?i.getAttribute("type").toLowerCase():"",e.modules.filter.tagType=i.tagName.toLowerCase(),!1!==e.definition.headerFilterLiveFilter&&("autocomplete"!==e.definition.headerFilter&&"tickCross"!==e.definition.headerFilter&&("autocomplete"!==e.definition.editor&&"tickCross"!==e.definition.editor||!0!==e.definition.headerFilter)&&(i.addEventListener("keyup",l),i.addEventListener("search",l),"number"==e.modules.filter.attrType&&i.addEventListener("change",function(e){d(i.value)}),"text"==e.modules.filter.attrType&&"ie"!==this.table.browser&&i.setAttribute("type","search")),"input"!=e.modules.filter.tagType&&"select"!=e.modules.filter.tagType&&"textarea"!=e.modules.filter.tagType||i.addEventListener("mousedown",function(e){e.stopPropagation()})),r.appendChild(i),e.contentElement.appendChild(r),n||c.headerFilterColumns.push(e)):console.warn("Filter Error - Cannot add filter to "+p+" column, editor should return an instance of Node, the editor returned:",i):console.warn("Filter Error - Cannot add filter to "+p+" column, editor returned a value of false"))}else console.warn("Filter Error - Cannot add header filter, column has no field set:",e.definition.title)},d.prototype.hideHeaderFilterElements=function(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="none")})},d.prototype.showHeaderFilterElements=function(){this.headerFilterColumns.forEach(function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="")})},d.prototype.setHeaderFilterFocus=function(e){e.modules.filter&&e.modules.filter.headerElement?e.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",e.getField())},d.prototype.getHeaderFilterValue=function(e){if(e.modules.filter&&e.modules.filter.headerElement)return e.modules.filter.headerElement.value;console.warn("Column Filter Error - No header filter set on column:",e.getField())},d.prototype.setHeaderFilterValue=function(e,t){e&&(e.modules.filter&&e.modules.filter.headerElement?(this.generateHeaderFilterElement(e,t,!0),e.modules.filter.success(t)):console.warn("Column Filter Error - No header filter set on column:",e.getField()))},d.prototype.reloadHeaderFilter=function(e){e&&(e.modules.filter&&e.modules.filter.headerElement?this.generateHeaderFilterElement(e,e.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",e.getField()))},d.prototype.hasChanged=function(){var e=this.changed;return this.changed=!1,e},d.prototype.setFilter=function(e,t,n,r){this.filterList=[],Array.isArray(e)||(e=[{field:e,type:t,value:n,params:r}]),this.addFilter(e)},d.prototype.addFilter=function(e,t,n,r){var o=this;(e=!Array.isArray(e)?[{field:e,type:t,value:n,params:r}]:e).forEach(function(e){(e=o.findFilter(e))&&(o.filterList.push(e),o.changed=!0)}),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.filter&&this.table.modules.persistence.save("filter")},d.prototype.findFilter=function(t){var n,r=this;if(Array.isArray(t))return this.findSubFilters(t);var e=!1;return"function"==typeof t.field?e=function(e){return t.field(e,t.type||{})}:r.filters[t.type]?e=(n=r.table.columnManager.getColumnByField(t.field))?function(e){return r.filters[t.type](t.value,n.getFieldValue(e),e,t.params||{})}:function(e){return r.filters[t.type](t.value,e[t.field],e,t.params||{})}:console.warn("Filter Error - No such filter type found, ignoring: ",t.type),t.func=e,!!t.func&&t},d.prototype.findSubFilters=function(e){var t=this,n=[];return e.forEach(function(e){(e=t.findFilter(e))&&n.push(e)}),!!n.length&&n},d.prototype.getFilters=function(e,t){var n=[];return e&&(n=this.getHeaderFilters()),t&&n.forEach(function(e){"function"==typeof e.type&&(e.type="function")}),n.concat(this.filtersToArray(this.filterList,t))},d.prototype.filtersToArray=function(e,t){var n=this,r=[];return e.forEach(function(e){Array.isArray(e)?r.push(n.filtersToArray(e,t)):(e={field:e.field,type:e.type,value:e.value},t&&"function"==typeof e.type&&(e.type="function"),r.push(e))}),r},d.prototype.getHeaderFilters=function(){var e,t=[];for(e in this.headerFilters)t.push({field:e,type:this.headerFilters[e].type,value:this.headerFilters[e].value});return t},d.prototype.removeFilter=function(e,t,n){var r=this;(e=!Array.isArray(e)?[{field:e,type:t,value:n}]:e).forEach(function(t){var e=-1;-1<(e="object"==_typeof(t.field)?r.filterList.findIndex(function(e){return t===e}):r.filterList.findIndex(function(e){return t.field===e.field&&t.type===e.type&&t.value===e.value}))?(r.filterList.splice(e,1),r.changed=!0):console.warn("Filter Error - No matching filter type found, ignoring: ",t.type)}),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.filter&&this.table.modules.persistence.save("filter")},d.prototype.clearFilter=function(e){this.filterList=[],e&&this.clearHeaderFilter(),this.changed=!0,this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.filter&&this.table.modules.persistence.save("filter")},d.prototype.clearHeaderFilter=function(){var t=this;this.headerFilters={},t.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach(function(e){void 0!==e.modules.filter.value&&delete e.modules.filter.value,e.modules.filter.prevSuccess=void 0,t.reloadHeaderFilter(e)}),this.changed=!0},d.prototype.search=function(e,t,n,r){var o=this,i=[],s=[];return(t=!Array.isArray(t)?[{field:t,type:n,value:r}]:t).forEach(function(e){(e=o.findFilter(e))&&s.push(e)}),this.table.rowManager.rows.forEach(function(t){var n=!0;s.forEach(function(e){o.filterRecurse(e,t.getData())||(n=!1)}),n&&i.push("data"===e?t.getData("data"):t.getComponent())}),i},d.prototype.filter=function(e,t){var n=this,r=[],o=[];return n.table.options.dataFiltering&&n.table.options.dataFiltering.call(n.table,n.getFilters()),n.table.options.ajaxFiltering||!n.filterList.length&&!Object.keys(n.headerFilters).length?r=e.slice(0):e.forEach(function(e){n.filterRow(e)&&r.push(e)}),n.table.options.dataFiltered&&(r.forEach(function(e){o.push(e.getComponent())}),n.table.options.dataFiltered.call(n.table,n.getFilters(),o)),r},d.prototype.filterRow=function(e,t){var n,r=this,o=!0,i=e.getData();for(n in r.filterList.forEach(function(e){r.filterRecurse(e,i)||(o=!1)}),r.headerFilters)r.headerFilters[n].func(i)||(o=!1);return o},d.prototype.filterRecurse=function(e,t){var n=this,r=!1;return Array.isArray(e)?e.forEach(function(e){n.filterRecurse(e,t)&&(r=!0)}):r=e.func(t),r},d.prototype.filters={"=":function(e,t,n,r){return t==e},"<":function(e,t,n,r){return t<e},"<=":function(e,t,n,r){return t<=e},">":function(e,t,n,r){return e<t},">=":function(e,t,n,r){return e<=t},"!=":function(e,t,n,r){return t!=e},regex:function(e,t,n,r){return(e="string"==typeof e?new RegExp(e):e).test(t)},like:function(e,t,n,r){return null==e?t===e:null!=t&&-1<String(t).toLowerCase().indexOf(e.toLowerCase())},keywords:function(e,t,n,r){var e=e.toLowerCase().split(void 0===r.separator?" ":r.separator),o=String(null==t?"":t).toLowerCase(),i=[];return e.forEach(function(e){o.includes(e)&&i.push(!0)}),r.matchAll?i.length===e.length:!!i.length},starts:function(e,t,n,r){return null==e?t===e:null!=t&&String(t).toLowerCase().startsWith(e.toLowerCase())},ends:function(e,t,n,r){return null==e?t===e:null!=t&&String(t).toLowerCase().endsWith(e.toLowerCase())},in:function(e,t,n,r){return Array.isArray(e)?!e.length||-1<e.indexOf(t):(console.warn("Filter Error - filter value is not an array:",e),!1)}},L.prototype.registerModule("filter",d);d=function(e){this.table=e};d.prototype.initializeColumn=function(e){e.modules.format=this.lookupFormatter(e,""),void 0!==e.definition.formatterPrint&&(e.modules.format.print=this.lookupFormatter(e,"Print")),void 0!==e.definition.formatterClipboard&&(e.modules.format.clipboard=this.lookupFormatter(e,"Clipboard")),void 0!==e.definition.formatterHtmlOutput&&(e.modules.format.htmlOutput=this.lookupFormatter(e,"HtmlOutput"))},d.prototype.lookupFormatter=function(e,t){var n={params:e.definition["formatter"+t+"Params"]||{}},r=e.definition["formatter"+t];switch(void 0===r?"undefined":_typeof(r)){case"string":"tick"===r&&(r="tickCross",void 0===n.params.crossElement&&(n.params.crossElement=!1),console.warn("DEPRECATION WARNING - the tick formatter has been deprecated, please use the tickCross formatter with the crossElement param set to false")),this.formatters[r]?n.formatter=this.formatters[r]:(console.warn("Formatter Error - No such formatter found: ",r),n.formatter=this.formatters.plaintext);break;case"function":n.formatter=r;break;default:n.formatter=this.formatters.plaintext}return n},d.prototype.cellRendered=function(e){e.modules.format&&e.modules.format.renderedCallback&&!e.modules.format.rendered&&(e.modules.format.renderedCallback(),e.modules.format.rendered=!0)},d.prototype.formatValue=function(t){var e=t.getComponent(),n="function"==typeof t.column.modules.format.params?t.column.modules.format.params(e):t.column.modules.format.params;return t.column.modules.format.formatter.call(this,e,n,function(e){t.modules.format||(t.modules.format={}),t.modules.format.renderedCallback=e,t.modules.format.rendered=!1})},d.prototype.formatExportValue=function(t,e){var n=t.column.modules.format[e];if(n){e="function"==typeof n.params?n.params(component):n.params;return n.formatter.call(this,t.getComponent(),e,function(e){t.modules.format||(t.modules.format={}),t.modules.format.renderedCallback=e,t.modules.format.rendered=!1})}return this.formatValue(t)},d.prototype.sanitizeHTML=function(e){if(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,function(e){return t[e]})}return e},d.prototype.emptyToSpace=function(e){return null==e||""===e?"&nbsp;":e},d.prototype.getFormatter=function(e){switch(void 0===e?"undefined":_typeof(e)){case"string":e=this.formatters[e]||(console.warn("Formatter Error - No such formatter found: ",e),this.formatters.plaintext);break;case"function":break;default:e=this.formatters.plaintext}return e},d.prototype.formatters={plaintext:function(e,t,n){return this.emptyToSpace(this.sanitizeHTML(e.getValue()))},html:function(e,t,n){return e.getValue()},textarea:function(e,t,n){return e.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(e.getValue()))},money:function(e,t,n){var r,o,i=parseFloat(e.getValue()),s=t.decimal||".",a=t.thousand||",",l=t.symbol||"",u=!!t.symbolAfter,t=void 0!==t.precision?t.precision:2;if(isNaN(i))return this.emptyToSpace(this.sanitizeHTML(e.getValue()));for(i=!1!==t?i.toFixed(t):i,r=(i=String(i).split("."))[0],i=1<i.length?s+i[1]:"",o=/(\d+)(\d{3})/;o.test(r);)r=r.replace(o,"$1"+a+"$2");return u?r+i+l:l+r+i},link:function(e,t,n){var r=e.getValue(),o=t.urlPrefix||"",i=t.download,s=r,a=document.createElement("a");if(t.labelField&&(s=e.getData()[t.labelField]),t.label)switch(_typeof(t.label)){case"string":s=t.label;break;case"function":s=t.label(e)}if(s){if(t.urlField&&(r=e.getData()[t.urlField]),t.url)switch(_typeof(t.url)){case"string":r=t.url;break;case"function":r=t.url(e)}return a.setAttribute("href",o+r),t.target&&a.setAttribute("target",t.target),t.download&&(i="function"==typeof i?i(e):!0===i?"":i,a.setAttribute("download",i)),a.innerHTML=this.emptyToSpace(this.sanitizeHTML(s)),a}return"&nbsp;"},image:function(e,t,n){var r=document.createElement("img"),o=e.getValue();switch(t.urlPrefix&&(o=t.urlPrefix+e.getValue()),t.urlSuffix&&(o+=t.urlSuffix),r.setAttribute("src",o),_typeof(t.height)){case"number":r.style.height=t.height+"px";break;case"string":r.style.height=t.height}switch(_typeof(t.width)){case"number":r.style.width=t.width+"px";break;case"string":r.style.width=t.width}return r.addEventListener("load",function(){e.getRow().normalizeHeight()}),r},tickCross:function(e,t,n){var r=e.getValue(),o=e.getElement(),i=t.allowEmpty,s=t.allowTruthy,e=void 0!==t.tickElement?t.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',t=void 0!==t.crossElement?t.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return s&&r||!0===r||"true"===r||"True"===r||1===r||"1"===r?(o.setAttribute("aria-checked",!0),e||""):!i||"null"!==r&&""!==r&&null!=r?(o.setAttribute("aria-checked",!1),t||""):(o.setAttribute("aria-checked","mixed"),"")},datetime:function(e,t,n){var r=t.inputFormat||"YYYY-MM-DD hh:mm:ss",o=t.outputFormat||"DD/MM/YYYY hh:mm:ss",i=void 0!==t.invalidPlaceholder?t.invalidPlaceholder:"",e=e.getValue(),r=moment(e,r);return r.isValid()?(t.timezone?r.tz(t.timezone):r).format(o):!0===i?e:"function"==typeof i?i(e):i},datetimediff:function(e,t,n){var r=t.inputFormat||"YYYY-MM-DD hh:mm:ss",o=void 0!==t.invalidPlaceholder?t.invalidPlaceholder:"",i=void 0!==t.suffix&&t.suffix,s=void 0!==t.unit?t.unit:void 0,a=void 0!==t.humanize&&t.humanize,t=void 0!==t.date?t.date:moment(),e=e.getValue(),r=moment(e,r);return r.isValid()?a?moment.duration(r.diff(t)).humanize(i):r.diff(t,s)+(i?" "+i:""):!0===o?e:"function"==typeof o?o(e):o},lookup:function(e,t,n){e=e.getValue();return void 0===t[e]?(console.warn("Missing display value for "+e),e):t[e]},star:function(e,t,n){var r=e.getValue(),e=e.getElement(),o=t&&t.stars?t.stars:5,i=document.createElement("span"),s=document.createElementNS("http://www.w3.org/2000/svg","svg");i.style.verticalAlign="middle",s.setAttribute("width","14"),s.setAttribute("height","14"),s.setAttribute("viewBox","0 0 512 512"),s.setAttribute("xml:space","preserve"),s.style.padding="0 1px",r=r&&!isNaN(r)?parseInt(r):0;for(var r=Math.max(0,Math.min(r,o)),a=1;a<=o;a++){var l=s.cloneNode(!0);l.innerHTML=a<=r?'<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>':'<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',i.appendChild(l)}return e.style.whiteSpace="nowrap",e.style.overflow="hidden",e.style.textOverflow="ellipsis",e.setAttribute("aria-label",r),i},traffic:function(e,t,n){var r,o=this.sanitizeHTML(e.getValue())||0,i=document.createElement("span"),s=t&&t.max?t.max:100,a=t&&t.min?t.min:0,l=t&&void 0!==t.color?t.color:["red","orange","green"],u="#666666";if(!isNaN(o)&&void 0!==e.getValue()){switch(i.classList.add("tabulator-traffic-light"),r=parseFloat(o)<=s?parseFloat(o):s,r=parseFloat(r)>=a?parseFloat(r):a,r=Math.round((r-a)/((s-a)/100)),void 0===l?"undefined":_typeof(l)){case"string":u=l;break;case"function":u=l(o);break;case"object":if(Array.isArray(l)){var c=100/l.length,c=Math.floor(r/c),c=Math.min(c,l.length-1),u=l[Math.max(c,0)];break}}return i.style.backgroundColor=u,i}},progress:function(t,e,n){var r,o,i,s=this.sanitizeHTML(t.getValue())||0,a=t.getElement(),l=e&&e.max?e.max:100,u=e&&e.min?e.min:0,c=e&&e.legendAlign?e.legendAlign:"center",d=parseFloat(s)<=l?parseFloat(s):l;switch(d=parseFloat(d)>=u?parseFloat(d):u,d=Math.round((d-u)/((l-u)/100)),_typeof(e.color)){case"string":r=e.color;break;case"function":r=e.color(s);break;case"object":if(Array.isArray(e.color)){var p=100/e.color.length,h=Math.floor(d/p);h=Math.min(h,e.color.length-1),h=Math.max(h,0),r=e.color[h];break}default:r="#2DC214"}switch(_typeof(e.legend)){case"string":o=e.legend;break;case"function":o=e.legend(s);break;case"boolean":o=s;break;default:o=!1}switch(_typeof(e.legendColor)){case"string":i=e.legendColor;break;case"function":i=e.legendColor(s);break;case"object":Array.isArray(e.legendColor)&&(p=100/e.legendColor.length,h=Math.floor(d/p),h=Math.min(h,e.legendColor.length-1),h=Math.max(h,0),i=e.legendColor[h]);break;default:i="#000"}a.style.minWidth="30px",a.style.position="relative",a.setAttribute("aria-label",d);var f,m=document.createElement("div");return m.style.display="inline-block",m.style.position="relative",m.style.width=d+"%",m.style.backgroundColor=r,m.style.height="100%",m.setAttribute("data-max",l),m.setAttribute("data-min",u),o&&((f=document.createElement("div")).style.position="absolute",f.style.top="4px",f.style.left=0,f.style.textAlign=c,f.style.width="100%",f.style.color=i,f.innerHTML=o),n(function(){var e;t instanceof b||((e=document.createElement("div")).style.position="absolute",e.style.top="4px",e.style.bottom="4px",e.style.left="4px",e.style.right="4px",a.appendChild(e),a=e),a.appendChild(m),o&&a.appendChild(f)}),""},color:function(e,t,n){return e.getElement().style.backgroundColor=this.sanitizeHTML(e.getValue()),""},buttonTick:function(e,t,n){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function(e,t,n){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},rownum:function(e,t,n){return this.table.rowManager.activeRows.indexOf(e.getRow()._getSelf())+1},handle:function(e,t,n){return e.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},responsiveCollapse:function(e,t,n){function r(e){var t=i.element;i.open=e,t&&(i.open?(o.classList.add("open"),t.style.display=""):(o.classList.remove("open"),t.style.display="none"))}var o=document.createElement("div"),i=e.getRow()._row.modules.responsiveLayout;return o.classList.add("tabulator-responsive-collapse-toggle"),o.innerHTML="<span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span>",e.getElement().classList.add("tabulator-row-handle"),o.addEventListener("click",function(e){e.stopImmediatePropagation(),r(!i.open)}),r(i.open),o},rowSelection:function(e,t,n){var r,o=this,i=document.createElement("input");return i.type="checkbox",this.table.modExists("selectRow",!0)&&(i.addEventListener("click",function(e){e.stopPropagation()}),"function"==typeof e.getRow?(r=e.getRow())instanceof s?(i.addEventListener("change",function(e){r.toggleSelect()}),i.checked=r.isSelected&&r.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(r,i)):i="":(i.addEventListener("change",function(e){o.table.modules.selectRow.selectedRows.length?o.table.deselectRow():o.table.selectRow(t.rowRange)}),this.table.modules.selectRow.registerHeaderSelectCheckbox(i))),i}},L.prototype.registerModule("format",d);d=function(e){this.table=e,this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightPadding=0,this.initializationMode="left",this.active=!1,this.scrollEndTimer=!1};d.prototype.reset=function(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightMargin=0,this.active=!1,this.table.columnManager.headersElement.style.marginLeft=0,this.table.columnManager.element.style.paddingRight=0},d.prototype.initializeColumn=function(e){var t={margin:0,edge:!1};e.isGroup||(this.frozenCheck(e)?(t.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(e):this.rightColumns.unshift(e),this.active=!0,e.modules.frozen=t):this.initializationMode="right")},d.prototype.frozenCheck=function(e){return e.parent.isGroup&&e.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),e.parent.isGroup?this.frozenCheck(e.parent):e.definition.frozen},d.prototype.scrollHorizontal=function(){var e,t=this;this.active&&(clearTimeout(this.scrollEndTimer),this.scrollEndTimer=setTimeout(function(){t.layout()},100),e=this.table.rowManager.getVisibleRows(),this.calcMargins(),this.layoutColumnPosition(),this.layoutCalcRows(),e.forEach(function(e){"row"===e.type&&t.layoutRow(e)}),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)},d.prototype.calcMargins=function(){this.leftMargin=this._calcSpace(this.leftColumns,this.leftColumns.length)+"px",this.table.columnManager.headersElement.style.marginLeft=this.leftMargin,this.rightMargin=this._calcSpace(this.rightColumns,this.rightColumns.length)+"px",this.table.columnManager.element.style.paddingRight=this.rightMargin,this.rightPadding=this.table.rowManager.element.clientWidth+this.table.columnManager.scrollLeft},d.prototype.layoutCalcRows=function(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow))},d.prototype.layoutColumnPosition=function(n){var r=this,o=[];this.leftColumns.forEach(function(t,e){t.modules.frozen.margin=r._calcSpace(r.leftColumns,e)+r.table.columnManager.scrollLeft+"px",e==r.leftColumns.length-1?t.modules.frozen.edge=!0:t.modules.frozen.edge=!1,t.parent.isGroup?(e=r.getColGroupParentElement(t),o.includes(e)||(r.layoutElement(e,t),o.push(e)),t.modules.frozen.edge&&e.classList.add("tabulator-frozen-"+t.modules.frozen.position)):r.layoutElement(t.getElement(),t),n&&t.cells.forEach(function(e){r.layoutElement(e.getElement(!0),t)})}),this.rightColumns.forEach(function(t,e){t.modules.frozen.margin=r.rightPadding-r._calcSpace(r.rightColumns,e+1)+"px",e==r.rightColumns.length-1?t.modules.frozen.edge=!0:t.modules.frozen.edge=!1,t.parent.isGroup?r.layoutElement(r.getColGroupParentElement(t),t):r.layoutElement(t.getElement(),t),n&&t.cells.forEach(function(e){r.layoutElement(e.getElement(!0),t)})})},d.prototype.getColGroupParentElement=function(e){return e.parent.isGroup?this.getColGroupParentElement(e.parent):e.getElement()},d.prototype.layout=function(){var t=this;t.active&&(this.calcMargins(),t.table.rowManager.getDisplayRows().forEach(function(e){"row"===e.type&&t.layoutRow(e)}),this.layoutCalcRows(),this.layoutColumnPosition(!0),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)},d.prototype.layoutRow=function(n){var r=this;n.getElement().style.paddingLeft=this.leftMargin,this.leftColumns.forEach(function(e){var t=n.getCell(e);t&&r.layoutElement(t.getElement(!0),e)}),this.rightColumns.forEach(function(e){var t=n.getCell(e);t&&r.layoutElement(t.getElement(!0),e)})},d.prototype.layoutElement=function(e,t){t.modules.frozen&&(e.style.position="absolute",e.style.left=t.modules.frozen.margin,e.classList.add("tabulator-frozen"),t.modules.frozen.edge&&e.classList.add("tabulator-frozen-"+t.modules.frozen.position))},d.prototype._calcSpace=function(e,t){for(var n=0,r=0;r<t;r++)e[r].visible&&(n+=e[r].getWidth());return n},L.prototype.registerModule("frozenColumns",d);d=function(e){this.table=e,this.topElement=document.createElement("div"),this.rows=[],this.displayIndex=0};d.prototype.initialize=function(){this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling)},d.prototype.setDisplayIndex=function(e){this.displayIndex=e},d.prototype.getDisplayIndex=function(){return this.displayIndex},d.prototype.isFrozen=function(){return!!this.rows.length},d.prototype.getRows=function(e){var t=e.slice(0);return this.rows.forEach(function(e){e=t.indexOf(e);-1<e&&t.splice(e,1)}),t},d.prototype.freezeRow=function(e){e.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(e.modules.frozen=!0,this.topElement.appendChild(e.getElement()),e.initialize(),e.normalizeHeight(),this.table.rowManager.adjustTableSize(),this.rows.push(e),this.table.rowManager.refreshActiveData("display"),this.styleRows())},d.prototype.unfreezeRow=function(e){this.rows.indexOf(e),e.modules.frozen?(e.modules.frozen=!1,this.detachRow(e),this.table.rowManager.adjustTableSize(),this.table.rowManager.refreshActiveData("display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")},d.prototype.detachRow=function(e){var t=this.rows.indexOf(e);-1<t&&((e=e.getElement()).parentNode.removeChild(e),this.rows.splice(t,1))},d.prototype.styleRows=function(e){var n=this;this.rows.forEach(function(e,t){n.table.rowManager.styleRow(e,t)})},L.prototype.registerModule("frozenRows",d);function m(e){this._group=e,this.type="GroupComponent"}m.prototype.getKey=function(){return this._group.key},m.prototype.getField=function(){return this._group.field},m.prototype.getElement=function(){return this._group.element},m.prototype.getRows=function(){return this._group.getRows(!0)},m.prototype.getSubGroups=function(){return this._group.getSubGroups(!0)},m.prototype.getParentGroup=function(){return!!this._group.parent&&this._group.parent.getComponent()},m.prototype.getVisibility=function(){return console.warn("getVisibility function is deprecated, you should now use the isVisible function"),this._group.visible},m.prototype.isVisible=function(){return this._group.visible},m.prototype.show=function(){this._group.show()},m.prototype.hide=function(){this._group.hide()},m.prototype.toggle=function(){this._group.toggleVisibility()},m.prototype._getSelf=function(){return this._group},m.prototype.getTable=function(){return this._group.groupManager.table};var g=function(e,t,n,r,o,i,s){this.groupManager=e,this.parent=t,this.key=r,this.level=n,this.field=o,this.hasSubGroups=n<e.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=s,this.rows=[],this.groups=[],this.groupList=[],this.generator=i,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=s?s.visible:void 0!==e.startOpen[n]?e.startOpen[n]:e.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()};g.prototype.wipe=function(){this.groupList.length?this.groupList.forEach(function(e){e.wipe()}):(this.element=!1,this.arrowElement=!1,this.elementContents=!1)},g.prototype.createElements=function(){var e=document.createElement("div");e.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(e),!1!==this.groupManager.table.options.movableRows&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)},g.prototype.createValueGroups=function(){var t=this,n=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[n]&&this.groupManager.allowedValues[n].forEach(function(e){t._createGroup(e,n)})},g.prototype.addBindings=function(){var t,n,r,o=this;o.groupManager.table.options.groupClick&&o.element.addEventListener("click",function(e){o.groupManager.table.options.groupClick.call(o.groupManager.table,e,o.getComponent())}),o.groupManager.table.options.groupDblClick&&o.element.addEventListener("dblclick",function(e){o.groupManager.table.options.groupDblClick.call(o.groupManager.table,e,o.getComponent())}),o.groupManager.table.options.groupContext&&o.element.addEventListener("contextmenu",function(e){o.groupManager.table.options.groupContext.call(o.groupManager.table,e,o.getComponent())}),(o.groupManager.table.options.groupContextMenu||o.groupManager.table.options.groupClickMenu)&&o.groupManager.table.modExists("menu")&&o.groupManager.table.modules.menu.initializeGroup.call(o.groupManager.table.modules.menu,o),o.groupManager.table.options.groupTap&&(r=!1,o.element.addEventListener("touchstart",function(e){r=!0},{passive:!0}),o.element.addEventListener("touchend",function(e){r&&o.groupManager.table.options.groupTap(e,o.getComponent()),r=!1})),o.groupManager.table.options.groupDblTap&&(t=null,o.element.addEventListener("touchend",function(e){t?(clearTimeout(t),t=null,o.groupManager.table.options.groupDblTap(e,o.getComponent())):t=setTimeout(function(){clearTimeout(t),t=null},300)})),o.groupManager.table.options.groupTapHold&&(n=null,o.element.addEventListener("touchstart",function(e){clearTimeout(n),n=setTimeout(function(){clearTimeout(n),n=null,r=!1,o.groupManager.table.options.groupTapHold(e,o.getComponent())},1e3)},{passive:!0}),o.element.addEventListener("touchend",function(e){clearTimeout(n),n=null})),o.groupManager.table.options.groupToggleElement&&("arrow"==o.groupManager.table.options.groupToggleElement?o.arrowElement:o.element).addEventListener("click",function(e){e.stopPropagation(),e.stopImmediatePropagation(),o.toggleVisibility()})},g.prototype._createGroup=function(e,t){var n=t+"_"+e,t=new g(this.groupManager,this,t,e,this.groupManager.groupIDLookups[t].field,this.groupManager.headerGenerator[t]||this.groupManager.headerGenerator[0],!!this.old&&this.old.groups[n]);this.groups[n]=t,this.groupList.push(t)},g.prototype._addRowToGroup=function(e){var t,n,r=this.level+1;this.hasSubGroups&&(n=r+"_"+(t=this.groupManager.groupIDLookups[r].func(e.getData())),this.groupManager.allowedValues&&this.groupManager.allowedValues[r]?this.groups[n]&&this.groups[n].addRow(e):(this.groups[n]||this._createGroup(t,r),this.groups[n].addRow(e)))},g.prototype._addRow=function(e){this.rows.push(e),e.modules.group=this},g.prototype.insertRow=function(e,t,n){var r=this.conformRowData({});e.updateData(r);t=this.rows.indexOf(t);-1<t?n?this.rows.splice(t+1,0,e):this.rows.splice(t,0,e):n?this.rows.push(e):this.rows.unshift(e),(e.modules.group=this).generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)},g.prototype.scrollHeader=function(t){this.arrowElement.style.marginLeft=t,this.groupList.forEach(function(e){e.scrollHeader(t)})},g.prototype.getRowIndex=function(e){},g.prototype.conformRowData=function(e){return this.field?e[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),e=this.parent?this.parent.conformRowData(e):e},g.prototype.removeRow=function(e){var t=this.rows.indexOf(e),e=e.getElement();-1<t&&this.rows.splice(t,1),this.groupManager.table.options.groupValues||this.rows.length?(e.parentNode&&e.parentNode.removeChild(e),this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)):((this.parent||this.groupManager).removeGroup(this),this.groupManager.updateGroupRows(!0))},g.prototype.removeGroup=function(e){var t=e.level+"_"+e.key;this.groups[t]&&(delete this.groups[t],-1<(e=this.groupList.indexOf(e))&&this.groupList.splice(e,1),this.groupList.length||(this.parent||this.groupManager).removeGroup(this))},g.prototype.getHeadersAndRows=function(t){var n=[];return n.push(this),this._visSet(),this.visible?this.groupList.length?this.groupList.forEach(function(e){n=n.concat(e.getHeadersAndRows(t))}):(!t&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),n.push(this.calcs.top)),n=n.concat(this.rows),!t&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),n.push(this.calcs.bottom))):this.groupList.length||"table"==this.groupManager.table.options.columnCalcs||this.groupManager.table.modExists("columnCalcs")&&(!t&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),n.push(this.calcs.top))),!t&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),n.push(this.calcs.bottom)))),n},g.prototype.getData=function(e,t){var n=[];return this._visSet(),e&&!this.visible||this.rows.forEach(function(e){n.push(e.getData(t||"data"))}),n},g.prototype.getRowCount=function(){var t=0;return this.groupList.length?this.groupList.forEach(function(e){t+=e.getRowCount()}):t=this.rows.length,t},g.prototype.toggleVisibility=function(){this.visible?this.hide():this.show()},g.prototype.hide=function(){this.visible=!1,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination?this.groupManager.updateGroupRows(!0):(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach(function(e){e.getHeadersAndRows().forEach(function(e){e.detachElement()})}):this.rows.forEach(function(e){e=e.getElement();e.parentNode.removeChild(e)}),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()),this.groupManager.table.options.groupVisibilityChanged.call(this.table,this.getComponent(),!1)},g.prototype.show=function(){var n;this.visible=!0,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination?this.groupManager.updateGroupRows(!0):(this.element.classList.add("tabulator-group-visible"),n=this.getElement(),this.groupList.length?this.groupList.forEach(function(e){e.getHeadersAndRows().forEach(function(e){var t=e.getElement();n.parentNode.insertBefore(t,n.nextSibling),e.initialize(),n=t})}):this.rows.forEach(function(e){var t=e.getElement();n.parentNode.insertBefore(t,n.nextSibling),e.initialize(),n=t}),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()),this.groupManager.table.options.groupVisibilityChanged.call(this.table,this.getComponent(),!0)},g.prototype._visSet=function(){var t=[];"function"==typeof this.visible&&(this.rows.forEach(function(e){t.push(e.getData())}),this.visible=this.visible(this.key,this.getRowCount(),t,this.getComponent()))},g.prototype.getRowGroup=function(t){var n=!1;return this.groupList.length?this.groupList.forEach(function(e){e=e.getRowGroup(t);e&&(n=e)}):this.rows.find(function(e){return e===t})&&(n=this),n},g.prototype.getSubGroups=function(t){var n=[];return this.groupList.forEach(function(e){n.push(t?e.getComponent():e)}),n},g.prototype.getRows=function(t){var n=[];return this.rows.forEach(function(e){n.push(t?e.getComponent():e)}),n},g.prototype.generateGroupHeaderContents=function(){var t=[];for(this.rows.forEach(function(e){t.push(e.getData())}),this.elementContents=this.generator(this.key,this.getRowCount(),t,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);"string"==typeof this.elementContents?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)},g.prototype.getPath=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return e.unshift(this.key),this.parent&&this.parent.getPath(e),e},g.prototype.getElement=function(){this.addBindingsd=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var e=0;e<this.element.childNodes.length;++e)this.element.childNodes[e].parentNode.removeChild(this.element.childNodes[e]);return this.generateGroupHeaderContents(),this.element},g.prototype.detachElement=function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},g.prototype.normalizeHeight=function(){this.setHeight(this.element.clientHeight)},g.prototype.initialize=function(e){this.initialized&&!e||(this.normalizeHeight(),this.initialized=!0)},g.prototype.reinitialize=function(){this.initialized=!1,this.height=0,L.prototype.helpers.elVisible(this.element)&&this.initialize(!0)},g.prototype.setHeight=function(e){this.height!=e&&(this.height=e,this.outerHeight=this.element.offsetHeight)},g.prototype.getHeight=function(){return this.outerHeight},g.prototype.getGroup=function(){return this},g.prototype.reinitializeHeight=function(){},g.prototype.calcHeight=function(){},g.prototype.setCellHeight=function(){},g.prototype.clearCellHeight=function(){},g.prototype.getComponent=function(){return this.component||(this.component=new m(this)),this.component};d=function(e){this.table=e,this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayIndex=0};d.prototype.initialize=function(){var i=this,e=i.table.options.groupBy,t=i.table.options.groupStartOpen,n=i.table.options.groupHeader;this.allowedValues=i.table.options.groupValues,Array.isArray(e)&&Array.isArray(n)&&e.length>n.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),i.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],i.table.modules.localize.bind("groups|item",function(r,o){i.headerGenerator[0]=function(e,t,n){return(void 0===e?"":e)+"<span>("+t+" "+(1===t?r:o.groups.items)+")</span>"}}),this.groupIDLookups=[],Array.isArray(e)||e?this.table.modExists("columnCalcs")&&"table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.removeCalcs():this.table.modExists("columnCalcs")&&"group"!=this.table.options.columnCalcs&&this.table.columnManager.getRealColumns().forEach(function(e){e.definition.topCalc&&i.table.modules.columnCalcs.initializeTopRow(),e.definition.bottomCalc&&i.table.modules.columnCalcs.initializeBottomRow()}),(e=!Array.isArray(e)?[e]:e).forEach(function(t,e){var n,r="function"==typeof t?t:(n=i.table.columnManager.getColumnByField(t))?function(e){return n.getFieldValue(e)}:function(e){return e[t]};i.groupIDLookups.push({field:"function"!=typeof t&&t,func:r,values:!!i.allowedValues&&i.allowedValues[e]})}),t&&((t=!Array.isArray(t)?[t]:t).forEach(function(e){}),i.startOpen=t),n&&(i.headerGenerator=Array.isArray(n)?n:[n]),this.initialized=!0},d.prototype.setDisplayIndex=function(e){this.displayIndex=e},d.prototype.getDisplayIndex=function(){return this.displayIndex},d.prototype.getRows=function(e){return this.groupIDLookups.length?(this.table.options.dataGrouping.call(this.table),this.generateGroups(e),this.table.options.dataGrouped&&this.table.options.dataGrouped.call(this.table,this.getGroups(!0)),this.updateGroupRows()):e.slice(0)},d.prototype.getGroups=function(t){var n=[];return this.groupList.forEach(function(e){n.push(t?e.getComponent():e)}),n},d.prototype.getChildGroups=function(e){var t=this,n=[];return(e=e||this).groupList.forEach(function(e){e.groupList.length?n=n.concat(t.getChildGroups(e)):n.push(e)}),n},d.prototype.wipe=function(){this.groupList.forEach(function(e){e.wipe()})},d.prototype.pullGroupListData=function(e){var r=this,o=[];return e.forEach(function(e){var t,n={level:0,rowCount:0,headerContent:""};e.hasSubGroups?(t=r.pullGroupListData(e.groupList),n.level=e.level,n.rowCount=t.length-e.groupList.length,n.headerContent=e.generator(e.key,n.rowCount,e.rows,e),o.push(n),o=o.concat(t)):(n.level=e.level,n.headerContent=e.generator(e.key,e.rows.length,e.rows,e),n.rowCount=e.getRows().length,o.push(n),e.getRows().forEach(function(e){o.push(e.getData("data"))}))}),o},d.prototype.getGroupedData=function(){return this.pullGroupListData(this.groupList)},d.prototype.getRowGroup=function(t){var n=!1;return this.groupList.forEach(function(e){e=e.getRowGroup(t);e&&(n=e)}),n},d.prototype.countGroups=function(){return this.groupList.length},d.prototype.generateGroups=function(e){var t=this,n=t.groups;t.groups={},t.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach(function(e){t.createGroup(e,0,n)}),e.forEach(function(e){t.assignRowToExistingGroup(e,n)})):e.forEach(function(e){t.assignRowToGroup(e,n)})},d.prototype.createGroup=function(e,t,n){var r=t+"_"+e,n=new g(this,!1,t,e,this.groupIDLookups[0].field,this.headerGenerator[0],(n=n||[])[r]);this.groups[r]=n,this.groupList.push(n)},d.prototype.assignRowToExistingGroup=function(e,t){var n="0_"+this.groupIDLookups[0].func(e.getData());this.groups[n]&&this.groups[n].addRow(e)},d.prototype.assignRowToGroup=function(e,t){var n=this.groupIDLookups[0].func(e.getData()),r=!this.groups["0_"+n];return r&&this.createGroup(n,0,t),this.groups["0_"+n].addRow(e),!r},d.prototype.reassignRowToGroup=function(e){var t=e.getGroup(),n=t.getPath(),r=this.getExpectedPath(e);n.length==r.length&&n.every(function(e,t){return e===r[t]})||(t.removeRow(e),this.assignRowToGroup(e,self.groups),this.table.rowManager.refreshActiveData("group",!1,!0))},d.prototype.getExpectedPath=function(e){var t=[],n=e.getData();return this.groupIDLookups.forEach(function(e){t.push(e.func(n))}),t},d.prototype.updateGroupRows=function(e){var t=[];return this.groupList.forEach(function(e){t=t.concat(e.getHeadersAndRows())}),e&&(!0!==(e=this.table.rowManager.setDisplayRows(t,this.getDisplayIndex()))&&this.setDisplayIndex(e),this.table.rowManager.refreshActiveData("group",!0,!0)),t},d.prototype.scrollHeaders=function(t){this.table.options.virtualDomHoz&&(t-=this.table.vdomHoz.vDomPadLeft),t+="px",this.groupList.forEach(function(e){e.scrollHeader(t)})},d.prototype.removeGroup=function(e){var t=e.level+"_"+e.key;this.groups[t]&&(delete this.groups[t],-1<(e=this.groupList.indexOf(e))&&this.groupList.splice(e,1))},L.prototype.registerModule("groupRows",d);d=function(e){this.table=e,this.history=[],this.index=-1};d.prototype.clear=function(){this.history=[],this.index=-1},d.prototype.action=function(e,t,n){this.history=this.history.slice(0,this.index+1),this.history.push({type:e,component:t,data:n}),this.index++},d.prototype.getHistoryUndoSize=function(){return this.index+1},d.prototype.getHistoryRedoSize=function(){return this.history.length-(this.index+1)},d.prototype.clearComponentHistory=function(t){var e=this.history.findIndex(function(e){return e.component===t});-1<e&&(this.history.splice(e,1),e<=this.index&&this.index--,this.clearComponentHistory(t))},d.prototype.undo=function(){if(-1<this.index){var e=this.history[this.index];return this.undoers[e.type].call(this,e),this.index--,this.table.options.historyUndo.call(this.table,e.type,e.component.getComponent(),e.data),!0}return console.warn("History Undo Error - No more history to undo"),!1},d.prototype.redo=function(){if(this.history.length-1>this.index){this.index++;var e=this.history[this.index];return this.redoers[e.type].call(this,e),this.table.options.historyRedo.call(this.table,e.type,e.component.getComponent(),e.data),!0}return console.warn("History Redo Error - No more history to redo"),!1},d.prototype.undoers={cellEdit:function(e){e.component.setValueProcessData(e.data.oldValue)},rowAdd:function(e){e.component.deleteActual()},rowDelete:function(e){var t=this.table.rowManager.addRowActual(e.data.data,e.data.pos,e.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(e.component,t)},rowMove:function(e){this.table.rowManager.moveRowActual(e.component,this.table.rowManager.rows[e.data.posFrom],!e.data.after),this.table.rowManager.redraw()}},d.prototype.redoers={cellEdit:function(e){e.component.setValueProcessData(e.data.newValue)},rowAdd:function(e){var t=this.table.rowManager.addRowActual(e.data.data,e.data.pos,e.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(e.component,t)},rowDelete:function(e){e.component.deleteActual()},rowMove:function(e){this.table.rowManager.moveRowActual(e.component,this.table.rowManager.rows[e.data.posTo],e.data.after),this.table.rowManager.redraw()}},d.prototype._rebindRow=function(n,r){this.history.forEach(function(e){var t;e.component instanceof l?e.component===n&&(e.component=r):e.component instanceof u&&e.component.row===n&&((t=e.component.column.getField())&&(e.component=r.getCell(t)))})},L.prototype.registerModule("history",d);d=function(e){this.table=e,this.fieldIndex=[],this.hasIndex=!1};d.prototype.parseTable=function(){var e=this.table.element,t=this.table.options,n=(t.columns,e.getElementsByTagName("th")),r=e.getElementsByTagName("tbody")[0],o=[];this.hasIndex=!1,this.table.options.htmlImporting.call(this.table),r=r?r.getElementsByTagName("tr"):[],this._extractOptions(e,t),n.length?this._extractHeaders(n,r):this._generateBlankHeaders(n,r);for(var i=0;i<r.length;i++){var s=r[i].getElementsByTagName("td"),a={};this.hasIndex||(a[t.index]=i);for(var l=0;l<s.length;l++){var u=s[l];void 0!==this.fieldIndex[l]&&(a[this.fieldIndex[l]]=u.innerHTML)}o.push(a)}var c=document.createElement("div"),d=e.attributes;for(l in d)"object"==_typeof(d[l])&&c.setAttribute(d[l].name,d[l].value);e.parentNode.replaceChild(c,e),t.data=o,this.table.options.htmlImported.call(this.table),this.table.element=c},d.prototype._extractOptions=function(e,t,n){var r,o=e.attributes,n=n?Object.assign([],n):Object.keys(t),i={};for(r in n.forEach(function(e){i[e.toLowerCase()]=e}),o){var s,a=o[r];a&&"object"==(void 0===a?"undefined":_typeof(a))&&a.name&&0===a.name.indexOf("tabulator-")&&(s=a.name.replace("tabulator-",""),void 0!==i[s]&&(t[i[s]]=this._attribValue(a.value)))}},d.prototype._attribValue=function(e){return"true"===e||"false"!==e&&e},d.prototype._findCol=function(t){return this.table.options.columns.find(function(e){return e.title===t})||!1},d.prototype._extractHeaders=function(e,t){for(var n=0;n<e.length;n++){var r,o=e[n],i=!1,s=this._findCol(o.textContent);s?i=!0:s={title:o.textContent.trim()},s.field||(s.field=o.textContent.trim().toLowerCase().replace(" ","_")),(r=o.getAttribute("width"))&&!s.width&&(s.width=r),o.attributes,this._extractOptions(o,s,a.prototype.defaultOptionList),this.fieldIndex[n]=s.field,s.field==this.table.options.index&&(this.hasIndex=!0),i||this.table.options.columns.push(s)}},d.prototype._generateBlankHeaders=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],o={title:"",field:"col"+n};this.fieldIndex[n]=o.field;r=r.getAttribute("width");r&&(o.width=r),this.table.options.columns.push(o)}},L.prototype.registerModule("htmlTableImport",d);d=function(e){this.table=e,this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1};d.prototype.initialize=function(){var e=this.table.options.keybindings,t={};if(this.watchKeys={},!(this.pressedKeys=[])!==e){for(var n in this.bindings)t[n]=this.bindings[n];if(Object.keys(e).length)for(var r in e)t[r]=e[r];this.mapBindings(t),this.bindEvents()}},d.prototype.mapBindings=function(e){var t,n=this,r=this;for(t in e)!function(t){n.actions[t]?e[t]&&("object"!==_typeof(e[t])&&(e[t]=[e[t]]),e[t].forEach(function(e){r.mapBinding(t,e)})):console.warn("Key Binding Error - no such action:",t)}(t)},d.prototype.mapBinding=function(e,t){var n=this,r={action:this.actions[e],keys:[],ctrl:!1,shift:!1,meta:!1};t.toString().toLowerCase().split(" ").join("").split("+").forEach(function(e){switch(e){case"ctrl":r.ctrl=!0;break;case"shift":r.shift=!0;break;case"meta":r.meta=!0;break;default:e=parseInt(e),r.keys.push(e),n.watchKeys[e]||(n.watchKeys[e]=[]),n.watchKeys[e].push(r)}})},d.prototype.bindEvents=function(){var r=this;this.keyupBinding=function(t){var e=t.keyCode,n=r.watchKeys[e];n&&(r.pressedKeys.push(e),n.forEach(function(e){r.checkBinding(t,e)}))},this.keydownBinding=function(e){e=e.keyCode;!r.watchKeys[e]||-1<(e=r.pressedKeys.indexOf(e))&&r.pressedKeys.splice(e,1)},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)},d.prototype.clearBindings=function(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)},d.prototype.checkBinding=function(e,t){var n=this,r=!0;return e.ctrlKey==t.ctrl&&e.shiftKey==t.shift&&e.metaKey==t.meta&&(t.keys.forEach(function(e){-1==n.pressedKeys.indexOf(e)&&(r=!1)}),r&&t.action.call(n,e),!0)},d.prototype.bindings={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:"ctrl + 90",redo:"ctrl + 89",copyToClipboard:"ctrl + 67"},d.prototype.actions={keyBlock:function(e){e.stopPropagation(),e.preventDefault()},scrollPageUp:function(e){var t=this.table.rowManager,n=t.scrollTop-t.height;t.element.scrollHeight,e.preventDefault(),t.displayRowsCount&&(0<=n?t.element.scrollTop=n:t.scrollToRow(t.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(e){var t=this.table.rowManager,n=t.scrollTop+t.height,r=t.element.scrollHeight;e.preventDefault(),t.displayRowsCount&&(n<=r?t.element.scrollTop=n:t.scrollToRow(t.getDisplayRows()[t.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(e){var t=this.table.rowManager;e.preventDefault(),t.displayRowsCount&&t.scrollToRow(t.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(e){var t=this.table.rowManager;e.preventDefault(),t.displayRowsCount&&t.scrollToRow(t.getDisplayRows()[t.displayRowsCount-1]),this.table.element.focus()},navPrev:function(e){var t=!1;this.table.modExists("edit")&&(t=this.table.modules.edit.currentCell)&&(e.preventDefault(),t.nav().prev())},navNext:function(e){var t,n=!1,r=this.table.options.tabEndNewRow;this.table.modExists("edit")&&(n=this.table.modules.edit.currentCell)&&(e.preventDefault(),(t=n.nav()).next()||r&&(n.getElement().firstChild.blur(),(r=!0===r?this.table.addRow({}):"function"==typeof r?this.table.addRow(r(n.row.getComponent())):this.table.addRow(Object.assign({},r))).then(function(){setTimeout(function(){t.next()})})))},navLeft:function(e){var t=!1;this.table.modExists("edit")&&(t=this.table.modules.edit.currentCell)&&(e.preventDefault(),t.nav().left())},navRight:function(e){var t=!1;this.table.modExists("edit")&&(t=this.table.modules.edit.currentCell)&&(e.preventDefault(),t.nav().right())},navUp:function(e){var t=!1;this.table.modExists("edit")&&(t=this.table.modules.edit.currentCell)&&(e.preventDefault(),t.nav().up())},navDown:function(e){var t=!1;this.table.modExists("edit")&&(t=this.table.modules.edit.currentCell)&&(e.preventDefault(),t.nav().down())},undo:function(e){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(e.preventDefault(),this.table.modules.history.undo()))},redo:function(e){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(e.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(e){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}},L.prototype.registerModule("keybindings",d);d=function(e){this.table=e,this.menuElements=[],this.blurEvent=this.hideMenu.bind(this),this.escEvent=this.escMenu.bind(this),this.nestedMenuBlock=!1,this.positionReversedX=!1};d.prototype.initializeColumnHeader=function(t){var e,n=this;t.definition.headerContextMenu&&(t.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,t,t.definition.headerContextMenu)),this.tapHold(t,t.definition.headerContextMenu)),t.definition.headerMenu&&((e=document.createElement("span")).classList.add("tabulator-header-menu-button"),e.innerHTML="&vellip;",e.addEventListener("click",function(e){e.stopPropagation(),e.preventDefault(),n.LoadMenuEvent(t,t.definition.headerMenu,e)}),t.titleElement.insertBefore(e,t.titleElement.firstChild))},d.prototype.LoadMenuEvent=function(e,t,n){t="function"==typeof t?t.call(this.table,e.getComponent(),n):t,this.loadMenu(n,e,t)},d.prototype.tapHold=function(t,n){var r=this,e=t.getElement(),o=null,i=!1;e.addEventListener("touchstart",function(e){clearTimeout(o),i=!1,o=setTimeout(function(){clearTimeout(o),i=!(o=null),r.LoadMenuEvent(t,n,e)},1e3)},{passive:!0}),e.addEventListener("touchend",function(e){clearTimeout(o),o=null,i&&e.preventDefault()})},d.prototype.initializeCell=function(e){e.column.definition.contextMenu&&(e.getElement(!0).addEventListener("contextmenu",this.LoadMenuEvent.bind(this,e,e.column.definition.contextMenu)),this.tapHold(e,e.column.definition.contextMenu)),e.column.definition.clickMenu&&e.getElement(!0).addEventListener("click",this.LoadMenuEvent.bind(this,e,e.column.definition.clickMenu))},d.prototype.initializeRow=function(e){this.table.options.rowContextMenu&&(e.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,e,this.table.options.rowContextMenu)),this.tapHold(e,this.table.options.rowContextMenu)),this.table.options.rowClickMenu&&e.getElement().addEventListener("click",this.LoadMenuEvent.bind(this,e,this.table.options.rowClickMenu))},d.prototype.initializeGroup=function(e){this.table.options.groupContextMenu&&(e.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,e,this.table.options.groupContextMenu)),this.tapHold(e,this.table.options.groupContextMenu)),this.table.options.groupClickMenu&&e.getElement().addEventListener("click",this.LoadMenuEvent.bind(this,e,this.table.options.groupClickMenu))},d.prototype.loadMenu=function(e,o,t,n){var i=this,r=!(e instanceof MouseEvent),s=document.createElement("div");if(s.classList.add("tabulator-menu"),r||e.preventDefault(),t&&t.length){if(!n){if(this.nestedMenuBlock){if(this.isOpen())return}else this.nestedMenuBlock=setTimeout(function(){i.nestedMenuBlock=!1},100);this.hideMenu(),this.menuElements=[]}t.forEach(function(t){var n=document.createElement("div"),e=t.label,r=t.disabled;t.separator?n.classList.add("tabulator-menu-separator"):(n.classList.add("tabulator-menu-item"),(e="function"==typeof e?e.call(i.table,o.getComponent()):e)instanceof Node?n.appendChild(e):n.innerHTML=e,(r="function"==typeof r?r.call(i.table,o.getComponent()):r)?(n.classList.add("tabulator-menu-item-disabled"),n.addEventListener("click",function(e){e.stopPropagation()})):t.menu&&t.menu.length?n.addEventListener("click",function(e){e.stopPropagation(),i.hideOldSubMenus(s),i.loadMenu(e,o,t.menu,n)}):t.action&&n.addEventListener("click",function(e){t.action(e,o.getComponent())}),t.menu&&t.menu.length&&n.classList.add("tabulator-menu-item-submenu")),s.appendChild(n)}),s.addEventListener("click",function(e){i.hideMenu()}),this.menuElements.push(s),this.positionMenu(s,n,r,e)}},d.prototype.hideOldSubMenus=function(e){var t=this.menuElements.indexOf(e);if(-1<t)for(var n=this.menuElements.length-1;t<n;n--){var r=this.menuElements[n];r.parentNode&&r.parentNode.removeChild(r),this.menuElements.pop()}},d.prototype.positionMenu=function(e,t,n,r){var o,i,s,a=this,l=Math.max(document.body.offsetHeight,window.innerHeight);t?(o=(s=L.prototype.helpers.elOffset(t)).left+t.offsetWidth,i=s.top-1):(o=(n?r.touches[0]:r).pageX,i=(n?r.touches[0]:r).pageY,this.positionReversedX=!1),e.style.top=i+"px",e.style.left=o+"px",setTimeout(function(){a.table.rowManager.element.addEventListener("scroll",a.blurEvent),document.body.addEventListener("click",a.blurEvent),document.body.addEventListener("contextmenu",a.blurEvent),window.addEventListener("resize",a.blurEvent),document.body.addEventListener("keydown",a.escEvent)},100),document.body.appendChild(e),i+e.offsetHeight>=l&&(e.style.top="",e.style.bottom=t?l-s.top-t.offsetHeight-1+"px":l-i+"px"),(o+e.offsetWidth>=document.body.offsetWidth||this.positionReversedX)&&(e.style.left="",e.style.right=t?document.documentElement.offsetWidth-s.left+"px":document.documentElement.offsetWidth-o+"px",this.positionReversedX=!0)},d.prototype.isOpen=function(){return!!this.menuElements.length},d.prototype.escMenu=function(e){27==e.keyCode&&this.hideMenu()},d.prototype.hideMenu=function(){this.menuElements.forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)}),document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent)},d.prototype.menus={},L.prototype.registerModule("menu",d);d=function(e){this.table=e,this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this)};d.prototype.createPlaceholderElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.classList.add("tabulator-col-placeholder"),e},d.prototype.initializeColumn=function(t){var n,r=this,e={};t.modules.frozen||(n=t.getElement(),e.mousemove=function(e){t.parent===r.moving.parent&&((r.touchMove?e.touches[0]:e).pageX-L.prototype.helpers.elOffset(n).left+r.table.columnManager.element.scrollLeft>t.getWidth()/2?r.toCol===t&&r.toColAfter||(n.parentNode.insertBefore(r.placeholderElement,n.nextSibling),r.moveColumn(t,!0)):r.toCol===t&&!r.toColAfter||(n.parentNode.insertBefore(r.placeholderElement,n),r.moveColumn(t,!1)))}.bind(r),n.addEventListener("mousedown",function(e){r.touchMove=!1,1===e.which&&(r.checkTimeout=setTimeout(function(){r.startMove(e,t)},r.checkPeriod))}),n.addEventListener("mouseup",function(e){1===e.which&&r.checkTimeout&&clearTimeout(r.checkTimeout)}),r.bindTouchEvents(t)),t.modules.moveColumn=e},d.prototype.bindTouchEvents=function(r){var o,i,s,a,l,u,c=this,e=r.getElement(),d=!1;e.addEventListener("touchstart",function(e){c.checkTimeout=setTimeout(function(){c.touchMove=!0,o=r.nextColumn(),s=o?o.getWidth()/2:0,i=r.prevColumn(),a=i?i.getWidth()/2:0,u=l=0,d=!1,c.startMove(e,r)},c.checkPeriod)},{passive:!0}),e.addEventListener("touchmove",function(e){var t,n;c.moving&&(c.moveHover(e),d=d||e.touches[0].pageX,0<(t=e.touches[0].pageX-d)?o&&s<t-l&&(n=o)!==r&&(d=e.touches[0].pageX,n.getElement().parentNode.insertBefore(c.placeholderElement,n.getElement().nextSibling),c.moveColumn(n,!0)):i&&a<-t-u&&(n=i)!==r&&(d=e.touches[0].pageX,n.getElement().parentNode.insertBefore(c.placeholderElement,n.getElement()),c.moveColumn(n,!1)),n&&(o=n.nextColumn(),l=s,s=o?o.getWidth()/2:0,i=n.prevColumn(),u=a,a=i?i.getWidth()/2:0))},{passive:!0}),e.addEventListener("touchend",function(e){c.checkTimeout&&clearTimeout(c.checkTimeout),c.moving&&c.endMove(e)})},d.prototype.startMove=function(e,t){var n=t.getElement();this.moving=t,this.startX=(this.touchMove?e.touches[0]:e).pageX-L.prototype.helpers.elOffset(n).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=t.getWidth()+"px",this.placeholderElement.style.height=t.getHeight()+"px",n.parentNode.insertBefore(this.placeholderElement,n),n.parentNode.removeChild(n),this.hoverElement=n.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.table.columnManager.getElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom="0",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(e)},d.prototype._bindMouseMove=function(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveColumn.mousemove)})},d.prototype._unbindMouseMove=function(){this.table.columnManager.columnsByIndex.forEach(function(e){e.modules.moveColumn.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveColumn.mousemove)})},d.prototype.moveColumn=function(e,t){var n=this.moving.getCells();this.toCol=e,(this.toColAfter=t)?e.getCells().forEach(function(e,t){e=e.getElement(!0);e.parentNode.insertBefore(n[t].getElement(),e.nextSibling)}):e.getCells().forEach(function(e,t){e=e.getElement(!0);e.parentNode.insertBefore(n[t].getElement(),e)})},d.prototype.endMove=function(e){1!==e.which&&!this.touchMove||(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))},d.prototype.moveHover=function(e){var t,n=this,r=n.table.columnManager.getElement(),o=r.scrollLeft,e=(n.touchMove?e.touches[0]:e).pageX-L.prototype.helpers.elOffset(r).left+o;n.hoverElement.style.left=e-n.startX+"px",e-o<n.autoScrollMargin&&(n.autoScrollTimeout||(n.autoScrollTimeout=setTimeout(function(){t=Math.max(0,o-5),n.table.rowManager.getElement().scrollLeft=t,n.autoScrollTimeout=!1},1))),o+r.clientWidth-e<n.autoScrollMargin&&(n.autoScrollTimeout||(n.autoScrollTimeout=setTimeout(function(){t=Math.min(r.clientWidth,o+5),n.table.rowManager.getElement().scrollLeft=t,n.autoScrollTimeout=!1},1)))},L.prototype.registerModule("moveColumn",d);d=function(e){this.table=e,this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1};d.prototype.createPlaceholderElement=function(){var e=document.createElement("div");return e.classList.add("tabulator-row"),e.classList.add("tabulator-row-placeholder"),e},d.prototype.initialize=function(e){this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements},d.prototype.setHandle=function(e){this.hasHandle=e},d.prototype.initializeGroupHeader=function(n){var r=this,e={};e.mouseup=function(e){r.tableRowDrop(e,row)}.bind(r),e.mousemove=function(e){var t;e.pageY-L.prototype.helpers.elOffset(n.element).top+r.table.rowManager.element.scrollTop>n.getHeight()/2?r.toRow===n&&r.toRowAfter||((t=n.getElement()).parentNode.insertBefore(r.placeholderElement,t.nextSibling),r.moveRow(n,!0)):(r.toRow!==n||r.toRowAfter)&&(t=n.getElement()).previousSibling&&(t.parentNode.insertBefore(r.placeholderElement,t),r.moveRow(n,!1))}.bind(r),n.modules.moveRow=e},d.prototype.initializeRow=function(n){var e,r=this,t={};t.mouseup=function(e){r.tableRowDrop(e,n)}.bind(r),t.mousemove=function(e){var t=n.getElement();e.pageY-L.prototype.helpers.elOffset(t).top+r.table.rowManager.element.scrollTop>n.getHeight()/2?r.toRow===n&&r.toRowAfter||(t.parentNode.insertBefore(r.placeholderElement,t.nextSibling),r.moveRow(n,!0)):r.toRow===n&&!r.toRowAfter||(t.parentNode.insertBefore(r.placeholderElement,t),r.moveRow(n,!1))}.bind(r),this.hasHandle||((e=n.getElement()).addEventListener("mousedown",function(e){1===e.which&&(r.checkTimeout=setTimeout(function(){r.startMove(e,n)},r.checkPeriod))}),e.addEventListener("mouseup",function(e){1===e.which&&r.checkTimeout&&clearTimeout(r.checkTimeout)}),this.bindTouchEvents(n,n.getElement())),n.modules.moveRow=t},d.prototype.initializeCell=function(t){var n=this,e=t.getElement(!0);e.addEventListener("mousedown",function(e){1===e.which&&(n.checkTimeout=setTimeout(function(){n.startMove(e,t.row)},n.checkPeriod))}),e.addEventListener("mouseup",function(e){1===e.which&&n.checkTimeout&&clearTimeout(n.checkTimeout)}),this.bindTouchEvents(t.row,e)},d.prototype.bindTouchEvents=function(r,e){var o,i,s,a,l,u,c=this,d=!1;e.addEventListener("touchstart",function(e){c.checkTimeout=setTimeout(function(){c.touchMove=!0,o=r.nextRow(),s=o?o.getHeight()/2:0,i=r.prevRow(),a=i?i.getHeight()/2:0,u=l=0,d=!1,c.startMove(e,r)},c.checkPeriod)},{passive:!0}),this.moving,this.toRow,this.toRowAfter,e.addEventListener("touchmove",function(e){var t,n;c.moving&&(e.preventDefault(),c.moveHover(e),d=d||e.touches[0].pageY,0<(t=e.touches[0].pageY-d)?o&&s<t-l&&(n=o)!==r&&(d=e.touches[0].pageY,n.getElement().parentNode.insertBefore(c.placeholderElement,n.getElement().nextSibling),c.moveRow(n,!0)):i&&a<-t-u&&(n=i)!==r&&(d=e.touches[0].pageY,n.getElement().parentNode.insertBefore(c.placeholderElement,n.getElement()),c.moveRow(n,!1)),n&&(o=n.nextRow(),l=s,s=o?o.getHeight()/2:0,i=n.prevRow(),u=a,a=i?i.getHeight()/2:0))}),e.addEventListener("touchend",function(e){c.checkTimeout&&clearTimeout(c.checkTimeout),c.moving&&(c.endMove(e),c.touchMove=!1)})},d.prototype._bindMouseMove=function(){this.table.rowManager.getDisplayRows().forEach(function(e){"row"!==e.type&&"group"!==e.type||!e.modules.moveRow.mousemove||e.getElement().addEventListener("mousemove",e.modules.moveRow.mousemove)})},d.prototype._unbindMouseMove=function(){this.table.rowManager.getDisplayRows().forEach(function(e){"row"!==e.type&&"group"!==e.type||!e.modules.moveRow.mousemove||e.getElement().removeEventListener("mousemove",e.modules.moveRow.mousemove)})},d.prototype.startMove=function(e,t){var n=t.getElement();this.setStartPosition(e,t),this.moving=t,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=t.getWidth()+"px",this.placeholderElement.style.height=t.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(t)):(n.parentNode.insertBefore(this.placeholderElement,n),n.parentNode.removeChild(n)),this.hoverElement=n.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.moveHover(e)},d.prototype.setStartPosition=function(e,t){var n=(this.touchMove?e.touches[0]:e).pageX,r=(this.touchMove?e.touches[0]:e).pageY,e=t.getElement();this.connection?(t=e.getBoundingClientRect(),this.startX=t.left-n+window.pageXOffset,this.startY=t.top-r+window.pageYOffset):this.startY=r-e.getBoundingClientRect().top},d.prototype.endMove=function(e){e&&1!==e.which&&!this.touchMove||(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow&&this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))},d.prototype.moveRow=function(e,t){this.toRow=e,this.toRowAfter=t},d.prototype.moveHover=function(e){(this.connection?this.moveHoverConnections:this.moveHoverTable).call(this,e)},d.prototype.moveHoverTable=function(e){var t=this.table.rowManager.getElement(),n=t.scrollTop,n=(this.touchMove?e.touches[0]:e).pageY-t.getBoundingClientRect().top+n;this.hoverElement.style.top=n-this.startY+"px"},d.prototype.moveHoverConnections=function(e){this.hoverElement.style.left=this.startX+(this.touchMove?e.touches[0]:e).pageX+"px",this.hoverElement.style.top=this.startY+(this.touchMove?e.touches[0]:e).pageY+"px"},d.prototype.elementRowDrop=function(e,t,n){this.table.options.movableRowsElementDrop&&this.table.options.movableRowsElementDrop(e,t,!!n&&n.getComponent())},d.prototype.connectToTables=function(e){var t,n=this;this.connectionSelectorsTables&&(t=this.table.modules.comms.getConnections(this.connectionSelectorsTables),this.table.options.movableRowsSendingStart.call(this.table,t),this.table.modules.comms.send(this.connectionSelectorsTables,"moveRow","connect",{row:e})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach(function(e){"string"==typeof e?n.connectionElements=n.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(e))):n.connectionElements.push(e)}),this.connectionElements.forEach(function(t){function e(e){n.elementRowDrop(e,t,n.moving)}t.addEventListener("mouseup",e),t.tabulatorElementDropEvent=e,t.classList.add("tabulator-movingrow-receiving")}))},d.prototype.disconnectFromTables=function(){var e;this.connectionSelectorsTables&&(e=this.table.modules.comms.getConnections(this.connectionSelectorsTables),this.table.options.movableRowsSendingStop.call(this.table,e),this.table.modules.comms.send(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach(function(e){e.classList.remove("tabulator-movingrow-receiving"),e.removeEventListener("mouseup",e.tabulatorElementDropEvent),delete e.tabulatorElementDropEvent})},d.prototype.connect=function(e,t){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=e,this.connectedRow=t,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(function(e){"row"===e.type&&e.modules.moveRow&&e.modules.moveRow.mouseup&&e.getElement().addEventListener("mouseup",e.modules.moveRow.mouseup)}),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.table.options.movableRowsReceivingStart.call(this.table,t,e),!0)},d.prototype.disconnect=function(e){e===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(function(e){"row"===e.type&&e.modules.moveRow&&e.modules.moveRow.mouseup&&e.getElement().removeEventListener("mouseup",e.modules.moveRow.mouseup)}),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.table.options.movableRowsReceivingStop.call(this.table,e)):console.warn("Move Row Error - trying to disconnect from non connected table")},d.prototype.dropComplete=function(e,t,n){var r=!1;if(n){switch(_typeof(this.table.options.movableRowsSender)){case"string":r=this.senders[this.table.options.movableRowsSender];break;case"function":r=this.table.options.movableRowsSender}r?r.call(this,this.moving.getComponent(),t?t.getComponent():void 0,e):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.table.options.movableRowsSent.call(this.table,this.moving.getComponent(),t?t.getComponent():void 0,e)}else this.table.options.movableRowsSentFailed.call(this.table,this.moving.getComponent(),t?t.getComponent():void 0,e);this.endMove()},d.prototype.tableRowDrop=function(e,t){var n=!1,r=!1;switch(e.stopImmediatePropagation(),_typeof(this.table.options.movableRowsReceiver)){case"string":n=this.receivers[this.table.options.movableRowsReceiver];break;case"function":n=this.table.options.movableRowsReceiver}n?r=n.call(this,this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),(r?this.table.options.movableRowsReceived:this.table.options.movableRowsReceivedFailed).call(this.table,this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable),this.table.modules.comms.send(this.connectedTable,"moveRow","dropcomplete",{row:t,success:r})},d.prototype.receivers={insert:function(e,t,n){return this.table.addRow(e.getData(),void 0,t),!0},add:function(e,t,n){return this.table.addRow(e.getData()),!0},update:function(e,t,n){return!!t&&(t.update(e.getData()),!0)},replace:function(e,t,n){return!!t&&(this.table.addRow(e.getData(),void 0,t),t.delete(),!0)}},d.prototype.senders={delete:function(e,t,n){e.delete()}},d.prototype.commsReceived=function(e,t,n){switch(t){case"connect":return this.connect(e,n.row);case"disconnect":return this.disconnect(e);case"dropcomplete":return this.dropComplete(e,n.row,n.success)}},L.prototype.registerModule("moveRow",d);d=function(e){this.table=e,this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0};d.prototype.initializeColumn=function(n){var r=this,o=!1,i={};this.allowedTypes.forEach(function(e){var t,e="mutator"+(e.charAt(0).toUpperCase()+e.slice(1));n.definition[e]&&(t=r.lookupMutator(n.definition[e]))&&(o=!0,i[e]={mutator:t,params:n.definition[e+"Params"]||{}})}),o&&(n.modules.mutate=i)},d.prototype.lookupMutator=function(e){var t=!1;switch(void 0===e?"undefined":_typeof(e)){case"string":this.mutators[e]?t=this.mutators[e]:console.warn("Mutator Error - No such mutator found, ignoring: ",e);break;case"function":t=e}return t},d.prototype.transformRow=function(o,i,s){var a,l="mutator"+(i.charAt(0).toUpperCase()+i.slice(1));return this.enabled&&this.table.columnManager.traverse(function(e){var t,n,r;e.modules.mutate&&(t=e.modules.mutate[l]||e.modules.mutate.mutator||!1)&&(a=e.getFieldValue(void 0!==s?s:o),"data"!=i&&void 0===a||(r=e.getComponent(),n="function"==typeof t.params?t.params(a,o,i,r):t.params,e.setFieldValue(o,t.mutator(a,o,i,n,r))))}),o},d.prototype.transformCell=function(e,t){var n=e.column.modules.mutate.mutatorEdit||e.column.modules.mutate.mutator||!1,r={};return n?(r=Object.assign(r,e.row.getData()),e.column.setFieldValue(r,t),n.mutator(t,r,"edit",n.params,e.getComponent())):t},d.prototype.enable=function(){this.enabled=!0},d.prototype.disable=function(){this.enabled=!1},d.prototype.mutators={},L.prototype.registerModule("mutator",d);d=function(e){this.table=e,this.mode="local",this.progressiveLoad=!1,this.size=0,this.page=1,this.count=5,this.max=1,this.displayIndex=0,this.initialLoad=!0,this.pageSizes=[],this.dataReceivedNames={},this.dataSentNames={},this.createElements()};d.prototype.createElements=function(){var e;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),(e=document.createElement("button")).classList.add("tabulator-page"),e.setAttribute("type","button"),e.setAttribute("role","button"),e.setAttribute("aria-label",""),e.setAttribute("title",""),this.firstBut=e.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=e.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=e.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=e.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))},d.prototype.generatePageSizeSelectList=function(){var n=this,e=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))e=this.table.options.paginationSizeSelector,this.pageSizes=e,-1==this.pageSizes.indexOf(this.size)&&e.unshift(this.size);else if(-1==this.pageSizes.indexOf(this.size)){for(var e=[],t=1;t<5;t++)e.push(this.size*t);this.pageSizes=e}else e=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);e.forEach(function(e){var t=document.createElement("option");!0===(t.value=e)?n.table.modules.localize.bind("pagination|all",function(e){t.innerHTML=e}):t.innerHTML=e,n.pageSizeSelect.appendChild(t)}),this.pageSizeSelect.value=this.size}},d.prototype.initialize=function(e){var t,n,r=this;this.dataSentNames=Object.assign({},this.paginationDataSentNames),this.dataSentNames=Object.assign(this.dataSentNames,this.table.options.paginationDataSent),this.dataReceivedNames=Object.assign({},this.paginationDataReceivedNames),this.dataReceivedNames=Object.assign(this.dataReceivedNames,this.table.options.paginationDataReceived),r.table.modules.localize.bind("pagination|first",function(e){r.firstBut.innerHTML=e}),r.table.modules.localize.bind("pagination|first_title",function(e){r.firstBut.setAttribute("aria-label",e),r.firstBut.setAttribute("title",e)}),r.table.modules.localize.bind("pagination|prev",function(e){r.prevBut.innerHTML=e}),r.table.modules.localize.bind("pagination|prev_title",function(e){r.prevBut.setAttribute("aria-label",e),r.prevBut.setAttribute("title",e)}),r.table.modules.localize.bind("pagination|next",function(e){r.nextBut.innerHTML=e}),r.table.modules.localize.bind("pagination|next_title",function(e){r.nextBut.setAttribute("aria-label",e),r.nextBut.setAttribute("title",e)}),r.table.modules.localize.bind("pagination|last",function(e){r.lastBut.innerHTML=e}),r.table.modules.localize.bind("pagination|last_title",function(e){r.lastBut.setAttribute("aria-label",e),r.lastBut.setAttribute("title",e)}),r.firstBut.addEventListener("click",function(){r.setPage(1).then(function(){}).catch(function(){})}),r.prevBut.addEventListener("click",function(){r.previousPage().then(function(){}).catch(function(){})}),r.nextBut.addEventListener("click",function(){r.nextPage().then(function(){}).catch(function(){})}),r.lastBut.addEventListener("click",function(){r.setPage(r.max).then(function(){}).catch(function(){})}),r.table.options.paginationElement&&(r.element=r.table.options.paginationElement),this.pageSizeSelect&&(t=document.createElement("label"),r.table.modules.localize.bind("pagination|page_size",function(e){r.pageSizeSelect.setAttribute("aria-label",e),r.pageSizeSelect.setAttribute("title",e),t.innerHTML=e}),r.element.appendChild(t),r.element.appendChild(r.pageSizeSelect),r.pageSizeSelect.addEventListener("change",function(e){r.setPageSize("true"==r.pageSizeSelect.value||r.pageSizeSelect.value),r.setPage(1).then(function(){}).catch(function(){})})),r.element.appendChild(r.firstBut),r.element.appendChild(r.prevBut),r.element.appendChild(r.pagesElement),r.element.appendChild(r.nextBut),r.element.appendChild(r.lastBut),r.table.options.paginationElement||e||r.table.footerManager.append(r.element,r),r.mode=r.table.options.pagination,r.table.options.paginationSize?r.size=r.table.options.paginationSize:((n=document.createElement("div")).classList.add("tabulator-row"),n.style.visibility=e,(e=document.createElement("div")).classList.add("tabulator-cell"),e.innerHTML="Page Row Test",n.appendChild(e),r.table.rowManager.getTableElement().appendChild(n),r.size=Math.floor(r.table.rowManager.getElement().clientHeight/n.offsetHeight),r.table.rowManager.getTableElement().removeChild(n)),r.count=r.table.options.paginationButtonCount,r.generatePageSizeSelectList()},d.prototype.initializeProgressive=function(e){this.initialize(!0),this.mode="progressive_"+e,this.progressiveLoad=!0},d.prototype.setDisplayIndex=function(e){this.displayIndex=e},d.prototype.getDisplayIndex=function(){return this.displayIndex},d.prototype.setMaxRows=function(e){this.max=!e||!0===this.size?1:Math.ceil(e/this.size),this.page>this.max&&(this.page=this.max)},d.prototype.reset=function(e,t){return"local"!=this.mode&&!e||(this.page=1),t&&(this.initialLoad=!0),!0},d.prototype.setMaxPage=function(e){e=parseInt(e),this.max=e||1,this.page>this.max&&(this.page=this.max,this.trigger())},d.prototype.setPage=function(n){var r=this,o=this;switch(n){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return new Promise(function(e,t){0<(n=parseInt(n))&&n<=r.max||"local"!==r.mode?(r.page=n,r.trigger().then(function(){e()}).catch(function(){t()}),o.table.options.persistence&&o.table.modExists("persistence",!0)&&o.table.modules.persistence.config.page&&o.table.modules.persistence.save("page")):(console.warn("Pagination Error - Requested page is out of range of 1 - "+r.max+":",n),t())})},d.prototype.setPageToRow=function(r){var o=this;return new Promise(function(e,t){var n=o.table.rowManager.getDisplayRows(o.displayIndex-1).indexOf(r);-1<n?(n=!0===o.size?1:Math.ceil((n+1)/o.size),o.setPage(n).then(function(){e()}).catch(function(){t()})):(console.warn("Pagination Error - Requested row is not visible"),t())})},d.prototype.setPageSize=function(e){0<(e=!0!==e?parseInt(e):e)&&(this.size=e),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.page&&this.table.modules.persistence.save("page")},d.prototype._setPageButtons=function(){for(var e=this,t=Math.floor((this.count-1)/2),n=Math.ceil((this.count-1)/2),t=this.max-this.page+t+1<this.count?this.max-this.count+1:Math.max(this.page-t,1),r=this.page<=n?Math.min(this.count,this.max):Math.min(this.page+n,this.max);e.pagesElement.firstChild;)e.pagesElement.removeChild(e.pagesElement.firstChild);1==e.page?(e.firstBut.disabled=!0,e.prevBut.disabled=!0):(e.firstBut.disabled=!1,e.prevBut.disabled=!1),e.page==e.max?(e.lastBut.disabled=!0,e.nextBut.disabled=!0):(e.lastBut.disabled=!1,e.nextBut.disabled=!1);for(var o=t;o<=r;o++)0<o&&o<=e.max&&e.pagesElement.appendChild(e._generatePageButton(o));this.footerRedraw()},d.prototype._generatePageButton=function(t){var n=this,r=document.createElement("button");return r.classList.add("tabulator-page"),t==n.page&&r.classList.add("active"),r.setAttribute("type","button"),r.setAttribute("role","button"),n.table.modules.localize.bind("pagination|page_title",function(e){r.setAttribute("aria-label",e+" "+t),r.setAttribute("title",e+" "+t)}),r.setAttribute("data-page",t),r.textContent=t,r.addEventListener("click",function(e){n.setPage(t).then(function(){}).catch(function(){})}),r},d.prototype.previousPage=function(){var n=this;return new Promise(function(e,t){1<n.page?(n.page--,n.trigger().then(function(){e()}).catch(function(){t()}),n.table.options.persistence&&n.table.modExists("persistence",!0)&&n.table.modules.persistence.config.page&&n.table.modules.persistence.save("page")):(console.warn("Pagination Error - Previous page would be less than page 1:",0),t())})},d.prototype.nextPage=function(){var n=this;return new Promise(function(e,t){n.page<n.max?(n.page++,n.trigger().then(function(){e()}).catch(function(){t()}),n.table.options.persistence&&n.table.modExists("persistence",!0)&&n.table.modules.persistence.config.page&&n.table.modules.persistence.save("page")):(n.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+n.max+":",n.max+1),t())})},d.prototype.getPage=function(){return this.page},d.prototype.getPageMax=function(){return this.max},d.prototype.getPageSize=function(e){return this.size},d.prototype.getMode=function(){return this.mode},d.prototype.getRows=function(e){var t,n,r;if("local"!=this.mode)return this._setPageButtons(),e.slice(0);t=[],r=!0===this.size?(n=0,e.length):(n=this.size*(this.page-1))+parseInt(this.size),this._setPageButtons();for(var o=n;o<r;o++)e[o]&&t.push(e[o]);return t},d.prototype.trigger=function(){var n,r=this;return new Promise(function(e,t){switch(r.mode){case"local":n=r.table.rowManager.scrollLeft,r.table.rowManager.refreshActiveData("page"),r.table.rowManager.scrollHorizontal(n),r.table.options.pageLoaded.call(r.table,r.getPage()),e();break;case"remote":case"progressive_load":case"progressive_scroll":r.table.modules.ajax.blockActiveRequest(),r._getRemotePage().then(function(){e()}).catch(function(){t()});break;default:console.warn("Pagination Error - no such pagination mode:",r.mode),t()}})},d.prototype._getRemotePage=function(){var r,o,i=this,s=this;return new Promise(function(t,n){var e;s.table.modExists("ajax",!0)||n(),r=L.prototype.helpers.deepClone(s.table.modules.ajax.getParams()||{}),(o=s.table.modules.ajax.getParams())[i.dataSentNames.page]=s.page,i.size&&(o[i.dataSentNames.size]=i.size),i.table.options.ajaxSorting&&i.table.modExists("sort")&&((e=s.table.modules.sort.getSort()).forEach(function(e){delete e.column}),o[i.dataSentNames.sorters]=e),i.table.options.ajaxFiltering&&i.table.modExists("filter")&&(e=s.table.modules.filter.getFilters(!0,!0),o[i.dataSentNames.filters]=e),s.table.modules.ajax.setParams(o),s.table.modules.ajax.sendRequest(i.progressiveLoad).then(function(e){s._parseRemoteData(e),t()}).catch(function(e){n()}),s.table.modules.ajax.setParams(r)})},d.prototype._parseRemoteData=function(e){var t,n,r=this;if(void 0===e[this.dataReceivedNames.last_page]&&console.warn("Remote Pagination Error - Server response missing '"+this.dataReceivedNames.last_page+"' property"),e[this.dataReceivedNames.data]){if(this.max=parseInt(e[this.dataReceivedNames.last_page])||1,this.progressiveLoad)switch(this.mode){case"progressive_load":1==this.page?this.table.rowManager.setData(e[this.dataReceivedNames.data],!1,this.initialLoad&&1==this.page):this.table.rowManager.addRows(e[this.dataReceivedNames.data]),this.page<this.max&&setTimeout(function(){r.nextPage().then(function(){}).catch(function(){})},r.table.options.ajaxProgressiveLoadDelay);break;case"progressive_scroll":e=this.table.rowManager.getData().concat(e[this.dataReceivedNames.data]),this.table.rowManager.setData(e,!0,this.initialLoad&&1==this.page),n=this.table.options.ajaxProgressiveLoadScrollMargin||2*this.table.rowManager.element.clientHeight,r.table.rowManager.element.scrollHeight<=r.table.rowManager.element.clientHeight+n&&r.nextPage().then(function(){}).catch(function(){})}else t=this.table.rowManager.scrollLeft,this.table.rowManager.setData(e[this.dataReceivedNames.data],!1,this.initialLoad&&1==this.page),this.table.rowManager.scrollHorizontal(t),this.table.columnManager.scrollHorizontal(t),this.table.options.pageLoaded.call(this.table,this.getPage());this.initialLoad=!1}else console.warn("Remote Pagination Error - Server response missing '"+this.dataReceivedNames.data+"' property")},d.prototype.footerRedraw=function(){var e=this.table.footerManager.element;Math.ceil(e.clientWidth)-e.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(e.clientWidth)-e.scrollWidth<0&&(this.pagesElement.style.display="none"))},d.prototype.paginationDataSentNames={page:"page",size:"size",sorters:"sorters",filters:"filters"},d.prototype.paginationDataReceivedNames={current_page:"current_page",last_page:"last_page",data:"data"},L.prototype.registerModule("page",d);d=function(e){this.table=e,this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1};d.prototype.localStorageTest=function(){var e="_tabulator_test";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}},d.prototype.initialize=function(){var e,t=this.table.options.persistenceMode,n=this.table.options.persistenceID;this.mode=!0!==t?t:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?"function"==typeof this.table.options.persistenceReaderFunc?this.readFunc=this.table.options.persistenceReaderFunc:this.readers[this.table.options.persistenceReaderFunc]?this.readFunc=this.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):this.readers[this.mode]?this.readFunc=this.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?"function"==typeof this.table.options.persistenceWriterFunc?this.writeFunc=this.table.options.persistenceWriterFunc:this.readers[this.table.options.persistenceWriterFunc]?this.writeFunc=this.readers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):this.writers[this.mode]?this.writeFunc=this.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(n||this.table.element.getAttribute("id")||""),this.config={sort:!0===this.table.options.persistence||this.table.options.persistence.sort,filter:!0===this.table.options.persistence||this.table.options.persistence.filter,group:!0===this.table.options.persistence||this.table.options.persistence.group,page:!0===this.table.options.persistence||this.table.options.persistence.page,columns:!0===this.table.options.persistence?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(e=this.retreiveData("page"))&&(void 0===e.paginationSize||!0!==this.config.page&&!this.config.page.size||(this.table.options.paginationSize=e.paginationSize),void 0===e.paginationInitialPage||!0!==this.config.page&&!this.config.page.page||(this.table.options.paginationInitialPage=e.paginationInitialPage)),this.config.group&&(e=this.retreiveData("group"))&&(void 0===e.groupBy||!0!==this.config.group&&!this.config.group.groupBy||(this.table.options.groupBy=e.groupBy),void 0===e.groupStartOpen||!0!==this.config.group&&!this.config.group.groupStartOpen||(this.table.options.groupStartOpen=e.groupStartOpen),void 0===e.groupHeader||!0!==this.config.group&&!this.config.group.groupHeader||(this.table.options.groupHeader=e.groupHeader)),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns))},d.prototype.initializeColumn=function(e){var r,o=this;this.config.columns&&(this.defWatcherBlock=!0,r=e.getDefinition(),(!0===this.config.columns?Object.keys(r):this.config.columns).forEach(function(e){var t=Object.getOwnPropertyDescriptor(r,e),n=r[e];t&&Object.defineProperty(r,e,{set:function(e){n=e,o.defWatcherBlock||o.save("columns"),t.set&&t.set(e)},get:function(){return t.get&&t.get(),n}})}),this.defWatcherBlock=!1)},d.prototype.load=function(e,t){e=this.retreiveData(e);return e=t?e?this.mergeDefinition(t,e):t:e},d.prototype.retreiveData=function(e){return!!this.readFunc&&this.readFunc(this.id,e)},d.prototype.mergeDefinition=function(o,n){var i=this,s=[];return(n=n||[]).forEach(function(t,e){var n,r=i._findColumn(o,t);r&&(!0===i.config.columns||null==i.config.columns?(n=Object.keys(r)).push("width"):n=i.config.columns,n.forEach(function(e){"columns"!==e&&void 0!==t[e]&&(r[e]=t[e])}),r.columns&&(r.columns=i.mergeDefinition(r.columns,t.columns)),s.push(r))}),o.forEach(function(e,t){i._findColumn(n,e)||(s.length>t?s.splice(t,0,e):s.push(e))}),s},d.prototype._findColumn=function(e,t){var n=t.columns?"group":t.field?"field":"object";return e.find(function(e){switch(n){case"group":return e.title===t.title&&e.columns.length===t.columns.length;case"field":return e.field===t.field;case"object":return e===t}})},d.prototype.save=function(e){var t={};switch(e){case"columns":t=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":t=this.table.modules.filter.getFilters();break;case"sort":t=this.validateSorters(this.table.modules.sort.getSort());break;case"group":t=this.getGroupConfig();break;case"page":t=this.getPageConfig()}this.writeFunc&&this.writeFunc(this.id,e,t)},d.prototype.validateSorters=function(e){return e.forEach(function(e){e.column=e.field,delete e.field}),e},d.prototype.getGroupConfig=function(){var e={};return this.config.group&&(!0!==this.config.group&&!this.config.group.groupBy||(e.groupBy=this.table.options.groupBy),!0!==this.config.group&&!this.config.group.groupStartOpen||(e.groupStartOpen=this.table.options.groupStartOpen),!0!==this.config.group&&!this.config.group.groupHeader||(e.groupHeader=this.table.options.groupHeader)),e},d.prototype.getPageConfig=function(){var e={};return this.config.page&&(!0!==this.config.page&&!this.config.page.size||(e.paginationSize=this.table.modules.page.getPageSize()),!0!==this.config.page&&!this.config.page.page||(e.paginationInitialPage=this.table.modules.page.getPage())),e},d.prototype.parseColumns=function(e){var o=this,i=[],s=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return e.forEach(function(t){var e,n={},r=t.getDefinition();t.isGroup?(n.title=r.title,n.columns=o.parseColumns(t.getColumns())):(n.field=t.getField(),!0===o.config.columns||null==o.config.columns?(e=Object.keys(r)).push("width"):e=o.config.columns,e.forEach(function(e){switch(e){case"width":n.width=t.getWidth();break;case"visible":n.visible=t.visible;break;default:"function"!=typeof r[e]&&-1===s.indexOf(e)&&(n[e]=r[e])}})),i.push(n)}),i},d.prototype.readers={local:function(e,t){t=localStorage.getItem(e+"-"+t);return!!t&&JSON.parse(t)},cookie:function(e,t){var n,r=document.cookie,e=e+"-"+t,t=r.indexOf(e+"=");return!!(n=-1<t?(r=-1<(t=(r=r.substr(t)).indexOf(";"))?r.substr(0,t):r).replace(e+"=",""):n)&&JSON.parse(n)}},d.prototype.writers={local:function(e,t,n){localStorage.setItem(e+"-"+t,JSON.stringify(n))},cookie:function(e,t,n){var r=new Date;r.setDate(r.getDate()+1e4),document.cookie=e+"-"+t+"="+JSON.stringify(n)+"; expires="+r.toUTCString()}},L.prototype.registerModule("persistence",d);d=function(e){this.table=e,this.element=!1,this.manualBlock=!1};d.prototype.initialize=function(){window.addEventListener("beforeprint",this.replaceTable.bind(this)),window.addEventListener("afterprint",this.cleanup.bind(this))},d.prototype.replaceTable=function(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.genereateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))},d.prototype.cleanup=function(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")},d.prototype.printFullscreen=function(e,t,n){var r=window.scrollX,o=window.scrollY,i=document.createElement("div"),s=document.createElement("div"),t=this.table.modules.export.genereateTable(void 0!==n?n:this.table.options.printConfig,void 0!==t?t:this.table.options.printStyled,e||this.table.options.printRowRange,"print");this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(i.classList.add("tabulator-print-header"),"string"==typeof(e="function"==typeof this.table.options.printHeader?this.table.options.printHeader.call(this.table):this.table.options.printHeader)?i.innerHTML=e:i.appendChild(e),this.element.appendChild(i)),this.element.appendChild(t),this.table.options.printFooter&&(s.classList.add("tabulator-print-footer"),"string"==typeof(i="function"==typeof this.table.options.printFooter?this.table.options.printFooter.call(this.table):this.table.options.printFooter)?s.innerHTML=i:s.appendChild(i),this.element.appendChild(s)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,t),window.print(),this.cleanup(),window.scrollTo(r,o),this.manualBlock=!1},L.prototype.registerModule("print",d);d=function(e){this.table=e,this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0};d.prototype.watchData=function(s){var a,l=this;this.currentVersion++,a=this.currentVersion,l.unwatchData(),l.data=s,l.origFuncs.push=s.push,Object.defineProperty(l.data,"push",{enumerable:!1,configurable:!0,value:function(){var e=Array.from(arguments);return l.blocked||a!==l.currentVersion||e.forEach(function(e){l.table.rowManager.addRowActual(e,!1)}),l.origFuncs.push.apply(s,arguments)}}),l.origFuncs.unshift=s.unshift,Object.defineProperty(l.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var e=Array.from(arguments);return l.blocked||a!==l.currentVersion||e.forEach(function(e){l.table.rowManager.addRowActual(e,!0)}),l.origFuncs.unshift.apply(s,arguments)}}),l.origFuncs.shift=s.shift,Object.defineProperty(l.data,"shift",{enumerable:!1,configurable:!0,value:function(){var e;return l.blocked||a!==l.currentVersion||l.data.length&&(e=l.table.rowManager.getRowFromDataObject(l.data[0]))&&e.deleteActual(),l.origFuncs.shift.call(s)}}),l.origFuncs.pop=s.pop,Object.defineProperty(l.data,"pop",{enumerable:!1,configurable:!0,value:function(){var e;return l.blocked||a!==l.currentVersion||l.data.length&&(e=l.table.rowManager.getRowFromDataObject(l.data[l.data.length-1]))&&e.deleteActual(),l.origFuncs.pop.call(s)}}),l.origFuncs.splice=s.splice,Object.defineProperty(l.data,"splice",{enumerable:!1,configurable:!0,value:function(){var t,n,e=Array.from(arguments),r=e[0]<0?s.length+e[0]:e[0],o=e[1],i=!!e[2]&&e.slice(2);return l.blocked||a!==l.currentVersion||(i&&((t=!!s[r]&&l.table.rowManager.getRowFromDataObject(s[r]))?i.forEach(function(e){l.table.rowManager.addRowActual(e,!0,t,!0)}):(i=i.slice().reverse()).forEach(function(e){l.table.rowManager.addRowActual(e,!0,!1,!0)})),0!==o&&(n=s.slice(r,void 0===e[1]?e[1]:r+o)).forEach(function(e,t){e=l.table.rowManager.getRowFromDataObject(e);e&&e.deleteActual(t!==n.length-1)}),!i&&0===o||l.table.rowManager.reRenderInPosition()),l.origFuncs.splice.apply(s,arguments)}})},d.prototype.unwatchData=function(){if(!1!==this.data)for(var e in this.origFuncs)Object.defineProperty(this.data,e,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})},d.prototype.watchRow=function(e){var t,n=e.getData();for(t in this.blocked=!0,n)this.watchKey(e,n,t);this.table.options.dataTree&&this.watchTreeChildren(e),this.blocked=!1},d.prototype.watchTreeChildren=function(e){function t(){n.table.modules.dataTree.initializeRow(e),n.table.modules.dataTree.layoutRow(e),n.table.rowManager.refreshActiveData("tree",!1,!0)}var n=this,r=e.getData()[this.table.options.dataTreeChildField],o={};r&&(o.push=r.push,Object.defineProperty(r,"push",{enumerable:!1,configurable:!0,value:function(){var e=o.push.apply(r,arguments);return t(),e}}),o.unshift=r.unshift,Object.defineProperty(r,"unshift",{enumerable:!1,configurable:!0,value:function(){var e=o.unshift.apply(r,arguments);return t(),e}}),o.shift=r.shift,Object.defineProperty(r,"shift",{enumerable:!1,configurable:!0,value:function(){var e=o.shift.call(r);return t(),e}}),o.pop=r.pop,Object.defineProperty(r,"pop",{enumerable:!1,configurable:!0,value:function(){var e=o.pop.call(r);return t(),e}}),o.splice=r.splice,Object.defineProperty(r,"splice",{enumerable:!1,configurable:!0,value:function(){var e=o.splice.apply(r,arguments);return t(),e}}))},d.prototype.watchKey=function(n,e,r){var o=this,i=Object.getOwnPropertyDescriptor(e,r),s=e[r],a=this.currentVersion;Object.defineProperty(e,r,{set:function(e){var t;s=e,o.blocked||a!==o.currentVersion||((t={})[r]=e,n.updateData(t)),i.set&&i.set(e)},get:function(){return i.get&&i.get(),s}})},d.prototype.unwatchRow=function(e){var t,n=e.getData();for(t in n)Object.defineProperty(n,t,{value:n[t]})},d.prototype.block=function(){this.blocked=!0},d.prototype.unblock=function(){this.blocked=!1},L.prototype.registerModule("reactiveData",d);d=function(e){this.table=e,this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.handle=null,this.prevHandle=null};d.prototype.initializeColumn=function(e,n,t){var r,o,i,s=this,a=this.table.options.resizableColumns;"header"===e&&(r="textarea"==n.definition.formatter||n.definition.variableHeight,n.modules.resize={variableHeight:r}),!0!==a&&a!=e||((o=document.createElement("div")).className="tabulator-col-resize-handle",(i=document.createElement("div")).className="tabulator-col-resize-handle prev",o.addEventListener("click",function(e){e.stopPropagation()}),o.addEventListener("mousedown",e=function(e){var t=n.getLastColumn();t&&s._checkResizability(t)&&(s.startColumn=n,s._mouseDown(e,t,o))}),o.addEventListener("touchstart",e,{passive:!0}),o.addEventListener("dblclick",function(e){var t=n.getLastColumn();t&&s._checkResizability(t)&&(e.stopPropagation(),t.reinitializeWidth(!0))}),i.addEventListener("click",function(e){e.stopPropagation()}),i.addEventListener("mousedown",e=function(e){var t;!(t=n.getFirstColumn())||(t=0<(t=s.table.columnManager.findColumnIndex(t))&&s.table.columnManager.getColumnByIndex(t-1))&&s._checkResizability(t)&&(s.startColumn=n,s._mouseDown(e,t,i))}),i.addEventListener("touchstart",e,{passive:!0}),i.addEventListener("dblclick",function(e){var t;!(t=n.getFirstColumn())||(t=0<(t=s.table.columnManager.findColumnIndex(t))&&s.table.columnManager.getColumnByIndex(t-1))&&s._checkResizability(t)&&(e.stopPropagation(),t.reinitializeWidth(!0))}),t.appendChild(o),t.appendChild(i))},d.prototype._checkResizability=function(e){return void 0!==e.definition.resizable?e.definition.resizable:this.table.options.resizableColumns},d.prototype._mouseDown=function(e,t,n){function r(e){i.table.rtl?t.setWidth(i.startWidth-((void 0===e.screenX?e.touches[0]:e).screenX-i.startX)):t.setWidth(i.startWidth+((void 0===e.screenX?e.touches[0]:e).screenX-i.startX)),i.table.options.virtualDomHoz&&i.table.vdomHoz.reinitialize(!0),!i.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights()}function o(e){i.startColumn.modules.edit&&(i.startColumn.modules.edit.blocked=!1),i.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights(),document.body.removeEventListener("mouseup",o),document.body.removeEventListener("mousemove",r),n.removeEventListener("touchmove",r),n.removeEventListener("touchend",o),i.table.element.classList.remove("tabulator-block-select"),i.table.options.persistence&&i.table.modExists("persistence",!0)&&i.table.modules.persistence.config.columns&&i.table.modules.persistence.save("columns"),i.table.options.columnResized.call(i.table,t.getComponent())}var i=this;i.table.element.classList.add("tabulator-block-select"),e.stopPropagation(),i.startColumn.modules.edit&&(i.startColumn.modules.edit.blocked=!0),i.startX=(void 0===e.screenX?e.touches[0]:e).screenX,i.startWidth=t.getWidth(),document.body.addEventListener("mousemove",r),document.body.addEventListener("mouseup",o),n.addEventListener("touchmove",r,{passive:!0}),n.addEventListener("touchend",o)},L.prototype.registerModule("resizeColumns",d);d=function(e){this.table=e,this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null};d.prototype.initializeRow=function(n){var r=this,e=n.getElement(),t=document.createElement("div");t.className="tabulator-row-resize-handle";var o=document.createElement("div");o.className="tabulator-row-resize-handle prev",t.addEventListener("click",function(e){e.stopPropagation()});var i=function(e){r.startRow=n,r._mouseDown(e,n,t)};t.addEventListener("mousedown",i),t.addEventListener("touchstart",i,{passive:!0}),o.addEventListener("click",function(e){e.stopPropagation()});i=function(e){var t=r.table.rowManager.prevDisplayRow(n);t&&(r.startRow=t,r._mouseDown(e,t,o))};o.addEventListener("mousedown",i),o.addEventListener("touchstart",i,{passive:!0}),e.appendChild(t),e.appendChild(o)},d.prototype._mouseDown=function(e,t,n){function r(e){t.setHeight(i.startHeight+((void 0===e.screenY?e.touches[0]:e).screenY-i.startY))}function o(e){document.body.removeEventListener("mouseup",r),document.body.removeEventListener("mousemove",r),n.removeEventListener("touchmove",r),n.removeEventListener("touchend",o),i.table.element.classList.remove("tabulator-block-select"),i.table.options.rowResized.call(this.table,t.getComponent())}var i=this;i.table.element.classList.add("tabulator-block-select"),e.stopPropagation(),i.startY=(void 0===e.screenY?e.touches[0]:e).screenY,i.startHeight=t.getHeight(),document.body.addEventListener("mousemove",r),document.body.addEventListener("mouseup",o),n.addEventListener("touchmove",r,{passive:!0}),n.addEventListener("touchend",o)},L.prototype.registerModule("resizeRows",d);d=function(e){this.table=e,this.binding=!1,this.observer=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1};d.prototype.initialize=function(e){var t,n=this,r=this.table;this.tableHeight=r.element.clientHeight,this.tableWidth=r.element.clientWidth,r.element.parentNode&&(this.containerHeight=r.element.parentNode.clientHeight,this.containerWidth=r.element.parentNode.clientWidth),"undefined"!=typeof ResizeObserver&&"virtual"===r.rowManager.getRenderMode()?(this.autoResize=!0,this.observer=new ResizeObserver(function(e){var t;r.browserMobile&&(!r.browserMobile||r.modules.edit.currentCell)||(t=Math.floor(e[0].contentRect.height),e=Math.floor(e[0].contentRect.width),n.tableHeight==t&&n.tableWidth==e||(n.tableHeight=t,n.tableWidth=e,r.element.parentNode&&(n.containerHeight=r.element.parentNode.clientHeight,n.containerWidth=r.element.parentNode.clientWidth),r.options.virtualDomHoz&&r.vdomHoz.reinitialize(!0),r.redraw()))}),this.observer.observe(r.element),t=window.getComputedStyle(r.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(t.getPropertyValue("max-height")||t.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver(function(e){var t;r.browserMobile&&(!r.browserMobile||r.modules.edit.currentCell)||(t=Math.floor(e[0].contentRect.height),e=Math.floor(e[0].contentRect.width),n.containerHeight==t&&n.containerWidth==e||(n.containerHeight=t,n.containerWidth=e,n.tableHeight=r.element.clientHeight,n.tableWidth=r.element.clientWidth),r.options.virtualDomHoz&&r.vdomHoz.reinitialize(!0),r.redraw())}),this.containerObserver.observe(this.table.element.parentNode))):(this.binding=function(){r.browserMobile&&(!r.browserMobile||r.modules.edit.currentCell)||(r.options.virtualDomHoz&&r.vdomHoz.reinitialize(!0),r.redraw())},window.addEventListener("resize",this.binding))},d.prototype.clearBindings=function(e){this.binding&&window.removeEventListener("resize",this.binding),this.observer&&this.observer.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)},L.prototype.registerModule("resizeTable",d);d=function(e){this.table=e,this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1};d.prototype.initialize=function(){var n=this,r=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach(function(e,t){e.modules.responsive&&e.modules.responsive.order&&e.modules.responsive.visible&&(e.modules.responsive.index=t,r.push(e),e.visible||"collapse"!==n.mode||n.hiddenColumns.push(e))}),r=(r=r.reverse()).sort(function(e,t){return t.modules.responsive.order-e.modules.responsive.order||t.modules.responsive.index-e.modules.responsive.index}),this.columns=r,"collapse"===this.mode&&this.generateCollapsedContent();for(var e,t=this.table.columnManager.columnsByIndex,o=Array.isArray(t),i=0,t=o?t:t[Symbol.iterator]();;){if(o){if(i>=t.length)break;e=t[i++]}else{if((i=t.next()).done)break;e=i.value}var s=e;if("responsiveCollapse"==s.definition.formatter){this.collapseHandleColumn=s;break}}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())},d.prototype.initializeColumn=function(e){var t=e.getDefinition();e.modules.responsive={order:void 0===t.responsive?1:t.responsive,visible:!1!==t.visible}},d.prototype.initializeRow=function(e){var t;"calc"!==e.type&&((t=document.createElement("div")).classList.add("tabulator-responsive-collapse"),e.modules.responsiveLayout={element:t,open:this.collapseStartOpen},this.collapseStartOpen||(t.style.display="none"))},d.prototype.layoutRow=function(e){var t=e.getElement();e.modules.responsiveLayout&&(t.appendChild(e.modules.responsiveLayout.element),this.generateCollapsedRowContent(e))},d.prototype.updateColumnVisibility=function(e,t){e.modules.responsive&&(e.modules.responsive.visible=t,this.initialize())},d.prototype.hideColumn=function(e){var t=this.hiddenColumns.length;e.hide(!1,!0),"collapse"===this.mode&&(this.hiddenColumns.unshift(e),this.generateCollapsedContent(),this.collapseHandleColumn&&!t&&this.collapseHandleColumn.show())},d.prototype.showColumn=function(e){e.show(!1,!0),e.setWidth(e.getWidth()),"collapse"===this.mode&&(-1<(e=this.hiddenColumns.indexOf(e))&&this.hiddenColumns.splice(e,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())},d.prototype.update=function(){for(var e=this,t=!0;t;){var n,r="fitColumns"==e.table.modules.layout.getMode()?e.table.columnManager.getFlexBaseWidth():e.table.columnManager.getWidth(),r=(e.table.options.headerVisible?e.table.columnManager:e.table).element.clientWidth-r;r<0?(n=e.columns[e.index])?(e.hideColumn(n),e.index++):t=!1:(n=e.columns[e.index-1])&&0<r&&r>=n.getWidth()?(e.showColumn(n),e.index--):t=!1,e.table.rowManager.activeRowsCount||e.table.rowManager.renderEmptyScroll()}},d.prototype.generateCollapsedContent=function(){var t=this;this.table.rowManager.getDisplayRows().forEach(function(e){t.generateCollapsedRowContent(e)})},d.prototype.generateCollapsedRowContent=function(e){var t;if(e.modules.responsiveLayout){for(t=e.modules.responsiveLayout.element;t.firstChild;)t.removeChild(t.firstChild);(e=this.collapseFormatter(this.generateCollapsedRowData(e)))&&t.appendChild(e)}},d.prototype.generateCollapsedRowData=function(n){var r,o=this,i=n.getData(),s=[];return this.hiddenColumns.forEach(function(e){var t=e.getFieldValue(i);e.definition.title&&e.field&&(e.modules.format&&o.table.options.responsiveLayoutCollapseUseFormatters?(r={value:!1,data:{},getValue:function(){return t},getData:function(){return i},getElement:function(){return document.createElement("div")},getRow:function(){return n.getComponent()},getColumn:function(){return e.getComponent()}},s.push({field:e.field,title:e.definition.title,value:e.modules.format.formatter.call(o.table.modules.format,r,e.modules.format.params)})):s.push({field:e.field,title:e.definition.title,value:t}))}),s},d.prototype.formatCollapsedData=function(e){var s=document.createElement("table");return e.forEach(function(t){var e,n=document.createElement("tr"),r=document.createElement("td"),o=document.createElement("td"),i=document.createElement("strong");r.appendChild(i),this.table.modules.localize.bind("columns|"+t.field,function(e){i.innerText=e||t.title}),t.value instanceof Node?((e=document.createElement("div")).appendChild(t.value),o.appendChild(e)):o.innerHTML=t.value,n.appendChild(r),n.appendChild(o),s.appendChild(n)},this),Object.keys(e).length?s:""},L.prototype.registerModule("responsiveLayout",d);d=function(e){this.table=e,this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null};d.prototype.clearSelectionData=function(e){this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],e||this._rowSelectionChanged()},d.prototype.initializeRow=function(o){function t(){setTimeout(function(){i.selecting=!1},50),document.body.removeEventListener("mouseup",t)}var i=this,e=o.getElement();o.modules.select={selected:!1},i.table.options.selectableCheck.call(this.table,o.getComponent())?(e.classList.add("tabulator-selectable"),e.classList.remove("tabulator-unselectable"),i.table.options.selectable&&"highlight"!=i.table.options.selectable&&("click"===i.table.options.selectableRangeMode?e.addEventListener("click",function(e){var t,n,r;e.shiftKey?(i.table._clearSelection(),i.lastClickedRow=i.lastClickedRow||o,r=(t=i.table.rowManager.getDisplayRowIndex(i.lastClickedRow))<=(n=i.table.rowManager.getDisplayRowIndex(o))?t:n,n=n<=t?t:n,r=i.table.rowManager.getDisplayRows().slice(0).splice(r,n-r+1),e.ctrlKey||e.metaKey?(r.forEach(function(e){e!==i.lastClickedRow&&(!0===i.table.options.selectable||i.isRowSelected(o)||i.selectedRows.length<i.table.options.selectable)&&i.toggleRow(e)}),i.lastClickedRow=o):(i.deselectRows(void 0,!0),!0!==i.table.options.selectable&&r.length>i.table.options.selectable&&(r=r.slice(0,i.table.options.selectable)),i.selectRows(r)),i.table._clearSelection()):(e.ctrlKey||e.metaKey?i.toggleRow(o):(i.deselectRows(void 0,!0),i.selectRows(o)),i.lastClickedRow=o)}):(e.addEventListener("click",function(e){i.table.modExists("edit")&&i.table.modules.edit.getCurrentCell()||i.table._clearSelection(),i.selecting||i.toggleRow(o)}),e.addEventListener("mousedown",function(e){if(e.shiftKey)return i.table._clearSelection(),i.selecting=!0,i.selectPrev=[],document.body.addEventListener("mouseup",t),document.body.addEventListener("keyup",t),i.toggleRow(o),!1}),e.addEventListener("mouseenter",function(e){i.selecting&&(i.table._clearSelection(),i.toggleRow(o),i.selectPrev[1]==o&&i.toggleRow(i.selectPrev[0]))}),e.addEventListener("mouseout",function(e){i.selecting&&(i.table._clearSelection(),i.selectPrev.unshift(o))})))):(e.classList.add("tabulator-unselectable"),e.classList.remove("tabulator-selectable"))},d.prototype.toggleRow=function(e){this.table.options.selectableCheck.call(this.table,e.getComponent())&&(e.modules.select&&e.modules.select.selected?this._deselectRow(e):this._selectRow(e))},d.prototype.selectRows=function(e){var t,n=this;switch(void 0===e?"undefined":_typeof(e)){case"undefined":this.table.rowManager.rows.forEach(function(e){n._selectRow(e,!0,!0)}),this._rowSelectionChanged();break;case"string":(t=this.table.rowManager.findRow(e))?this._selectRow(t,!0,!0):this.table.rowManager.getRows(e).forEach(function(e){n._selectRow(e,!0,!0)}),this._rowSelectionChanged();break;default:Array.isArray(e)?(e.forEach(function(e){n._selectRow(e,!0,!0)}),this._rowSelectionChanged()):this._selectRow(e,!1,!0)}},d.prototype._selectRow=function(e,t,n){if(!isNaN(this.table.options.selectable)&&!0!==this.table.options.selectable&&!n&&this.selectedRows.length>=this.table.options.selectable){if(!this.table.options.selectableRollingSelection)return!1;this._deselectRow(this.selectedRows[0])}n=this.table.rowManager.findRow(e);n?-1==this.selectedRows.indexOf(n)&&(n.getElement().classList.add("tabulator-selected"),n.modules.select||(n.modules.select={}),n.modules.select.selected=!0,n.modules.select.checkboxEl&&(n.modules.select.checkboxEl.checked=!0),this.selectedRows.push(n),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(n,!0),t||this.table.options.rowSelected.call(this.table,n.getComponent()),this._rowSelectionChanged(t)):t||console.warn("Selection Error - No such row found, ignoring selection:"+e)},d.prototype.isRowSelected=function(e){return-1!==this.selectedRows.indexOf(e)},d.prototype.deselectRows=function(e,t){var n=this;if(void 0===e){for(var r=n.selectedRows.length,o=0;o<r;o++)n._deselectRow(n.selectedRows[0],!0);n._rowSelectionChanged(t)}else Array.isArray(e)?(e.forEach(function(e){n._deselectRow(e,!0)}),n._rowSelectionChanged(t)):n._deselectRow(e,t)},d.prototype._deselectRow=function(e,t){var n,r=this.table.rowManager.findRow(e);r?-1<(n=this.selectedRows.findIndex(function(e){return e==r}))&&(r.getElement().classList.remove("tabulator-selected"),r.modules.select||(r.modules.select={}),r.modules.select.selected=!1,r.modules.select.checkboxEl&&(r.modules.select.checkboxEl.checked=!1),this.selectedRows.splice(n,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(r,!1),t||this.table.options.rowDeselected.call(this.table,r.getComponent()),this._rowSelectionChanged(t)):t||console.warn("Deselection Error - No such row found, ignoring selection:"+e)},d.prototype.getSelectedData=function(){var t=[];return this.selectedRows.forEach(function(e){t.push(e.getData())}),t},d.prototype.getSelectedRows=function(){var t=[];return this.selectedRows.forEach(function(e){t.push(e.getComponent())}),t},d.prototype._rowSelectionChanged=function(e){this.headerCheckboxElement&&(0===this.selectedRows.length?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),e||this.table.options.rowSelectionChanged.call(this.table,this.getSelectedData(),this.getSelectedRows())},d.prototype.registerRowSelectCheckbox=function(e,t){e._row.modules.select||(e._row.modules.select={}),e._row.modules.select.checkboxEl=t},d.prototype.registerHeaderSelectCheckbox=function(e){this.headerCheckboxElement=e},d.prototype.childRowSelection=function(e,t){var n,r,e=this.table.modules.dataTree.getChildren(e,!0);if(t)for(var o=e,i=Array.isArray(o),s=0,o=i?o:o[Symbol.iterator]();;){if(i){if(s>=o.length)break;n=o[s++]}else{if((s=o.next()).done)break;n=s.value}var a=n;this._selectRow(a,!0)}else for(var l=e,u=Array.isArray(l),c=0,l=u?l:l[Symbol.iterator]();;){if(u){if(c>=l.length)break;r=l[c++]}else{if((c=l.next()).done)break;r=c.value}var d=r;this._deselectRow(d,!0)}},L.prototype.registerModule("selectRow",d);d=function(e){this.table=e,this.sortList=[],this.changed=!1};d.prototype.initializeColumn=function(o,e){var t,n,i=this,r=!1;switch(_typeof(o.definition.sorter)){case"string":i.sorters[o.definition.sorter]?r=i.sorters[o.definition.sorter]:console.warn("Sort Error - No such sorter found: ",o.definition.sorter);break;case"function":r=o.definition.sorter}o.modules.sort={sorter:r,dir:"none",params:o.definition.sorterParams||{},startingDir:o.definition.headerSortStartingDir||"asc",tristate:(void 0!==o.definition.headerSortTristate?o.definition:this.table.options).headerSortTristate},(void 0===o.definition.headerSort?!1!==this.table.options.headerSort:!1!==o.definition.headerSort)&&((t=o.getElement()).classList.add("tabulator-sortable"),(n=document.createElement("div")).classList.add("tabulator-col-sorter"),"object"==_typeof(this.table.options.headerSortElement)?n.appendChild(this.table.options.headerSortElement):n.innerHTML=this.table.options.headerSortElement,e.appendChild(n),o.modules.sort.element=n,t.addEventListener("click",function(e){var t="",n=[],r=!1;if(o.modules.sort){if(o.modules.sort.tristate)t="none"==o.modules.sort.dir?o.modules.sort.startingDir:o.modules.sort.dir==o.modules.sort.startingDir?"asc"==o.modules.sort.dir?"desc":"asc":"none";else switch(o.modules.sort.dir){case"asc":t="desc";break;case"desc":t="asc";break;default:t=o.modules.sort.startingDir}i.table.options.columnHeaderSortMulti&&(e.shiftKey||e.ctrlKey)?(-1<(r=(n=i.getSort()).findIndex(function(e){return e.field===o.getField()}))?(n[r].dir=t,r!=n.length-1&&(r=n.splice(r,1)[0],"none"!=t&&n.push(r))):"none"!=t&&n.push({column:o,dir:t}),i.setSort(n)):"none"==t?i.clear():i.setSort(o,t),i.table.rowManager.sorterRefresh(!i.sortList.length)}}))},d.prototype.hasChanged=function(){var e=this.changed;return this.changed=!1,e},d.prototype.getSort=function(){var t=[];return this.sortList.forEach(function(e){e.column&&t.push({column:e.column.getComponent(),field:e.column.getField(),dir:e.dir})}),t},d.prototype.setSort=function(e,t){var n=this,r=[];(e=!Array.isArray(e)?[{column:e,dir:t}]:e).forEach(function(e){var t=n.table.columnManager.findColumn(e.column);t?(e.column=t,r.push(e),n.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",e.column)}),n.sortList=r,this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.sort&&this.table.modules.persistence.save("sort")},d.prototype.clear=function(){this.setSort([])},d.prototype.findSorter=function(e){var t,n=this.table.rowManager.activeRows[0],r="string";if(n&&(n=n.getData(),e.getField()))switch(t=e.getFieldValue(n),void 0===t?"undefined":_typeof(t)){case"undefined":r="string";break;case"boolean":r="boolean";break;default:isNaN(t)||""===t?t.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(r="alphanum"):r="number"}return this.sorters[r]},d.prototype.sort=function(e){var r=this,t=this.table.options.sortOrderReverse?r.sortList.slice().reverse():r.sortList,o=[],n=[];r.table.options.dataSorting&&r.table.options.dataSorting.call(r.table,r.getSort()),r.clearColumnHeaders(),r.table.options.ajaxSorting?t.forEach(function(e,t){r.setColumnHeader(e.column,e.dir)}):(t.forEach(function(e,t){var n=e.column.modules.sort;e.column&&n&&(n.sorter||(n.sorter=r.findSorter(e.column)),e.params="function"==typeof n.params?n.params(e.column.getComponent(),e.dir):n.params,o.push(e)),r.setColumnHeader(e.column,e.dir)}),o.length&&r._sortItems(e,o)),r.table.options.dataSorted&&(e.forEach(function(e){n.push(e.getComponent())}),r.table.options.dataSorted.call(r.table,r.getSort(),n))},d.prototype.clearColumnHeaders=function(){this.table.columnManager.getRealColumns().forEach(function(e){e.modules.sort&&(e.modules.sort.dir="none",e.getElement().setAttribute("aria-sort","none"))})},d.prototype.setColumnHeader=function(e,t){e.modules.sort.dir=t,e.getElement().setAttribute("aria-sort",t)},d.prototype._sortItems=function(e,i){var s=this,a=i.length-1;e.sort(function(e,t){for(var n,r=a;0<=r;r--){var o=i[r];if(0!==(n=s._sortRow(e,t,o.column,o.dir,o.params)))break}return n})},d.prototype._sortRow=function(e,t,n,r,o){var i="asc"==r?e:t,s="asc"==r?t:e;return e=void 0!==(e=n.getFieldValue(i.getData()))?e:"",t=void 0!==(t=n.getFieldValue(s.getData()))?t:"",i=i.getComponent(),s=s.getComponent(),n.modules.sort.sorter.call(this,e,t,i,s,n.getComponent(),r,o)},d.prototype.sorters={number:function(e,t,n,r,o,i,s){var a=s.alignEmptyValues,l=s.decimalSeparator,u=s.thousandSeparator,s=0;if(e=String(e),t=String(t),u&&(e=e.split(u).join(""),t=t.split(u).join("")),l&&(e=e.split(l).join("."),t=t.split(l).join(".")),e=parseFloat(e),t=parseFloat(t),isNaN(e))s=isNaN(t)?0:-1;else{if(!isNaN(t))return e-t;s=1}return("top"===a&&"desc"===i||"bottom"===a&&"asc"===i)&&(s*=-1),s},string:function(e,t,n,r,o,i,s){var a,l=s.alignEmptyValues,u=0;if(e){if(t){switch(_typeof(s.locale)){case"boolean":s.locale&&(a=this.table.modules.localize.getLocale());break;case"string":a=s.locale}return String(e).toLowerCase().localeCompare(String(t).toLowerCase(),a)}u=1}else u=t?-1:0;return("top"===l&&"desc"===i||"bottom"===l&&"asc"===i)&&(u*=-1),u},date:function(e,t,n,r,o,i,s){return s.format||(s.format="DD/MM/YYYY"),this.sorters.datetime.call(this,e,t,n,r,o,i,s)},time:function(e,t,n,r,o,i,s){return s.format||(s.format="HH:mm"),this.sorters.datetime.call(this,e,t,n,r,o,i,s)},datetime:function(e,t,n,r,o,i,s){var a=s.format||"DD/MM/YYYY HH:mm:ss",l=s.alignEmptyValues,s=0;if("undefined"!=typeof moment){if(e=moment(e,a),t=moment(t,a),e.isValid()){if(t.isValid())return e-t;s=1}else s=t.isValid()?-1:0;return("top"===l&&"desc"===i||"bottom"===l&&"asc"===i)&&(s*=-1),s}console.error("Sort Error - 'datetime' sorter is dependant on moment.js")},boolean:function(e,t,n,r,o,i,s){return(!0===e||"true"===e||"True"===e||1===e?1:0)-(!0===t||"true"===t||"True"===t||1===t?1:0)},array:function(e,t,n,r,o,i,s){function a(e){switch(l){case"length":return e.length;case"sum":return e.reduce(function(e,t){return e+t});case"max":return Math.max.apply(null,e);case"min":return Math.min.apply(null,e);case"avg":return e.reduce(function(e,t){return e+t})/e.length}}var l=s.type||"length",u=s.alignEmptyValues,s=0;if(Array.isArray(e)){if(Array.isArray(t))return(e?a(e):0)-(t?a(t):0);u=1}else u=Array.isArray(t)?-1:0;return("top"===u&&"desc"===i||"bottom"===u&&"asc"===i)&&(s*=-1),s},exists:function(e,t,n,r,o,i,s){return(void 0===e?0:1)-(void 0===t?0:1)},alphanum:function(e,t,n,r,o,i,s){var a,l,u,c,d,p=0,h=/(\d+)|(\D+)/g,f=/\d/,m=s.alignEmptyValues,s=0;if(e||0===e){if(t||0===t){if(isFinite(e)&&isFinite(t))return e-t;if((a=String(e).toLowerCase())===(l=String(t).toLowerCase()))return 0;if(!f.test(a)||!f.test(l))return l<a?1:-1;for(a=a.match(h),l=l.match(h),d=(a.length>l.length?l:a).length;p<d;)if((u=a[p])!==(c=l[p++]))return isFinite(u)&&isFinite(c)?(u="0"===u.charAt(0)?"."+u:u)-(c="0"===c.charAt(0)?"."+c:c):c<u?1:-1;return a.length>l.length}s=1}else s=t||0===t?-1:0;return("top"===m&&"desc"===i||"bottom"===m&&"asc"===i)&&(s*=-1),s}},L.prototype.registerModule("sort",d);d=function(e){this.table=e,this.invalidCells=[]};return d.prototype.initializeColumn=function(e){var t,n=this,r=[];e.definition.validator&&(Array.isArray(e.definition.validator)?e.definition.validator.forEach(function(e){(t=n._extractValidator(e))&&r.push(t)}):(t=this._extractValidator(e.definition.validator))&&r.push(t),e.modules.validate=!!r.length&&r)},d.prototype._extractValidator=function(e){var t,n,r;switch(void 0===e?"undefined":_typeof(e)){case"string":return-1<(r=e.indexOf(":"))?(t=e.substring(0,r),n=e.substring(r+1)):t=e,this._buildValidator(t,n);case"function":return this._buildValidator(e);case"object":return this._buildValidator(e.type,e.parameters)}},d.prototype._buildValidator=function(e,t){var n="function"==typeof e?e:this.validators[e];return n?{type:"function"==typeof e?"function":e,func:n,params:t}:(console.warn("Validator Setup Error - No matching validator found:",e),!1)},d.prototype.validate=function(e,t,n){var r=this,o=[],i=this.invalidCells.indexOf(t);return e&&e.forEach(function(e){e.func.call(r,t.getComponent(),n,e.params)||o.push({type:e.type,parameters:e.params})}),o=!o.length||o,t.modules.validate||(t.modules.validate={}),!0===o?(t.modules.validate.invalid=!1,t.getElement().classList.remove("tabulator-validation-fail"),-1<i&&this.invalidCells.splice(i,1)):(t.modules.validate.invalid=!0,"manual"!==this.table.options.validationMode&&t.getElement().classList.add("tabulator-validation-fail"),-1==i&&this.invalidCells.push(t)),o},d.prototype.getInvalidCells=function(){var t=[];return this.invalidCells.forEach(function(e){t.push(e.getComponent())}),t},d.prototype.clearValidation=function(e){e.modules.validate&&e.modules.validate.invalid&&(e.getElement().classList.remove("tabulator-validation-fail"),e.modules.validate.invalid=!1,-1<(e=this.invalidCells.indexOf(e))&&this.invalidCells.splice(e,1))},d.prototype.validators={integer:function(e,t,n){return""===t||null==t||"number"==typeof(t=Number(t))&&isFinite(t)&&Math.floor(t)===t},float:function(e,t,n){return""===t||null==t||"number"==typeof(t=Number(t))&&isFinite(t)&&t%1!=0},numeric:function(e,t,n){return""===t||null==t||!isNaN(t)},string:function(e,t,n){return""===t||null==t||isNaN(t)},max:function(e,t,n){return""===t||null==t||parseFloat(t)<=n},min:function(e,t,n){return""===t||null==t||parseFloat(t)>=n},starts:function(e,t,n){return""===t||null==t||String(t).toLowerCase().startsWith(String(n).toLowerCase())},ends:function(e,t,n){return""===t||null==t||String(t).toLowerCase().endsWith(String(n).toLowerCase())},minLength:function(e,t,n){return""===t||null==t||String(t).length>=n},maxLength:function(e,t,n){return""===t||null==t||String(t).length<=n},in:function(e,t,n){return""===t||null==t||("string"==typeof n&&(n=n.split("|")),""===t||-1<n.indexOf(t))},regex:function(e,t,n){return""===t||null==t||new RegExp(n).test(t)},unique:function(e,t,n){if(""===t||null==t)return!0;var r=!0,o=e.getData(),i=e.getColumn()._getSelf();return this.table.rowManager.rows.forEach(function(e){e=e.getData();e!==o&&t==i.getFieldValue(e)&&(r=!1)}),r},required:function(e,t,n){return""!==t&&null!=t}},L.prototype.registerModule("validate",d),L}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Parse=e()}(function(){return function r(o,i,s){function a(t,e){if(!i[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=i[t]={exports:{}},o[t][0].call(n.exports,function(e){return a(o[t][1][e]||e)},n,n.exports,r,o,i,s)}return i[t].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.track=function(e,t){if(0===(e=(e=(e=e||"").replace(/^\s*/,"")).replace(/\s*$/,"")).length)throw new TypeError("A name for the custom event must be provided");for(var n in t)if("string"!=typeof n||"string"!=typeof t[n])throw new TypeError('track() dimensions expects keys and values of type "string".');return o.default.getAnalyticsController().track(e,t)};var o=r(e("./CoreManager"));e={track:function(e,t){return o.default.getRESTController().request("POST","events/"+e,{dimensions:t})}},o.default.setAnalyticsController(e)},{"./CoreManager":4,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/helpers/interopRequireDefault":128}],2:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("./ParseUser")),i=e("./uuid"),s=!1;n.default={isLinked:function(e){var t=this._getAuthProvider();return e._isLinked(t.getAuthType())},logIn:function(e){var t=this._getAuthProvider();return o.default.logInWith(t.getAuthType(),t.getAuthData(),e)},link:function(e,t){var n=this._getAuthProvider();return e.linkWith(n.getAuthType(),n.getAuthData(),t)},isRegistered:function(){return s},_getAuthProvider:function(){var e={restoreAuthentication:function(){return!0},getAuthType:function(){return"anonymous"},getAuthData:function(){return{authData:{id:i()}}}};return s||(o.default._registerAuthenticationProvider(e),s=!0),e}}},{"./ParseUser":35,"./uuid":54,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/helpers/interopRequireDefault":128}],3:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.run=function(e,t,n){if(n=n||{},"string"!=typeof e||0===e.length)throw new TypeError("Cloud function name must be a string.");var r={};return n.useMasterKey&&(r.useMasterKey=n.useMasterKey),n.sessionToken&&(r.sessionToken=n.sessionToken),n.context&&"object"===(0,s.default)(n.context)&&(r.context=n.context),a.default.getCloudController().run(e,t,r)},n.getJobsData=function(){return a.default.getCloudController().getJobsData({useMasterKey:!0})},n.startJob=function(e,t){if("string"==typeof e&&0!==e.length)return a.default.getCloudController().startJob(e,t,{useMasterKey:!0});throw new TypeError("Cloud job name must be a string.")},n.getJobStatus=function(e){return new d.default("_JobStatus").get(e,{useMasterKey:!0})};var o=r(e("@babel/runtime-corejs3/core-js-stable/promise")),i=r(e("@babel/runtime-corejs3/core-js-stable/object/keys")),s=r(e("@babel/runtime-corejs3/helpers/typeof")),a=r(e("./CoreManager")),l=r(e("./decode")),u=r(e("./encode")),c=r(e("./ParseError")),d=r(e("./ParseQuery"));r(e("./ParseObject")),e={run:function(e,t,n){var r=a.default.getRESTController(),t=(0,u.default)(t,!0);return r.request("POST","functions/"+e,t,n).then(function(e){if("object"===(0,s.default)(e)&&0<(0,i.default)(e).length&&!e.hasOwnProperty("result"))throw new c.default(c.default.INVALID_JSON,"The server returned an invalid response.");return(e=(0,l.default)(e))&&e.hasOwnProperty("result")?o.default.resolve(e.result):o.default.resolve(void 0)})},getJobsData:function(e){return a.default.getRESTController().request("GET","cloud_code/jobs/data",null,e)},startJob:function(e,t,n){var r=a.default.getRESTController(),t=(0,u.default)(t,!0);return r.request("POST","jobs/"+e,t,n)}},a.default.setCloudController(e)},{"./CoreManager":4,"./ParseError":22,"./ParseObject":27,"./ParseQuery":30,"./decode":45,"./encode":46,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/object/keys":88,"@babel/runtime-corejs3/core-js-stable/promise":90,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/typeof":141}],4:[function(s,a,e){!function(i){!function(){"use strict";var e=s("@babel/runtime-corejs3/helpers/interopRequireDefault"),o=e(s("@babel/runtime-corejs3/core-js-stable/instance/concat")),t=e(s("@babel/runtime-corejs3/core-js-stable/instance/for-each")),n={IS_NODE:void 0!==i&&!!i.versions&&!!i.versions.node&&!i.versions.electron,REQUEST_ATTEMPT_LIMIT:5,REQUEST_BATCH_SIZE:20,REQUEST_HEADERS:{},SERVER_URL:"https://api.parse.com/1",SERVER_AUTH_TYPE:null,SERVER_AUTH_TOKEN:null,LIVEQUERY_SERVER_URL:null,ENCRYPTED_KEY:null,VERSION:"js3.3.1",APPLICATION_ID:null,JAVASCRIPT_KEY:null,MASTER_KEY:null,USE_MASTER_KEY:!1,PERFORM_USER_REWRITE:!0,FORCE_REVOCABLE_SESSION:!1,ENCRYPTED_USER:!1,IDEMPOTENCY:!1,ALLOW_CUSTOM_OBJECT_ID:!1};function r(n,e,r){(0,t.default)(e).call(e,function(e){var t;if("function"!=typeof r[e])throw new Error((0,o.default)(t="".concat(n," must implement ")).call(t,e,"()"))})}a.exports={get:function(e){if(n.hasOwnProperty(e))return n[e];throw new Error("Configuration key not found: "+e)},set:function(e,t){n[e]=t},setAnalyticsController:function(e){r("AnalyticsController",["track"],e),n.AnalyticsController=e},getAnalyticsController:function(){return n.AnalyticsController},setCloudController:function(e){r("CloudController",["run","getJobsData","startJob"],e),n.CloudController=e},getCloudController:function(){return n.CloudController},setConfigController:function(e){r("ConfigController",["current","get","save"],e),n.ConfigController=e},getConfigController:function(){return n.ConfigController},setCryptoController:function(e){r("CryptoController",["encrypt","decrypt"],e),n.CryptoController=e},getCryptoController:function(){return n.CryptoController},setFileController:function(e){r("FileController",["saveFile","saveBase64"],e),n.FileController=e},getFileController:function(){return n.FileController},setInstallationController:function(e){r("InstallationController",["currentInstallationId"],e),n.InstallationController=e},getInstallationController:function(){return n.InstallationController},setObjectController:function(e){r("ObjectController",["save","fetch","destroy"],e),n.ObjectController=e},getObjectController:function(){return n.ObjectController},setObjectStateController:function(e){r("ObjectStateController",["getState","initializeState","removeState","getServerData","setServerData","getPendingOps","setPendingOp","pushPendingState","popPendingState","mergeFirstPendingState","getObjectCache","estimateAttribute","estimateAttributes","commitServerChanges","enqueueTask","clearAllState"],e),n.ObjectStateController=e},getObjectStateController:function(){return n.ObjectStateController},setPushController:function(e){r("PushController",["send"],e),n.PushController=e},getPushController:function(){return n.PushController},setQueryController:function(e){r("QueryController",["find","aggregate"],e),n.QueryController=e},getQueryController:function(){return n.QueryController},setRESTController:function(e){r("RESTController",["request","ajax"],e),n.RESTController=e},getRESTController:function(){return n.RESTController},setSchemaController:function(e){r("SchemaController",["get","create","update","delete","send","purge"],e),n.SchemaController=e},getSchemaController:function(){return n.SchemaController},setSessionController:function(e){r("SessionController",["getSession"],e),n.SessionController=e},getSessionController:function(){return n.SessionController},setStorageController:function(e){e.async?r("An async StorageController",["getItemAsync","setItemAsync","removeItemAsync","getAllKeysAsync"],e):r("A synchronous StorageController",["getItem","setItem","removeItem","getAllKeys"],e),n.StorageController=e},setLocalDatastoreController:function(e){r("LocalDatastoreController",["pinWithName","fromPinWithName","unPinWithName","getAllContents","clear"],e),n.LocalDatastoreController=e},getLocalDatastoreController:function(){return n.LocalDatastoreController},setLocalDatastore:function(e){n.LocalDatastore=e},getLocalDatastore:function(){return n.LocalDatastore},getStorageController:function(){return n.StorageController},setAsyncStorage:function(e){n.AsyncStorage=e},getAsyncStorage:function(){return n.AsyncStorage},setWebSocketController:function(e){n.WebSocketController=e},getWebSocketController:function(){return n.WebSocketController},setUserController:function(e){r("UserController",["setCurrentUser","currentUser","currentUserAsync","signUp","logIn","become","logOut","me","requestPasswordReset","upgradeToRevocableSession","requestEmailVerification","verifyPassword","linkWith"],e),n.UserController=e},getUserController:function(){return n.UserController},setLiveQueryController:function(e){r("LiveQueryController",["setDefaultLiveQueryClient","getDefaultLiveQueryClient","_clearCachedDefaultClient"],e),n.LiveQueryController=e},getLiveQueryController:function(){return n.LiveQueryController},setHooksController:function(e){r("HooksController",["create","get","update","remove"],e),n.HooksController=e},getHooksController:function(){return n.HooksController}}}.call(this)}.call(this,s("_process"))},{"@babel/runtime-corejs3/core-js-stable/instance/concat":58,"@babel/runtime-corejs3/core-js-stable/instance/for-each":64,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,_process:499}],5:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault")(e("@babel/runtime-corejs3/core-js-stable/json/stringify")),o=e("crypto-js/aes"),i=e("crypto-js/enc-utf8");t.exports={encrypt:function(e,t){return o.encrypt((0,r.default)(e),t).toString()},decrypt:function(e,t){return o.decrypt(e,t).toString(i)}}},{"@babel/runtime-corejs3/core-js-stable/json/stringify":75,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"crypto-js/aes":500,"crypto-js/enc-utf8":504}],6:[function(e,t,n){"use strict";t.exports=e("events").EventEmitter},{events:509}],7:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault"),i=r(e("@babel/runtime-corejs3/core-js-stable/instance/find")),o=r(e("@babel/runtime-corejs3/core-js-stable/set-interval")),l=r(e("@babel/runtime-corejs3/helpers/toConsumableArray")),s=r(e("@babel/runtime-corejs3/core-js-stable/instance/find-index")),a=r(e("@babel/runtime-corejs3/core-js-stable/instance/splice")),u=r(e("@babel/runtime-corejs3/core-js-stable/json/stringify")),c=r(e("@babel/runtime-corejs3/regenerator")),d=r(e("@babel/runtime-corejs3/helpers/asyncToGenerator")),p=r(e("./CoreManager")),h=r(e("./ParseObject")),f=r(e("./ParseQuery")),m=r(e("./Storage")),b="Parse/Eventually/Queue",g=[],v=!0,y=void 0,w={save:function(e){return this.enqueue("save",e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})},destroy:function(e){return this.enqueue("destroy",e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})},generateQueueId:function(e,t){t._getId();var n=t.className,r=t.id,o=t._localId;return[e,n,r,t.get("hash")||o].join("_")},enqueue:function(i,s,a){var l=this;return(0,d.default)(c.default.mark(function e(){var t,n,r,o;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getQueue();case 2:if(t=e.sent,n=l.generateQueueId(i,s),-1<(r=l.queueItemExists(t,n)))for(o in t[r].object)void 0===s.get(o)&&s.set(o,t[r].object[o]);else r=t.length;return t[r]={queueId:n,action:i,object:s.toJSON(),serverOptions:a,id:s.id,className:s.className,hash:s.get("hash"),createdAt:new Date},e.abrupt("return",l.setQueue(t));case 8:case"end":return e.stop()}},e)}))()},store:function(e){return m.default.setItemAsync(b,(0,u.default)(e))},load:function(){return m.default.getItemAsync(b)},getQueue:function(){var t=this;return(0,d.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v)return e.t0=JSON,e.next=4,t.load();e.next=10;break;case 4:if(e.t1=e.sent,e.t1){e.next=7;break}e.t1="[]";case 7:e.t2=e.t1,g=e.t0.parse.call(e.t0,e.t2),v=!1;case 10:return e.abrupt("return",g);case 11:case"end":return e.stop()}},e)}))()},setQueue:function(e){return g=e,this.store(g)},remove:function(r){var o=this;return(0,d.default)(c.default.mark(function e(){var t,n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getQueue();case 2:if(t=e.sent,-1<(n=o.queueItemExists(t,r)))return(0,a.default)(t).call(t,n,1),e.next=8,o.setQueue(t);e.next=8;break;case 8:case"end":return e.stop()}},e)}))()},clear:function(){return g=[],this.store([])},queueItemExists:function(e,t){return(0,s.default)(e).call(e,function(e){return e.queueId===t})},length:function(){var n=this;return(0,d.default)(c.default.mark(function e(){var t;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getQueue();case 2:return t=e.sent,e.abrupt("return",t.length);case 4:case"end":return e.stop()}},e)}))()},sendQueue:function(){var a=this;return(0,d.default)(c.default.mark(function e(){var t,n,r,o,i,s;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getQueue();case 2:if(o=e.sent,0===(t=(0,l.default)(o)).length)return e.abrupt("return",!1);e.next=6;break;case 6:n=0;case 7:if(!(n<t.length)){e.next=26;break}if(r=t[n],o=r.id,i=r.hash,s=r.className,s=h.default.extend(s),o)return e.next=14,a.process.byId(s,r);e.next=16;break;case 14:e.next=23;break;case 16:if(i)return e.next=19,a.process.byHash(s,r);e.next=21;break;case 19:e.next=23;break;case 21:return e.next=23,a.process.create(s,r);case 23:n+=1,e.next=7;break;case 26:return e.abrupt("return",!0);case 27:case"end":return e.stop()}},e)}))()},sendQueueCallback:function(t,n){var r=this;return(0,d.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",r.remove(n.queueId));case 2:e.t0=n.action,e.next="save"===e.t0?5:"destroy"===e.t0?20:33;break;case 5:if(void 0!==t.updatedAt&&t.updatedAt>new Date(n.object.createdAt))return e.abrupt("return",r.remove(n.queueId));e.next=7;break;case 7:return e.prev=7,e.next=10,t.save(n.object,n.serverOptions);case 10:return e.next=12,r.remove(n.queueId);case 12:e.next=19;break;case 14:if(e.prev=14,e.t1=e.catch(7),'XMLHttpRequest failed: "Unable to connect to the Parse API"'!==e.t1.message)return e.next=19,r.remove(n.queueId);e.next=19;break;case 19:return e.abrupt("break",33);case 20:return e.prev=20,e.next=23,t.destroy(n.serverOptions);case 23:return e.next=25,r.remove(n.queueId);case 25:e.next=32;break;case 27:if(e.prev=27,e.t2=e.catch(20),'XMLHttpRequest failed: "Unable to connect to the Parse API"'!==e.t2.message)return e.next=32,r.remove(n.queueId);e.next=32;break;case 32:return e.abrupt("break",33);case 33:case"end":return e.stop()}},e,null,[[7,14],[20,27]])}))()},poll:function(){var t=this;y=y||(0,o.default)(function(){p.default.getRESTController().request("GET","health").then(function(e){if("ok"===e.status)return t.stopPoll(),t.sendQueue()}).catch(function(e){return e})},0<arguments.length&&void 0!==arguments[0]?arguments[0]:2e3)},stopPoll:function(){clearInterval(y),y=void 0},isPolling:function(){return!!y},_setPolling:function(e){y=e},process:{create:function(e,t){return e=new e,w.sendQueueCallback(e,t)},byId:function(r,o){return(0,d.default)(c.default.mark(function e(){var t,n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.serverOptions.sessionToken,(t=new f.default(r)).equalTo("objectId",o.id),e.next=5,(0,i.default)(t).call(t,{sessionToken:n});case 5:return n=e.sent,e.abrupt("return",w.sendQueueCallback(n[0],o));case 7:case"end":return e.stop()}},e)}))()},byHash:function(r,o){return(0,d.default)(c.default.mark(function e(){var t,n;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.serverOptions.sessionToken,(t=new f.default(r)).equalTo("hash",o.hash),e.next=5,(0,i.default)(t).call(t,{sessionToken:n});case 5:if(0<(n=e.sent).length)return e.abrupt("return",w.sendQueueCallback(n[0],o));e.next=8;break;case 8:return e.abrupt("return",w.process.create(r,o));case 9:case"end":return e.stop()}},e)}))()}}};t.exports=w},{"./CoreManager":4,"./ParseObject":27,"./ParseQuery":30,"./Storage":39,"@babel/runtime-corejs3/core-js-stable/instance/find":63,"@babel/runtime-corejs3/core-js-stable/instance/find-index":62,"@babel/runtime-corejs3/core-js-stable/instance/splice":72,"@babel/runtime-corejs3/core-js-stable/json/stringify":75,"@babel/runtime-corejs3/core-js-stable/set-interval":92,"@babel/runtime-corejs3/helpers/asyncToGenerator":120,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/toConsumableArray":140,"@babel/runtime-corejs3/regenerator":498}],8:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=void 0;var o,i,s=r(e("./ParseUser")),a=!1,l={authenticate:function(t){var n=this;"undefined"==typeof FB&&t.error(this,"Facebook SDK not found."),FB.login(function(e){e.authResponse?t.success&&t.success(n,{id:e.authResponse.userID,access_token:e.authResponse.accessToken,expiration_date:new Date(1e3*e.authResponse.expiresIn+(new Date).getTime()).toJSON()}):t.error&&t.error(n,e)},{scope:o})},restoreAuthentication:function(e){if(e){var t={};if(i)for(var n in i)t[n]=i[n];t.status=!1;var r=FB.getAuthResponse();r&&r.userID!==e.id&&FB.logout(),FB.init(t)}return!0},getAuthType:function(){return"facebook"},deauthenticate:function(){this.restoreAuthentication(null)}};n.default={init:function(e){if("undefined"==typeof FB)throw new Error("The Facebook JavaScript SDK must be loaded before calling init.");if(i={},e)for(var t in e)i[t]=e[t];i.status&&"undefined"!=typeof console&&(console.warn||console.log||function(){}).call(console,'The "status" flag passed into FB.init, when set to true, can interfere with Parse Facebook integration, so it has been suppressed. Please call FB.getLoginStatus() explicitly if you require this behavior.'),i.status=!1,FB.init(i),s.default._registerAuthenticationProvider(l),a=!0},isLinked:function(e){return e._isLinked("facebook")},logIn:function(e,t){if(e&&"string"!=typeof e)return s.default.logInWith("facebook",{authData:e},t);if(!a)throw new Error("You must initialize FacebookUtils before calling logIn.");return o=e,s.default.logInWith("facebook",t)},link:function(e,t,n){if(t&&"string"!=typeof t)return e.linkWith("facebook",{authData:t},n);if(!a)throw new Error("You must initialize FacebookUtils before calling link.");return o=t,e.linkWith("facebook",n)},unlink:function(e,t){if(!a)throw new Error("You must initialize FacebookUtils before calling unlink.");return e._unlinkFrom("facebook",t)},_getAuthProvider:function(){return l}}},{"./ParseUser":35,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/helpers/interopRequireDefault":128}],9:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/core-js-stable/instance/keys"),o=e("idb-keyval");try{var i=(0,o.createStore)("parseDB","parseStore"),s={async:1,getItemAsync:function(e){return(0,o.get)(e,i)},setItemAsync:function(e,t){return(0,o.set)(e,t,i)},removeItemAsync:function(e){return(0,o.del)(e,i)},getAllKeysAsync:function(){return r(o)(i)},clear:function(){return(0,o.clear)(i)}};t.exports=s}catch(e){}},{"@babel/runtime-corejs3/core-js-stable/instance/keys":67,"idb-keyval":510}],10:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault"),o=r(e("@babel/runtime-corejs3/core-js-stable/promise")),i=r(e("./Storage")),s=e("./uuid"),a=null;t.exports={currentInstallationId:function(){if("string"==typeof a)return o.default.resolve(a);var t=i.default.generatePath("installationId");return i.default.getItemAsync(t).then(function(e){return e?a=e:(e=s(),i.default.setItemAsync(t,e).then(function(){return a=e}))})},_clearCache:function(){a=null},_setInstallationIdCache:function(e){a=e}}},{"./Storage":39,"./uuid":54,"@babel/runtime-corejs3/core-js-stable/promise":90,"@babel/runtime-corejs3/helpers/interopRequireDefault":128}],11:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault"),o=e("@babel/runtime-corejs3/core-js-stable/object/define-property"),a=e("@babel/runtime-corejs3/core-js/get-iterator"),l=e("@babel/runtime-corejs3/core-js-stable/array/is-array"),u=e("@babel/runtime-corejs3/core-js/get-iterator-method"),c=e("@babel/runtime-corejs3/core-js-stable/symbol"),d=e("@babel/runtime-corejs3/core-js-stable/array/from"),p=e("@babel/runtime-corejs3/core-js-stable/instance/slice"),i=e("@babel/runtime-corejs3/core-js-stable/reflect/construct");o(n,"__esModule",{value:!0}),n.default=void 0;var s=r(e("@babel/runtime-corejs3/helpers/typeof")),h=r(e("@babel/runtime-corejs3/core-js-stable/instance/bind")),f=r(e("@babel/runtime-corejs3/core-js-stable/set-timeout")),m=r(e("@babel/runtime-corejs3/core-js-stable/instance/values")),b=r(e("@babel/runtime-corejs3/core-js-stable/instance/for-each")),g=r(e("@babel/runtime-corejs3/core-js-stable/json/stringify")),v=r(e("@babel/runtime-corejs3/core-js-stable/instance/keys")),y=r(e("@babel/runtime-corejs3/core-js-stable/map")),w=r(e("@babel/runtime-corejs3/core-js-stable/instance/index-of")),x=r(e("@babel/runtime-corejs3/helpers/classCallCheck")),j=r(e("@babel/runtime-corejs3/helpers/createClass")),C=r(e("@babel/runtime-corejs3/helpers/assertThisInitialized")),E=r(e("@babel/runtime-corejs3/helpers/inherits")),_=r(e("@babel/runtime-corejs3/helpers/possibleConstructorReturn")),R=r(e("@babel/runtime-corejs3/helpers/getPrototypeOf")),k=r(e("@babel/runtime-corejs3/helpers/defineProperty")),S=r(e("./CoreManager")),o=r(e("./EventEmitter")),T=r(e("./ParseObject")),A=r(e("./LiveQuerySubscription")),P=e("./promiseUtils");function M(e,t){var n;if(void 0===c||null==u(e)){if(l(e)||(n=function(e){if(e){if("string"==typeof e)return D(e,void 0);var t=p(t=Object.prototype.toString.call(e)).call(t,8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?d(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?D(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=a(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L="initialized",O="connecting",I="connected",N="closed",F="reconnecting",H="disconnected",o=function(e){(0,E.default)(l,e);var n,r,a=(n=l,r=function(){if("undefined"==typeof Reflect||!i)return!1;if(i.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,R.default)(n),t=r?(e=(0,R.default)(this).constructor,i(t,arguments,e)):t.apply(this,arguments);return(0,_.default)(this,t)});function l(e){var t=e.applicationId,n=e.serverURL,r=e.javascriptKey,o=e.masterKey,i=e.sessionToken,s=e.installationId;if((0,x.default)(this,l),e=a.call(this),(0,k.default)((0,C.default)(e),"attempts",void 0),(0,k.default)((0,C.default)(e),"id",void 0),(0,k.default)((0,C.default)(e),"requestId",void 0),(0,k.default)((0,C.default)(e),"applicationId",void 0),(0,k.default)((0,C.default)(e),"serverURL",void 0),(0,k.default)((0,C.default)(e),"javascriptKey",void 0),(0,k.default)((0,C.default)(e),"masterKey",void 0),(0,k.default)((0,C.default)(e),"sessionToken",void 0),(0,k.default)((0,C.default)(e),"installationId",void 0),(0,k.default)((0,C.default)(e),"additionalProperties",void 0),(0,k.default)((0,C.default)(e),"connectPromise",void 0),(0,k.default)((0,C.default)(e),"subscriptions",void 0),(0,k.default)((0,C.default)(e),"socket",void 0),(0,k.default)((0,C.default)(e),"state",void 0),!n||0!==(0,w.default)(n).call(n,"ws"))throw new Error("You need to set a proper Parse LiveQuery server url before using LiveQueryClient");return e.reconnectHandle=null,e.attempts=1,e.id=0,e.requestId=1,e.serverURL=n,e.applicationId=t,e.javascriptKey=r||void 0,e.masterKey=o||void 0,e.sessionToken=i||void 0,e.installationId=s||void 0,e.additionalProperties=!0,e.connectPromise=(0,P.resolvingPromise)(),e.subscriptions=new y.default,e.state=L,e.on("error",function(){}),e}return(0,j.default)(l,[{key:"shouldOpen",value:function(){return this.state===L||this.state===H}},{key:"subscribe",value:function(e,t){var n=this;if(e){var r=e.className,o=(i=e.toJSON()).where,i=(0,v.default)(i)?(0,v.default)(i).split(","):void 0,s={op:"subscribe",requestId:this.requestId,query:{className:r,where:o,fields:i}};return t&&(s.sessionToken=t),t=new A.default(this.requestId,e,t),this.subscriptions.set(this.requestId,t),this.requestId+=1,this.connectPromise.then(function(){n.socket.send((0,g.default)(s))}),t}}},{key:"unsubscribe",value:function(e){var t,n=this;e&&(this.subscriptions.delete(e.id),t={op:"unsubscribe",requestId:e.id},this.connectPromise.then(function(){n.socket.send((0,g.default)(t))}))}},{key:"open",value:function(){var t=this,e=S.default.getWebSocketController();e?(this.state!==F&&(this.state=O),this.socket=new e(this.serverURL),this.socket.onopen=function(){t._handleWebSocketOpen()},this.socket.onmessage=function(e){t._handleWebSocketMessage(e)},this.socket.onclose=function(){t._handleWebSocketClose()},this.socket.onerror=function(e){t._handleWebSocketError(e)}):this.emit("error","Can not find WebSocket implementation")}},{key:"resubscribe",value:function(){var e,s=this;(0,b.default)(e=this.subscriptions).call(e,function(e,t){var n=(r=(o=e.query).toJSON()).where,r=(0,v.default)(r)?(0,v.default)(r).split(","):void 0,o=o.className,e=e.sessionToken,i={op:"subscribe",requestId:t,query:{className:o,where:n,fields:r}};e&&(i.sessionToken=e),s.connectPromise.then(function(){s.socket.send((0,g.default)(i))})})}},{key:"close",value:function(){var e;if(this.state!==L&&this.state!==H){this.state=H,this.socket.close();var t,n=M((0,m.default)(e=this.subscriptions).call(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;r.subscribed=!1,r.emit("close")}}catch(e){n.e(e)}finally{n.f()}this._handleReset(),this.emit("close")}}},{key:"_handleReset",value:function(){this.attempts=1,this.id=0,this.requestId=1,this.connectPromise=(0,P.resolvingPromise)(),this.subscriptions=new y.default}},{key:"_handleWebSocketOpen",value:function(){this.attempts=1;var e={op:"connect",applicationId:this.applicationId,javascriptKey:this.javascriptKey,masterKey:this.masterKey,sessionToken:this.sessionToken};this.additionalProperties&&(e.installationId=this.installationId),this.socket.send((0,g.default)(e))}},{key:"_handleWebSocketMessage",value:function(e){var t=e.data;"string"==typeof t&&(t=JSON.parse(t));var n=null;t.requestId&&(n=this.subscriptions.get(t.requestId));var r={clientId:t.clientId,installationId:t.installationId};switch(t.op){case"connected":this.state===F&&this.resubscribe(),this.emit("open"),this.id=t.clientId,this.connectPromise.resolve(),this.state=I;break;case"subscribed":n&&(n.subscribed=!0,n.subscribePromise.resolve(),(0,f.default)(function(){return n.emit("open",r)},200));break;case"error":t.requestId?n&&(n.subscribePromise.resolve(),(0,f.default)(function(){return n.emit("error",t.error)},200)):this.emit("error",t.error),"Additional properties not allowed"===t.error&&(this.additionalProperties=!1),t.reconnect&&this._handleReconnect();break;case"unsubscribed":break;default:if(!n)break;var o=!1;if(t.original){for(var i in o=!0,delete t.original.__type,t.original)i in t.object||(t.object[i]=void 0);t.original=T.default.fromJSON(t.original,!1)}delete t.object.__type;var s=T.default.fromJSON(t.object,o);t.original?n.emit(t.op,s,t.original,r):n.emit(t.op,s,r);var a=S.default.getLocalDatastore();o&&a.isEnabled&&a._updateObjectIfPinned(s).then(function(){})}}},{key:"_handleWebSocketClose",value:function(){var e;if(this.state!==H){this.state=N,this.emit("close");var t,n=M((0,m.default)(e=this.subscriptions).call(e));try{for(n.s();!(t=n.n()).done;)t.value.emit("close")}catch(e){n.e(e)}finally{n.f()}this._handleReconnect()}}},{key:"_handleWebSocketError",value:function(e){var t;this.emit("error",e);var n,r=M((0,m.default)(t=this.subscriptions).call(t));try{for(r.s();!(n=r.n()).done;)n.value.emit("error",e)}catch(e){r.e(e)}finally{r.f()}this._handleReconnect()}},{key:"_handleReconnect",value:function(){var e,t,n=this;this.state!==H&&(this.state=F,t=this.attempts,e=Math.random()*Math.min(30,Math.pow(2,t)-1)*1e3,this.reconnectHandle&&clearTimeout(this.reconnectHandle),this.reconnectHandle=(0,f.default)((0,h.default)(t=function(){n.attempts++,n.connectPromise=(0,P.resolvingPromise)(),n.open()}).call(t,this),e))}}]),l}(o.default);S.default.setWebSocketController("function"==typeof WebSocket||"object"===("undefined"==typeof WebSocket?"undefined":(0,s.default)(WebSocket))?WebSocket:null),n.default=o},{"./CoreManager":4,"./EventEmitter":6,"./LiveQuerySubscription":12,"./ParseObject":27,"./promiseUtils":51,"@babel/runtime-corejs3/core-js-stable/array/from":55,"@babel/runtime-corejs3/core-js-stable/array/is-array":56,"@babel/runtime-corejs3/core-js-stable/instance/bind":57,"@babel/runtime-corejs3/core-js-stable/instance/for-each":64,"@babel/runtime-corejs3/core-js-stable/instance/index-of":66,"@babel/runtime-corejs3/core-js-stable/instance/keys":67,"@babel/runtime-corejs3/core-js-stable/instance/slice":70,"@babel/runtime-corejs3/core-js-stable/instance/values":74,"@babel/runtime-corejs3/core-js-stable/json/stringify":75,"@babel/runtime-corejs3/core-js-stable/map":76,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/reflect/construct":91,"@babel/runtime-corejs3/core-js-stable/set-timeout":93,"@babel/runtime-corejs3/core-js-stable/symbol":95,"@babel/runtime-corejs3/core-js/get-iterator":100,"@babel/runtime-corejs3/core-js/get-iterator-method":99,"@babel/runtime-corejs3/helpers/assertThisInitialized":119,"@babel/runtime-corejs3/helpers/classCallCheck":121,"@babel/runtime-corejs3/helpers/createClass":123,"@babel/runtime-corejs3/helpers/defineProperty":124,"@babel/runtime-corejs3/helpers/getPrototypeOf":126,"@babel/runtime-corejs3/helpers/inherits":127,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/possibleConstructorReturn":136,"@babel/runtime-corejs3/helpers/typeof":141}],12:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault"),o=e("@babel/runtime-corejs3/core-js-stable/object/define-property"),s=e("@babel/runtime-corejs3/core-js-stable/reflect/construct");o(n,"__esModule",{value:!0}),n.default=void 0;var a=r(e("@babel/runtime-corejs3/helpers/classCallCheck")),l=r(e("@babel/runtime-corejs3/helpers/createClass")),u=r(e("@babel/runtime-corejs3/helpers/inherits")),c=r(e("@babel/runtime-corejs3/helpers/possibleConstructorReturn")),d=r(e("@babel/runtime-corejs3/helpers/getPrototypeOf")),o=r(e("./EventEmitter")),p=r(e("./CoreManager")),h=e("./promiseUtils");o=function(e){(0,u.default)(i,e);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!s)return!1;if(s.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,d.default)(n),t=r?(e=(0,d.default)(this).constructor,s(t,arguments,e)):t.apply(this,arguments);return(0,c.default)(this,t)});function i(e,t,n){var r;return(0,a.default)(this,i),(r=o.call(this)).id=e,r.query=t,r.sessionToken=n,r.subscribePromise=(0,h.resolvingPromise)(),r.subscribed=!1,r.on("error",function(){}),r}return(0,l.default)(i,[{key:"unsubscribe",value:function(){var t=this;return p.default.getLiveQueryController().getDefaultLiveQueryClient().then(function(e){e.unsubscribe(t),t.emit("close")})}}]),i}(o.default),n.default=o},{"./CoreManager":4,"./EventEmitter":6,"./promiseUtils":51,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/reflect/construct":91,"@babel/runtime-corejs3/helpers/classCallCheck":121,"@babel/runtime-corejs3/helpers/createClass":123,"@babel/runtime-corejs3/helpers/getPrototypeOf":126,"@babel/runtime-corejs3/helpers/inherits":127,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/possibleConstructorReturn":136}],13:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault"),a=e("@babel/runtime-corejs3/core-js/get-iterator"),l=e("@babel/runtime-corejs3/core-js-stable/array/is-array"),u=e("@babel/runtime-corejs3/core-js/get-iterator-method"),c=e("@babel/runtime-corejs3/core-js-stable/symbol"),d=e("@babel/runtime-corejs3/core-js-stable/array/from"),p=e("@babel/runtime-corejs3/core-js-stable/instance/slice"),h=r(e("@babel/runtime-corejs3/core-js-stable/instance/find")),f=r(e("@babel/runtime-corejs3/core-js-stable/array/from")),m=r(e("@babel/runtime-corejs3/core-js-stable/instance/map")),b=r(e("@babel/runtime-corejs3/core-js-stable/array/is-array")),y=r(e("@babel/runtime-corejs3/core-js-stable/instance/keys")),w=r(e("@babel/runtime-corejs3/core-js-stable/instance/starts-with")),x=r(e("@babel/runtime-corejs3/core-js-stable/object/keys")),j=r(e("@babel/runtime-corejs3/core-js-stable/instance/includes")),C=r(e("@babel/runtime-corejs3/core-js-stable/instance/filter")),E=r(e("@babel/runtime-corejs3/regenerator")),_=r(e("@babel/runtime-corejs3/core-js-stable/instance/concat")),R=r(e("@babel/runtime-corejs3/core-js-stable/set")),k=r(e("@babel/runtime-corejs3/helpers/toConsumableArray")),S=r(e("@babel/runtime-corejs3/core-js-stable/promise")),g=r(e("@babel/runtime-corejs3/helpers/slicedToArray")),i=r(e("@babel/runtime-corejs3/helpers/asyncToGenerator")),o=r(e("./CoreManager")),v=r(e("./ParseQuery")),T=e("./LocalDatastoreUtils");function A(e,t){var n;if(void 0===c||null==u(e)){if(l(e)||(n=function(e){if(e){if("string"==typeof e)return P(e,void 0);var t=p(t=Object.prototype.toString.call(e)).call(t,8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?d(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?P(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=a(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}r={isEnabled:!1,isSyncing:!1,fromPinWithName:function(e){return o.default.getLocalDatastoreController().fromPinWithName(e)},pinWithName:function(e,t){return o.default.getLocalDatastoreController().pinWithName(e,t)},unPinWithName:function(e){return o.default.getLocalDatastoreController().unPinWithName(e)},_getAllContents:function(){return o.default.getLocalDatastoreController().getAllContents()},_getRawStorage:function(){return o.default.getLocalDatastoreController().getRawStorage()},_clear:function(){return o.default.getLocalDatastoreController().clear()},_handlePinAllWithName:function(h,f){var m=this;return(0,i.default)(E.default.mark(function e(){var t,n,r,o,i,s,a,l,u,c,d,p;return E.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=m.getPinName(h),n=[],r=[],o=A(f);try{for(o.s();!(i=o.n()).done;)for(c in s=i.value,a=m._getChildren(s),l=m.getKeyForObject(s),u=s._toFullJSON(void 0,!0),s._localId&&(u._localId=s._localId),a[l]=u,a)r.push(c),n.push(m.pinWithName(c,[a[c]]))}catch(e){o.e(e)}finally{o.f()}return d=m.fromPinWithName(t),e.next=8,S.default.all([d,n]);case 8:return p=e.sent,d=(0,g.default)(p,1),p=d[0],p=(0,k.default)(new R.default((0,_.default)(d=[]).call(d,(0,k.default)(p||[]),r))),e.abrupt("return",m.pinWithName(t,p));case 13:case"end":return e.stop()}},e)}))()},_handleUnPinAllWithName:function(b,g){var v=this;return(0,i.default)(E.default.mark(function e(){var t,n,r,o,i,s,a,l,u,c,d,p,h,f,m;return E.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v._getAllContents();case 2:t=e.sent,n=v.getPinName(b),r=[],o=[],i=A(g);try{for(i.s();!(s=i.n()).done;)l=s.value,u=v._getChildren(l),c=v.getKeyForObject(l),o.push.apply(o,(0,_.default)(a=[c]).call(a,(0,k.default)((0,x.default)(u))))}catch(e){i.e(e)}finally{i.f()}o=(0,k.default)(new R.default(o)),d=t[n]||[],0==(d=(0,C.default)(d).call(d,function(e){return!(0,j.default)(o).call(o,e)})).length?(r.push(v.unPinWithName(n)),delete t[n]):(r.push(v.pinWithName(n,d)),t[n]=d),d=A(o),e.prev=13,d.s();case 15:if((m=d.n()).done){e.next=31;break}p=m.value,h=!1,e.t0=(0,y.default)(E.default).call(E.default,t);case 19:if((e.t1=e.t0()).done){e.next=28;break}if((f=e.t1.value)!==T.DEFAULT_PIN&&!(0,w.default)(f).call(f,T.PIN_PREFIX)){e.next=26;break}if(m=t[f]||[],(0,j.default)(m).call(m,p))return h=!0,e.abrupt("break",28);e.next=26;break;case 26:e.next=19;break;case 28:h||r.push(v.unPinWithName(p));case 29:e.next=15;break;case 31:e.next=36;break;case 33:e.prev=33,e.t2=e.catch(13),d.e(e.t2);case 36:return e.prev=36,d.f(),e.finish(36);case 39:return e.abrupt("return",S.default.all(r));case 40:case"end":return e.stop()}},e,null,[[13,33,36,39]])}))()},_getChildren:function(e){var t,n={},r=e._toFullJSON(void 0,!0);for(t in r)r[t]&&r[t].__type&&"Object"===r[t].__type&&this._traverse(r[t],n);return n},_traverse:function(e,t){if(e.objectId){var n=this.getKeyForObject(e);if(!t[n])for(var r in t[n]=e){var o=e[r];(o=e[r]?o:e).__type&&"Object"===o.__type&&this._traverse(o,t)}}},_serializeObjectsFromPinName:function(l){var u=this;return(0,i.default)(E.default.mark(function e(){var t,n,r,o,i,s,a;return E.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u._getAllContents();case 2:for(r in t=e.sent,n=[],t)(0,w.default)(r).call(r,T.OBJECT_PREFIX)&&n.push(t[r][0]);if(l){e.next=7;break}return e.abrupt("return",n);case 7:if(o=u.getPinName(l),i=t[o],(0,b.default)(i)){e.next=11;break}return e.abrupt("return",[]);case 11:return s=(0,m.default)(i).call(i,function(e){return u.fromPinWithName(e)}),e.next=14,S.default.all(s);case 14:return a=e.sent,a=(s=(0,_.default)(o=[])).call.apply(s,(0,_.default)(o=[o]).call(o,(0,k.default)(a))),e.abrupt("return",(0,C.default)(a).call(a,function(e){return null!=e}));case 17:case"end":return e.stop()}},e)}))()},_serializeObject:function(c,d){var p=this;return(0,i.default)(E.default.mark(function e(){var t,n,r,o,i,s,a,l,u;return E.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d){e.next=5;break}return e.next=4,p._getAllContents();case 4:t=e.sent;case 5:if(t[c]&&0!==t[c].length){e.next=7;break}return e.abrupt("return",null);case 7:for(n=t[c][0],r=[],(o={})[i=0]=n,r.push(i);0!==r.length;)for(l in s=r.shift(),a=o[s])(u=a[l]).__type&&"Object"===u.__type&&(u=p.getKeyForObject(u),t[u]&&0<t[u].length&&(u=t[u][0],o[++i]=u,a[l]=u,r.push(i)));return e.abrupt("return",n);case 15:case"end":return e.stop()}},e)}))()},_updateObjectIfPinned:function(r){var o=this;return(0,i.default)(E.default.mark(function e(){var t,n;return E.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.isEnabled){e.next=2;break}return e.abrupt("return");case 2:return t=o.getKeyForObject(r),e.next=5,o.fromPinWithName(t);case 5:if((n=e.sent)&&0!==n.length){e.next=8;break}return e.abrupt("return");case 8:return e.abrupt("return",o.pinWithName(t,[r._toFullJSON()]));case 9:case"end":return e.stop()}},e)}))()},_destroyObjectIfPinned:function(s){var a=this;return(0,i.default)(E.default.mark(function e(){var t,n,r,o,i;return E.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.isEnabled){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a._getAllContents();case 4:if(t=e.sent,n=a.getKeyForObject(s),t[n]){e.next=9;break}return e.abrupt("return");case 9:for(o in r=[a.unPinWithName(n)],delete t[n],t)o!==T.DEFAULT_PIN&&!(0,w.default)(o).call(o,T.PIN_PREFIX)||(i=t[o]||[],(0,j.default)(i).call(i,n)&&(0==(i=(0,C.default)(i).call(i,function(e){return e!==n})).length?(r.push(a.unPinWithName(o)),delete t[o]):(r.push(a.pinWithName(o,i)),t[o]=i)));return e.abrupt("return",S.default.all(r));case 13:case"end":return e.stop()}},e)}))()},_updateLocalIdForObject:function(u,c){var d=this;return(0,i.default)(E.default.mark(function e(){var t,n,r,o,i,s,a,l;return E.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d.isEnabled){e.next=2;break}return e.abrupt("return");case 2:return n=(0,_.default)(t=(0,_.default)(t="".concat(T.OBJECT_PREFIX)).call(t,c.className,"_")).call(t,u),r=d.getKeyForObject(c),e.next=6,d.fromPinWithName(n);case 6:if((o=e.sent)&&0!==o.length){e.next=9;break}return e.abrupt("return");case 9:return i=[d.unPinWithName(n),d.pinWithName(r,o)],e.next=12,d._getAllContents();case 12:for(a in s=e.sent)a!==T.DEFAULT_PIN&&!(0,w.default)(a).call(a,T.PIN_PREFIX)||(l=s[a]||[],(0,j.default)(l).call(l,n)&&((l=(0,C.default)(l).call(l,function(e){return e!==n})).push(r),i.push(d.pinWithName(a,l)),s[a]=l));return e.abrupt("return",S.default.all(i));case 15:case"end":return e.stop()}},e)}))()},updateFromServer:function(){var c=this;return(0,i.default)(E.default.mark(function e(){var t,n,r,o,i,s,a,l,u;return E.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.checkIfEnabled()||c.isSyncing)return e.abrupt("return");e.next=2;break;case 2:return e.next=4,c._getAllContents();case 4:for(n in s=e.sent,t=[],s)(0,w.default)(n).call(n,T.OBJECT_PREFIX)&&t.push(n);if(0===t.length)return e.abrupt("return");e.next=9;break;case 9:c.isSyncing=!0,r={},o=0,i=t;case 12:if(!(o<i.length)){e.next=23;break}if(s=i[o],a=s.split("_"),l=(0,g.default)(a,4),a=l[2],l=l[3],5===s.split("_").length&&"User"===s.split("_")[3]&&(a="_User",l=s.split("_")[4]),(0,w.default)(l).call(l,"local"))return e.abrupt("continue",20);e.next=18;break;case 18:a in r||(r[a]=new R.default),r[a].add(l);case 20:o++,e.next=12;break;case 23:return u=(0,m.default)(u=(0,x.default)(r)).call(u,function(e){var t=(0,f.default)(r[e]);return(e=new v.default(e)).limit(t.length),1===t.length?e.equalTo("objectId",t[0]):e.containedIn("objectId",t),(0,h.default)(e).call(e)}),e.prev=24,e.next=27,S.default.all(u);case 27:return u=e.sent,u=(0,_.default)([]).apply([],u),u=(0,m.default)(u).call(u,function(e){var t=c.getKeyForObject(e);return c.pinWithName(t,e._toFullJSON())}),e.next=32,S.default.all(u);case 32:c.isSyncing=!1,e.next=39;break;case 35:e.prev=35,e.t0=e.catch(24),console.error("Error syncing LocalDatastore: ",e.t0),c.isSyncing=!1;case 39:case"end":return e.stop()}},e,null,[[24,35]])}))()},getKeyForObject:function(e){var t,n=e.objectId||e._getId();return(0,_.default)(e=(0,_.default)(t="".concat(T.OBJECT_PREFIX)).call(t,e.className,"_")).call(e,n)},getPinName:function(e){return e&&e!==T.DEFAULT_PIN?T.PIN_PREFIX+e:T.DEFAULT_PIN},checkIfEnabled:function(){return this.isEnabled||console.error("Parse.enableLocalDatastore() must be called first"),this.isEnabled}},t.exports=r,o.default.setLocalDatastoreController(e("./LocalDatastoreController")),o.default.setLocalDatastore(r)},{"./CoreManager":4,"./LocalDatastoreController":14,"./LocalDatastoreUtils":15,"./ParseQuery":30,"@babel/runtime-corejs3/core-js-stable/array/from":55,"@babel/runtime-corejs3/core-js-stable/array/is-array":56,"@babel/runtime-corejs3/core-js-stable/instance/concat":58,"@babel/runtime-corejs3/core-js-stable/instance/filter":61,"@babel/runtime-corejs3/core-js-stable/instance/find":63,"@babel/runtime-corejs3/core-js-stable/instance/includes":65,"@babel/runtime-corejs3/core-js-stable/instance/keys":67,"@babel/runtime-corejs3/core-js-stable/instance/map":68,"@babel/runtime-corejs3/core-js-stable/instance/slice":70,"@babel/runtime-corejs3/core-js-stable/instance/starts-with":73,"@babel/runtime-corejs3/core-js-stable/object/keys":88,"@babel/runtime-corejs3/core-js-stable/promise":90,"@babel/runtime-corejs3/core-js-stable/set":94,"@babel/runtime-corejs3/core-js-stable/symbol":95,"@babel/runtime-corejs3/core-js/get-iterator":100,"@babel/runtime-corejs3/core-js/get-iterator-method":99,"@babel/runtime-corejs3/helpers/asyncToGenerator":120,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/slicedToArray":138,"@babel/runtime-corejs3/helpers/toConsumableArray":140,"@babel/runtime-corejs3/regenerator":498}],14:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault"),a=e("@babel/runtime-corejs3/core-js/get-iterator"),l=e("@babel/runtime-corejs3/core-js-stable/array/is-array"),u=e("@babel/runtime-corejs3/core-js/get-iterator-method"),c=e("@babel/runtime-corejs3/core-js-stable/symbol"),d=e("@babel/runtime-corejs3/core-js-stable/array/from"),p=e("@babel/runtime-corejs3/core-js-stable/instance/slice"),h=r(e("@babel/runtime-corejs3/core-js-stable/instance/map")),f=r(e("@babel/runtime-corejs3/core-js-stable/promise")),o=r(e("@babel/runtime-corejs3/core-js-stable/instance/reduce")),i=r(e("@babel/runtime-corejs3/core-js-stable/json/stringify")),m=r(e("@babel/runtime-corejs3/regenerator")),b=r(e("@babel/runtime-corejs3/helpers/asyncToGenerator")),g=e("./LocalDatastoreUtils"),v=r(e("./Storage"));function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.exports={fromPinWithName:function(r){return(0,b.default)(m.default.mark(function e(){var t,n;return m.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.default.getItemAsync(r);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:return n=JSON.parse(t),e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))()},pinWithName:function(e,t){return t=(0,i.default)(t),v.default.setItemAsync(e,t)},unPinWithName:function(e){return v.default.removeItemAsync(e)},getAllContents:function(){return(0,b.default)(m.default.mark(function e(){var t;return m.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.default.getAllKeysAsync();case 2:return t=e.sent,e.abrupt("return",(0,o.default)(t).call(t,function(){var e=(0,b.default)(m.default.mark(function e(t,n){var r,o;return m.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(r=e.sent,(0,g.isLocalDatastoreKey)(n))return e.next=6,v.default.getItemAsync(n);e.next=8;break;case 6:o=e.sent;try{r[n]=JSON.parse(o)}catch(e){console.error("Error getAllContents: ",e)}case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),f.default.resolve({})));case 4:case"end":return e.stop()}},e)}))()},getRawStorage:function(){return(0,b.default)(m.default.mark(function e(){var t;return m.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.default.getAllKeysAsync();case 2:return t=e.sent,e.abrupt("return",(0,o.default)(t).call(t,function(){var e=(0,b.default)(m.default.mark(function e(t,n){var r,o;return m.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return r=e.sent,e.next=5,v.default.getItemAsync(n);case 5:return o=e.sent,r[n]=o,e.abrupt("return",r);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),f.default.resolve({})));case 4:case"end":return e.stop()}},e)}))()},clear:function(){var s=this;return(0,b.default)(m.default.mark(function e(){var t,n,r,o,i;return m.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.default.getAllKeysAsync();case 2:i=e.sent,t=[],n=function(e,t){var n;if(void 0===c||null==u(e)){if(l(e)||(n=function(e){if(e){if("string"==typeof e)return y(e,void 0);var t=p(t=Object.prototype.toString.call(e)).call(t,8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?d(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?y(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=a(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(i);try{for(n.s();!(r=n.n()).done;)o=r.value,(0,g.isLocalDatastoreKey)(o)&&t.push(o)}catch(e){n.e(e)}finally{n.f()}return i=(0,h.default)(t).call(t,s.unPinWithName),e.abrupt("return",f.default.all(i));case 8:case"end":return e.stop()}},e)}))()}}},{"./LocalDatastoreUtils":15,"./Storage":39,"@babel/runtime-corejs3/core-js-stable/array/from":55,"@babel/runtime-corejs3/core-js-stable/array/is-array":56,"@babel/runtime-corejs3/core-js-stable/instance/map":68,"@babel/runtime-corejs3/core-js-stable/instance/reduce":69,"@babel/runtime-corejs3/core-js-stable/instance/slice":70,"@babel/runtime-corejs3/core-js-stable/json/stringify":75,"@babel/runtime-corejs3/core-js-stable/promise":90,"@babel/runtime-corejs3/core-js-stable/symbol":95,"@babel/runtime-corejs3/core-js/get-iterator":100,"@babel/runtime-corejs3/core-js/get-iterator-method":99,"@babel/runtime-corejs3/helpers/asyncToGenerator":120,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/regenerator":498}],15:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.isLocalDatastoreKey=function(e){return!(!e||e!==i&&!(0,o.default)(e).call(e,s)&&!(0,o.default)(e).call(e,a))},n.OBJECT_PREFIX=n.PIN_PREFIX=n.DEFAULT_PIN=void 0;var o=r(e("@babel/runtime-corejs3/core-js-stable/instance/starts-with")),i="_default";n.DEFAULT_PIN=i;var s="parsePin_";n.PIN_PREFIX=s;var a="Parse_LDS_";n.OBJECT_PREFIX=a},{"@babel/runtime-corejs3/core-js-stable/instance/starts-with":73,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/helpers/interopRequireDefault":128}],16:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault"),o=e("@babel/runtime-corejs3/core-js-stable/object/define-property"),i=e("@babel/runtime-corejs3/core-js-stable/object/define-properties"),s=e("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors"),a=e("@babel/runtime-corejs3/core-js-stable/instance/for-each"),l=e("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor"),u=e("@babel/runtime-corejs3/core-js-stable/instance/filter"),c=e("@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols"),d=e("@babel/runtime-corejs3/core-js-stable/object/keys");o(n,"__esModule",{value:!0}),n.defaultState=function(){return{serverData:{},pendingOps:[{}],objectCache:{},tasks:new w.default,existed:!1}},n.setServerData=function(e,t){for(var n in t)void 0!==t[n]?e[n]=t[n]:delete e[n]},n.setPendingOp=function(e,t,n){var r=e.length-1;n?e[r][t]=n:delete e[r][t]},n.pushPendingState=function(e){e.push({})},n.popPendingState=E,n.mergeFirstPendingState=function(e){var t,n,r=E(e),o=e[0];for(t in r)o[t]&&r[t]?(n=o[t].mergeWith(r[t]))&&(o[t]=n):o[t]=r[t]},n.estimateAttribute=function(e,t,n,r,o){for(var i=e[o],s=0;s<t.length;s++)t[s][o]&&(t[s][o]instanceof x.RelationOp?r&&(i=t[s][o].applyTo(i,{className:n,id:r},o)):i=t[s][o].applyTo(i));return i},n.estimateAttributes=function(e,t,n,r){var o,i={};for(o in e)i[o]=e[o];for(var s=0;s<t.length;s++)for(o in t[s])if(t[s][o]instanceof x.RelationOp)r&&(i[o]=t[s][o].applyTo(i[o],{className:n,id:r},o));else if((0,m.default)(o).call(o,".")){var a=o.split("."),l=a[0],u=a[a.length-1];i[l]=C({},e[l]);for(var c=C({},i),d=0;d<a.length-1;d++){var p=a[d];p in c||(c[p]={}),c=c[p]}c[u]=t[s][o].applyTo(c[u])}else i[o]=t[s][o].applyTo(i[o]);return i},n.commitServerChanges=function(e,t,n){for(var o in n){var r=n[o];!function(e,t){for(var n=o.split("."),r=0;r<n.length-1;r++)n[r]in e||(e[n[r]]={}),e=e[n[r]];void 0===t?delete e[n[n.length-1]]:e[n[n.length-1]]=t}(e,r),!r||"object"!==(0,h.default)(r)||r instanceof v.default||r instanceof g.default||r instanceof y.default||(r=(0,b.default)(r,!1,!0),t[o]=(0,p.default)(r))}};var p=r(e("@babel/runtime-corejs3/core-js-stable/json/stringify")),h=r(e("@babel/runtime-corejs3/helpers/typeof")),f=r(e("@babel/runtime-corejs3/helpers/defineProperty")),m=r(e("@babel/runtime-corejs3/core-js-stable/instance/includes")),b=r(e("./encode")),g=r(e("./ParseFile")),v=r(e("./ParseObject")),y=r(e("./ParseRelation")),w=r(e("./TaskQueue")),x=e("./ParseOp");function j(t,e){var n,r=d(t);return c&&(n=c(t),e&&(n=u(n).call(n,function(e){return l(t,e).enumerable})),r.push.apply(r,n)),r}function C(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};e%2?a(n=j(Object(r),!0)).call(n,function(e){(0,f.default)(t,e,r[e])}):s?i(t,s(r)):a(n=j(Object(r))).call(n,function(e){o(t,e,l(r,e))})}return t}function E(e){var t=e.shift();return e.length||(e[0]={}),t}},{"./ParseFile":23,"./ParseObject":27,"./ParseOp":28,"./ParseRelation":31,"./TaskQueue":41,"./encode":46,"@babel/runtime-corejs3/core-js-stable/instance/filter":61,"@babel/runtime-corejs3/core-js-stable/instance/for-each":64,"@babel/runtime-corejs3/core-js-stable/instance/includes":65,"@babel/runtime-corejs3/core-js-stable/json/stringify":75,"@babel/runtime-corejs3/core-js-stable/object/define-properties":80,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor":84,"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors":85,"@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols":86,"@babel/runtime-corejs3/core-js-stable/object/keys":88,"@babel/runtime-corejs3/helpers/defineProperty":124,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/typeof":141}],17:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault"),H=e("@babel/runtime-corejs3/core-js/get-iterator"),z=e("@babel/runtime-corejs3/core-js-stable/array/is-array"),W=e("@babel/runtime-corejs3/core-js/get-iterator-method"),B=e("@babel/runtime-corejs3/core-js-stable/symbol"),q=e("@babel/runtime-corejs3/core-js-stable/array/from"),V=e("@babel/runtime-corejs3/core-js-stable/instance/slice"),o=r(e("@babel/runtime-corejs3/core-js-stable/object/keys")),i=r(e("@babel/runtime-corejs3/core-js-stable/instance/for-each")),U=r(e("@babel/runtime-corejs3/core-js-stable/instance/map")),G=r(e("@babel/runtime-corejs3/core-js-stable/instance/concat")),K=r(e("@babel/runtime-corejs3/helpers/typeof")),J=r(e("@babel/runtime-corejs3/core-js-stable/number/is-integer")),$=r(e("@babel/runtime-corejs3/helpers/slicedToArray")),X=r(e("@babel/runtime-corejs3/core-js-stable/instance/slice")),Y=r(e("@babel/runtime-corejs3/core-js-stable/instance/filter")),Q=r(e("@babel/runtime-corejs3/core-js-stable/array/is-array")),Z=r(e("@babel/runtime-corejs3/core-js-stable/instance/index-of"));function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var te=e("./equals").default,ne=e("./decode").default,re=e("./ParseError").default,oe=e("./ParsePolygon").default,ie=e("./ParseGeoPoint").default;function se(e,t){if(!t||!t.__type||"Pointer"!==t.__type&&"Object"!==t.__type)return-1<(0,Z.default)(e).call(e,t);for(var n in e){if("string"==typeof(n=e[n])&&n===t.objectId)return 1;if(n.className===t.className&&n.objectId===t.objectId)return 1}}function ae(e){return e._toFullJSON?e._toFullJSON():e}function le(e,t,n){if((0,Q.default)(e)){for(var r=0;r<e.length;r++)if(n(e[r],t))return!0;return!1}return n(e,t)}t.exports={matchesQuery:function F(e,t,n,r){if(t.className!==e)return!1;var o,i=t,s=r;for(o in t.toJSON&&(i=t.toJSON()),r.toJSON&&(s=r.toJSON().where),i.className=e,s)if(!function e(t,n,r,o,i){if(null===i)return!1;if(0<=(0,Z.default)(o).call(o,".")){var s=(a=o.split("."))[0],a=(0,X.default)(a).call(a,1).join(".");return e(t,n[s]||{},r,a,i)}var l,u,c,d;if("$or"===o){for(l=0;l<i.length;l++)if(F(t,n,r,i[l]))return!0;return!1}if("$and"===o){for(l=0;l<i.length;l++)if(!F(t,n,r,i[l]))return!1;return!0}if("$nor"===o){for(l=0;l<i.length;l++)if(F(t,n,r,i[l]))return!1;return!0}if("$relatedTo"===o)return!1;if(!/^[A-Za-z][0-9A-Za-z_]*$/.test(o))throw new re(re.INVALID_KEY_NAME,"Invalid Key: ".concat(o));if("object"!==(0,K.default)(i))return(0,Q.default)(n[o])?-1<(0,Z.default)(a=n[o]).call(a,i):n[o]===i;if(i.__type)return"Pointer"===i.__type?le(n[o],i,function(e,t){return void 0!==e&&t.className===e.className&&t.objectId===e.objectId}):le(ne(n[o]),ne(i),te);for(c in i){if((u=(u=i[c]).__type?ne(u):u).$relativeTime){var p,h=function(e,t){var n=1<arguments.length&&void 0!==t?t:new Date,r=(e=e.toLowerCase()).split(" "),o="in"===(r=(0,Y.default)(r).call(r,function(e){return""!==e}))[0],t="ago"===r[r.length-1];if(!o&&!t&&"now"!==e)return{status:"error",info:"Time should either start with 'in' or end with 'ago'"};if(o&&t)return{status:"error",info:"Time cannot have both 'in' and 'ago'"};if((r=o?(0,X.default)(r).call(r,1):(0,X.default)(r).call(r,0,r.length-1)).length%2!=0&&"now"!==e)return{status:"error",info:"Invalid time string. Dangling unit or number."};for(var i=[];r.length;)i.push([r.shift(),r.shift()]);for(var s=0,a=0,l=i;a<l.length;a++){var u=(0,$.default)(l[a],2),c=u[0],d=u[1],p=Number(c);if(!(0,J.default)(p))return{status:"error",info:"'".concat(c,"' is not an integer.")};switch(d){case"yr":case"yrs":case"year":case"years":s+=31536e3*p;break;case"wk":case"wks":case"week":case"weeks":s+=604800*p;break;case"d":case"day":case"days":s+=86400*p;break;case"hr":case"hrs":case"hour":case"hours":s+=3600*p;break;case"min":case"mins":case"minute":case"minutes":s+=60*p;break;case"sec":case"secs":case"second":case"seconds":s+=p;break;default:return{status:"error",info:"Invalid interval: '".concat(d,"'")}}}return e=1e3*s,o?{status:"success",info:"future",result:new Date(n.valueOf()+e)}:t?{status:"success",info:"past",result:new Date(n.valueOf()-e)}:{status:"success",info:"present",result:new Date(n.valueOf())}}(u.$relativeTime);if("success"!==h.status)throw new re(re.INVALID_JSON,(0,G.default)(p="bad $relativeTime (".concat(o,") value. ")).call(p,h.info));u=h.result}switch("[object Date]"!==toString.call(u)&&("string"!=typeof u||"Invalid Date"===new Date(u)||isNaN(new Date(u)))||(n[o]=new Date(n[o].iso||n[o])),c){case"$lt":if(n[o]>=u)return!1;break;case"$lte":if(n[o]>u)return!1;break;case"$gt":if(n[o]<=u)return!1;break;case"$gte":if(n[o]<u)return!1;break;case"$ne":if(te(n[o],u))return!1;break;case"$in":if(!se(u,n[o]))return!1;break;case"$nin":if(se(u,n[o]))return!1;break;case"$all":for(l=0;l<u.length;l++)if((0,Z.default)(d=n[o]).call(d,u[l])<0)return!1;break;case"$exists":var f=void 0!==n[o],m=i.$exists;if("boolean"!=typeof i.$exists)break;if(!f&&m||f&&!m)return!1;break;case"$regex":if("object"===(0,K.default)(u))return u.test(n[o]);for(var b="",g=-2,v=(0,Z.default)(u).call(u,"\\Q");-1<v;)b+=u.substring(g+2,v),-1<(g=(0,Z.default)(u).call(u,"\\E",v))&&(b+=u.substring(v+2,g).replace(/\\\\\\\\E/g,"\\E").replace(/\W/g,"\\$&")),v=(0,Z.default)(u).call(u,"\\Q",g);if(b+=u.substring(Math.max(v,g+2)),m=(m=i.$options||"").replace("x","").replace("s",""),!(m=new RegExp(b,m)).test(n[o]))return!1;break;case"$nearSphere":return!(!u||!n[o])&&(y=u.radiansTo(n[o]))<=(w=i.$maxDistance||1/0);case"$within":if(!u||!n[o])return!1;var y=u.$box[0],w=u.$box[1];return!(y.latitude>w.latitude||y.longitude>w.longitude)&&n[o].latitude>y.latitude&&n[o].latitude<w.latitude&&n[o].longitude>y.longitude&&n[o].longitude<w.longitude;case"$options":case"$maxDistance":break;case"$select":for(var x=(0,Y.default)(r).call(r,function(e,t,n){return F(u.query.className,e,n,u.query.where)}),j=0;j<x.length;j+=1){var C=ae(x[j]);return te(n[o],C[u.key])}return!1;case"$dontSelect":for(var E=(0,Y.default)(r).call(r,function(e,t,n){return F(u.query.className,e,n,u.query.where)}),_=0;_<E.length;_+=1){var R=ae(E[_]);return!te(n[o],R[u.key])}return!1;case"$inQuery":for(var k=(0,Y.default)(r).call(r,function(e,t,n){return F(u.className,e,n,u.where)}),S=0;S<k.length;S+=1){var T=ae(k[S]);if(n[o].className===T.className&&n[o].objectId===T.objectId)return!0}return!1;case"$notInQuery":for(var A=(0,Y.default)(r).call(r,function(e,t,n){return F(u.className,e,n,u.where)}),P=0;P<A.length;P+=1){var M=ae(A[P]);if(n[o].className===M.className&&n[o].objectId===M.objectId)return!1}return!0;case"$containedBy":var D,L=function(e,t){var n;if(void 0===B||null==W(e)){if(z(e)||(n=function(e){if(e){if("string"==typeof e)return ee(e,void 0);var t=V(t=Object.prototype.toString.call(e)).call(t,8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?q(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ee(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=H(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}(n[o]);try{for(L.s();!(D=L.n()).done;){var O=D.value;if(!se(u,O))return!1}}catch(e){L.e(e)}finally{L.f()}return!0;case"$geoWithin":var I=(0,U.default)(N=u.$polygon).call(N,function(e){return[e.latitude,e.longitude]});return(N=new oe(I)).containsPoint(n[o]);case"$geoIntersects":var I=new oe(n[o].coordinates),N=new ie(u.$point);return I.containsPoint(N);default:return!1}}return!0}(e,i,n,o,s[o]))return!1;return!0},validateQuery:function(e){var t=e;e.toJSON&&(t=e.toJSON().where);var n=["$and","$or","$nor","_rperm","_wperm","_perishable_token","_email_verify_token","_email_verify_token_expires_at","_account_lockout_expires_at","_failed_login_count"];(0,i.default)(e=(0,o.default)(t)).call(e,function(e){if(t&&t[e]&&t[e].$regex&&"string"==typeof t[e].$options&&!t[e].$options.match(/^[imxs]+$/))throw new re(re.INVALID_QUERY,"Bad $options value for query: ".concat(t[e].$options));if((0,Z.default)(n).call(n,e)<0&&!e.match(/^[a-zA-Z][a-zA-Z0-9_\.]*$/))throw new re(re.INVALID_KEY_NAME,"Invalid key name: ".concat(e))})}}},{"./ParseError":22,"./ParseGeoPoint":24,"./ParsePolygon":29,"./decode":45,"./equals":47,"@babel/runtime-corejs3/core-js-stable/array/from":55,"@babel/runtime-corejs3/core-js-stable/array/is-array":56,"@babel/runtime-corejs3/core-js-stable/instance/concat":58,"@babel/runtime-corejs3/core-js-stable/instance/filter":61,"@babel/runtime-corejs3/core-js-stable/instance/for-each":64,"@babel/runtime-corejs3/core-js-stable/instance/index-of":66,"@babel/runtime-corejs3/core-js-stable/instance/map":68,"@babel/runtime-corejs3/core-js-stable/instance/slice":70,"@babel/runtime-corejs3/core-js-stable/number/is-integer":77,"@babel/runtime-corejs3/core-js-stable/object/keys":88,"@babel/runtime-corejs3/core-js-stable/symbol":95,"@babel/runtime-corejs3/core-js/get-iterator":100,"@babel/runtime-corejs3/core-js/get-iterator-method":99,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/slicedToArray":138,"@babel/runtime-corejs3/helpers/typeof":141}],18:[function(d,p,e){!function(c){!function(){"use strict";var e=d("@babel/runtime-corejs3/helpers/interopRequireWildcard"),t=(l=d("@babel/runtime-corejs3/helpers/interopRequireDefault"))(d("@babel/runtime-corejs3/core-js-stable/promise")),n=l(d("./decode")),r=l(d("./encode")),o=l(d("./CoreManager")),i=l(d("./CryptoController")),s=l(d("./EventuallyQueue")),a=l(d("./InstallationController")),e=e(d("./ParseOp")),l=l(d("./RESTController")),u={initialize:function(e,t){o.default.get("IS_NODE")&&!c.env.SERVER_RENDERING&&console.log("It looks like you're using the browser version of the SDK in a node.js environment. You should require('parse/node') instead."),u._initialize(e,t),s.default.poll()},_initialize:function(e,t,n){o.default.set("APPLICATION_ID",e),o.default.set("JAVASCRIPT_KEY",t),o.default.set("MASTER_KEY",n),o.default.set("USE_MASTER_KEY",!1)},setAsyncStorage:function(e){o.default.setAsyncStorage(e)},setLocalDatastoreController:function(e){o.default.setLocalDatastoreController(e)},getServerHealth:function(){return o.default.getRESTController().request("GET","health")},set applicationId(e){o.default.set("APPLICATION_ID",e)},get applicationId(){return o.default.get("APPLICATION_ID")},set javaScriptKey(e){o.default.set("JAVASCRIPT_KEY",e)},get javaScriptKey(){return o.default.get("JAVASCRIPT_KEY")},set masterKey(e){o.default.set("MASTER_KEY",e)},get masterKey(){return o.default.get("MASTER_KEY")},set serverURL(e){o.default.set("SERVER_URL",e)},get serverURL(){return o.default.get("SERVER_URL")},set serverAuthToken(e){o.default.set("SERVER_AUTH_TOKEN",e)},get serverAuthToken(){return o.default.get("SERVER_AUTH_TOKEN")},set serverAuthType(e){o.default.set("SERVER_AUTH_TYPE",e)},get serverAuthType(){return o.default.get("SERVER_AUTH_TYPE")},set liveQueryServerURL(e){o.default.set("LIVEQUERY_SERVER_URL",e)},get liveQueryServerURL(){return o.default.get("LIVEQUERY_SERVER_URL")},set encryptedUser(e){o.default.set("ENCRYPTED_USER",e)},get encryptedUser(){return o.default.get("ENCRYPTED_USER")},set secret(e){o.default.set("ENCRYPTED_KEY",e)},get secret(){return o.default.get("ENCRYPTED_KEY")},set idempotency(e){o.default.set("IDEMPOTENCY",e)},get idempotency(){return o.default.get("IDEMPOTENCY")},set allowCustomObjectId(e){o.default.set("ALLOW_CUSTOM_OBJECT_ID",e)},get allowCustomObjectId(){return o.default.get("ALLOW_CUSTOM_OBJECT_ID")}};u.ACL=d("./ParseACL").default,u.Analytics=d("./Analytics"),u.AnonymousUtils=d("./AnonymousUtils").default,u.Cloud=d("./Cloud"),u.CLP=d("./ParseCLP").default,u.CoreManager=d("./CoreManager"),u.Config=d("./ParseConfig").default,u.Error=d("./ParseError").default,u.EventuallyQueue=s.default,u.FacebookUtils=d("./FacebookUtils").default,u.File=d("./ParseFile").default,u.GeoPoint=d("./ParseGeoPoint").default,u.Polygon=d("./ParsePolygon").default,u.Installation=d("./ParseInstallation").default,u.LocalDatastore=d("./LocalDatastore"),u.Object=d("./ParseObject").default,u.Op={Set:e.SetOp,Unset:e.UnsetOp,Increment:e.IncrementOp,Add:e.AddOp,Remove:e.RemoveOp,AddUnique:e.AddUniqueOp,Relation:e.RelationOp},u.Push=d("./Push"),u.Query=d("./ParseQuery").default,u.Relation=d("./ParseRelation").default,u.Role=d("./ParseRole").default,u.Schema=d("./ParseSchema").default,u.Session=d("./ParseSession").default,u.Storage=d("./Storage"),u.User=d("./ParseUser").default,u.LiveQuery=d("./ParseLiveQuery").default,u.LiveQueryClient=d("./LiveQueryClient").default,u.IndexedDB=d("./IndexedDBStorageController"),u._request=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.default.getRESTController().request.apply(null,t)},u._ajax=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.default.getRESTController().ajax.apply(null,t)},u._decode=function(e,t){return(0,n.default)(t)},u._encode=function(e,t,n){return(0,r.default)(e,n)},u._getInstallationId=function(){return o.default.getInstallationController().currentInstallationId()},u.enableLocalDatastore=function(){u.LocalDatastore.isEnabled=!0},u.isLocalDatastoreEnabled=function(){return u.LocalDatastore.isEnabled},u.dumpLocalDatastore=function(){return u.LocalDatastore.isEnabled?u.LocalDatastore._getAllContents():(console.log("Parse.enableLocalDatastore() must be called first"),t.default.resolve({}))},u.enableEncryptedUser=function(){u.encryptedUser=!0},u.isEncryptedUserEnabled=function(){return u.encryptedUser},o.default.setCryptoController(i.default),o.default.setInstallationController(a.default),o.default.setRESTController(l.default),u.Parse=u,p.exports=u}.call(this)}.call(this,d("_process"))},{"./Analytics":1,"./AnonymousUtils":2,"./Cloud":3,"./CoreManager":4,"./CryptoController":5,"./EventuallyQueue":7,"./FacebookUtils":8,"./IndexedDBStorageController":9,"./InstallationController":10,"./LiveQueryClient":11,"./LocalDatastore":13,"./ParseACL":19,"./ParseCLP":20,"./ParseConfig":21,"./ParseError":22,"./ParseFile":23,"./ParseGeoPoint":24,"./ParseInstallation":25,"./ParseLiveQuery":26,"./ParseObject":27,"./ParseOp":28,"./ParsePolygon":29,"./ParseQuery":30,"./ParseRelation":31,"./ParseRole":32,"./ParseSchema":33,"./ParseSession":34,"./ParseUser":35,"./Push":36,"./RESTController":37,"./Storage":39,"./decode":45,"./encode":46,"@babel/runtime-corejs3/core-js-stable/promise":90,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/interopRequireWildcard":129,_process:499}],19:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("@babel/runtime-corejs3/core-js-stable/object/keys")),i=r(e("@babel/runtime-corejs3/helpers/typeof")),s=r(e("@babel/runtime-corejs3/helpers/classCallCheck")),a=r(e("@babel/runtime-corejs3/helpers/createClass")),l=r(e("@babel/runtime-corejs3/helpers/defineProperty")),u=r(e("./ParseRole")),c=r(e("./ParseUser"));function d(e){if((0,s.default)(this,d),(0,l.default)(this,"permissionsById",void 0),this.permissionsById={},e&&"object"===(0,i.default)(e))if(e instanceof c.default)this.setReadAccess(e,!0),this.setWriteAccess(e,!0);else for(var t in e){var n,r=e[t];for(n in this.permissionsById[t]={},r){var o=r[n];if("read"!==n&&"write"!==n)throw new TypeError("Tried to create an ACL with an invalid permission type.");if("boolean"!=typeof o)throw new TypeError("Tried to create an ACL with an invalid permission value.");this.permissionsById[t][n]=o}}else if("function"==typeof e)throw new TypeError("ParseACL constructed with a function. Did you forget ()?")}n.default=((0,a.default)(d,[{key:"toJSON",value:function(){var e,t={};for(e in this.permissionsById)t[e]=this.permissionsById[e];return t}},{key:"equals",value:function(e){if(!(e instanceof d))return!1;var t,n=(0,o.default)(this.permissionsById),r=(0,o.default)(e.permissionsById);if(n.length!==r.length)return!1;for(t in this.permissionsById){if(!e.permissionsById[t])return!1;if(this.permissionsById[t].read!==e.permissionsById[t].read)return!1;if(this.permissionsById[t].write!==e.permissionsById[t].write)return!1}return!0}},{key:"_setAccess",value:function(e,t,n){if(t instanceof c.default)t=t.id;else if(t instanceof u.default){var r=t.getName();if(!r)throw new TypeError("Role must have a name");t="role:"+r}if("string"!=typeof t)throw new TypeError("userId must be a string.");if("boolean"!=typeof n)throw new TypeError("allowed must be either true or false.");if(!(r=this.permissionsById[t])){if(!n)return;this.permissionsById[t]=r={}}n?this.permissionsById[t][e]=!0:(delete r[e],0===(0,o.default)(r).length&&delete this.permissionsById[t])}},{key:"_getAccess",value:function(e,t){if(t instanceof c.default){if(!(t=t.id))throw new Error("Cannot get access for a ParseUser without an ID")}else if(t instanceof u.default){var n=t.getName();if(!n)throw new TypeError("Role must have a name");t="role:"+n}return!!(t=this.permissionsById[t])&&!!t[e]}},{key:"setReadAccess",value:function(e,t){this._setAccess("read",e,t)}},{key:"getReadAccess",value:function(e){return this._getAccess("read",e)}},{key:"setWriteAccess",value:function(e,t){this._setAccess("write",e,t)}},{key:"getWriteAccess",value:function(e){return this._getAccess("write",e)}},{key:"setPublicReadAccess",value:function(e){this.setReadAccess("*",e)}},{key:"getPublicReadAccess",value:function(){return this.getReadAccess("*")}},{key:"setPublicWriteAccess",value:function(e){this.setWriteAccess("*",e)}},{key:"getPublicWriteAccess",value:function(){return this.getWriteAccess("*")}},{key:"getRoleReadAccess",value:function(e){if("string"!=typeof(e=e instanceof u.default?e.getName():e))throw new TypeError("role must be a ParseRole or a String");return this.getReadAccess("role:"+e)}},{key:"getRoleWriteAccess",value:function(e){if("string"!=typeof(e=e instanceof u.default?e.getName():e))throw new TypeError("role must be a ParseRole or a String");return this.getWriteAccess("role:"+e)}},{key:"setRoleReadAccess",value:function(e,t){if("string"!=typeof(e=e instanceof u.default?e.getName():e))throw new TypeError("role must be a ParseRole or a String");this.setReadAccess("role:"+e,t)}},{key:"setRoleWriteAccess",value:function(e,t){if("string"!=typeof(e=e instanceof u.default?e.getName():e))throw new TypeError("role must be a ParseRole or a String");this.setWriteAccess("role:"+e,t)}}]),d)},{"./ParseRole":32,"./ParseUser":35,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/object/keys":88,"@babel/runtime-corejs3/helpers/classCallCheck":121,"@babel/runtime-corejs3/helpers/createClass":123,"@babel/runtime-corejs3/helpers/defineProperty":124,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/typeof":141}],20:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault"),o=e("@babel/runtime-corejs3/core-js-stable/object/define-property"),i=e("@babel/runtime-corejs3/core-js-stable/object/define-properties"),s=e("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors"),a=e("@babel/runtime-corejs3/core-js-stable/instance/for-each"),l=e("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor"),u=e("@babel/runtime-corejs3/core-js-stable/instance/filter"),c=e("@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols"),d=e("@babel/runtime-corejs3/core-js-stable/object/keys"),p=e("@babel/runtime-corejs3/core-js/get-iterator"),h=e("@babel/runtime-corejs3/core-js-stable/array/is-array"),f=e("@babel/runtime-corejs3/core-js/get-iterator-method"),m=e("@babel/runtime-corejs3/core-js-stable/symbol"),b=e("@babel/runtime-corejs3/core-js-stable/array/from"),g=e("@babel/runtime-corejs3/core-js-stable/instance/slice");o(n,"__esModule",{value:!0}),n.default=void 0;var v=r(e("@babel/runtime-corejs3/core-js-stable/array/is-array")),y=r(e("@babel/runtime-corejs3/core-js-stable/object/keys")),w=r(e("@babel/runtime-corejs3/core-js-stable/instance/slice")),x=r(e("@babel/runtime-corejs3/core-js-stable/object/assign")),j=r(e("@babel/runtime-corejs3/helpers/slicedToArray")),C=r(e("@babel/runtime-corejs3/core-js-stable/instance/entries")),E=r(e("@babel/runtime-corejs3/core-js-stable/instance/every")),_=r(e("@babel/runtime-corejs3/core-js-stable/instance/includes")),R=r(e("@babel/runtime-corejs3/helpers/typeof")),k=r(e("@babel/runtime-corejs3/helpers/classCallCheck")),S=r(e("@babel/runtime-corejs3/helpers/createClass")),T=r(e("@babel/runtime-corejs3/helpers/defineProperty")),A=r(e("@babel/runtime-corejs3/core-js-stable/map")),P=r(e("./ParseRole")),M=r(e("./ParseUser"));function D(t,e){var n,r=d(t);return c&&(n=c(t),e&&(n=u(n).call(n,function(e){return l(t,e).enumerable})),r.push.apply(r,n)),r}function L(e,t){var n;if(void 0===m||null==f(e)){if(h(e)||(n=function(e){if(e){if("string"==typeof e)return O(e,void 0);var t=g(t=Object.prototype.toString.call(e)).call(t,8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?b(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?O(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=p(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=new A.default;I.set("get",{}),I.set("find",{}),I.set("count",{}),I.set("create",{}),I.set("update",{}),I.set("delete",{}),I.set("addField",{});var N=new A.default;function F(e){var t=this;(0,k.default)(this,F),(0,T.default)(this,"permissionsMap",void 0),this.permissionsMap={};var o,n=L((0,C.default)(I).call(I));try{for(n.s();!(o=n.n()).done;)!function(){var n=(e=(0,j.default)(o.value,2))[0],e=e[1];t.permissionsMap[n]=(0,x.default)({},e);var r=n.charAt(0).toUpperCase()+(0,w.default)(n).call(n,1);t["get".concat(r,"RequiresAuthentication")]=function(){return this._getAccess(n,"requiresAuthentication")},t["set".concat(r,"RequiresAuthentication")]=function(e){this._setAccess(n,"requiresAuthentication",e)},t["get".concat(r,"PointerFields")]=function(){return this._getAccess(n,"pointerFields",!1)},t["set".concat(r,"PointerFields")]=function(e){this._setArrayAccess(n,"pointerFields",e)},t["get".concat(r,"Access")]=function(e){return this._getAccess(n,e)},t["set".concat(r,"Access")]=function(e,t){this._setAccess(n,e,t)},t["getPublic".concat(r,"Access")]=function(){return this["get".concat(r,"Access")]("*")},t["setPublic".concat(r,"Access")]=function(e){this["set".concat(r,"Access")]("*",e)},t["getRole".concat(r,"Access")]=function(e){return this["get".concat(r,"Access")](this._getRoleName(e))},t["setRole".concat(r,"Access")]=function(e,t){this["set".concat(r,"Access")](this._getRoleName(e),t)}}()}catch(e){n.e(e)}finally{n.f()}var r,i=L((0,C.default)(N).call(N));try{for(i.s();!(r=i.n()).done;){var s=(0,j.default)(r.value,2),a=s[0],l=s[1];this.permissionsMap[a]=(0,x.default)({},l)}}catch(e){i.e(e)}finally{i.f()}if(e&&"object"===(0,R.default)(e))if(e instanceof M.default)this.setReadAccess(e,!0),this.setWriteAccess(e,!0);else if(e instanceof P.default)this.setRoleReadAccess(e,!0),this.setRoleWriteAccess(e,!0);else for(var u in e){var c,d=e[u],p=!!I.get(u),h=!!N.get(u),f=(0,_.default)(f=["readUserFields","writeUserFields"]).call(f,u);if("string"!=typeof u||!(p||h||f))throw new TypeError("Tried to create an CLP with an invalid permission type.");if(f){if((0,E.default)(d).call(d,function(e){return"string"==typeof e})){this.permissionsMap[u]=d;continue}throw new TypeError("Tried to create an CLP with an invalid permission value.")}for(c in d){var m=d[c];if("boolean"!=typeof m&&!h&&"pointerFields"!==c)throw new TypeError("Tried to create an CLP with an invalid permission value.");this.permissionsMap[u][c]=m}}else if("function"==typeof e)throw new TypeError("ParseCLP constructed with a function. Did you forget ()?")}N.set("protectedFields",{}),n.default=((0,S.default)(F,[{key:"toJSON",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};e%2?a(n=D(Object(r),!0)).call(n,function(e){(0,T.default)(t,e,r[e])}):s?i(t,s(r)):a(n=D(Object(r))).call(n,function(e){o(t,e,l(r,e))})}return t}({},this.permissionsMap)}},{key:"equals",value:function(e){if(!(e instanceof F))return!1;var t,n=(0,y.default)(this.permissionsMap),r=(0,y.default)(e.permissionsMap);if(n.length!==r.length)return!1;for(t in this.permissionsMap){if(!e.permissionsMap[t])return!1;var o,i=(0,y.default)(this.permissionsMap[t]),s=(0,y.default)(e.permissionsMap[t]);if(i.length!==s.length)return!1;for(o in this.permissionsMap[t]){if(!e.permissionsMap[t][o])return!1;if(this.permissionsMap[t][o]!==e.permissionsMap[t][o])return!1}}return!0}},{key:"_getRoleName",value:function(e){var t=e;if("string"!=typeof(t=e instanceof P.default?e.getName():t))throw new TypeError("role must be a Parse.Role or a String");return"role:".concat(t)}},{key:"_parseEntity",value:function(e){if(e instanceof M.default){if(!(e=e.id))throw new Error("Cannot get access for a Parse.User without an id.")}else e instanceof P.default&&(e=this._getRoleName(e));if("string"!=typeof e)throw new TypeError("userId must be a string.");return e}},{key:"_setAccess",value:function(e,t,n){if(t=this._parseEntity(t),"boolean"!=typeof n)throw new TypeError("allowed must be either true or false.");if(!this.permissionsMap[e][t]){if(!n)return;this.permissionsMap[e][t]={}}n?this.permissionsMap[e][t]=!0:delete this.permissionsMap[e][t]}},{key:"_getAccess",value:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];t=this._parseEntity(t);var r=this.permissionsMap[e][t];return n?!!r&&!!this.permissionsMap[e][t]:r}},{key:"_setArrayAccess",value:function(e,t,n){if(t=this._parseEntity(t),this.permissionsMap[e][t]||(this.permissionsMap[e][t]=[]),!n||(0,v.default)(n)&&0===n.length)delete this.permissionsMap[e][t];else{if(!(0,v.default)(n)||!(0,E.default)(n).call(n,function(e){return"string"==typeof e}))throw new TypeError("fields must be an array of strings or undefined.");this.permissionsMap[e][t]=n}}},{key:"_setGroupPointerPermission",value:function(e,t){if(this.permissionsMap[e]||(this.permissionsMap[e]=[]),!t||(0,v.default)(t)&&0===t.length)delete this.permissionsMap[e];else{if(!(0,v.default)(t)||!(0,E.default)(t).call(t,function(e){return"string"==typeof e}))throw new TypeError("".concat(e,".pointerFields must be an array of strings or undefined."));this.permissionsMap[e]=t}}},{key:"_getGroupPointerPermissions",value:function(e){return this.permissionsMap[e]}},{key:"setReadUserFields",value:function(e){this._setGroupPointerPermission("readUserFields",e)}},{key:"getReadUserFields",value:function(){return this._getGroupPointerPermissions("readUserFields")}},{key:"setWriteUserFields",value:function(e){this._setGroupPointerPermission("writeUserFields",e)}},{key:"getWriteUserFields",value:function(){return this._getGroupPointerPermissions("writeUserFields")}},{key:"setProtectedFields",value:function(e,t){this._setArrayAccess("protectedFields",e,t)}},{key:"getProtectedFields",value:function(e){return this._getAccess("protectedFields",e,!1)}},{key:"setReadAccess",value:function(e,t){this._setAccess("find",e,t),this._setAccess("get",e,t),this._setAccess("count",e,t)}},{key:"getReadAccess",value:function(e){return this._getAccess("find",e)&&this._getAccess("get",e)&&this._getAccess("count",e)}},{key:"setWriteAccess",value:function(e,t){this._setAccess("create",e,t),this._setAccess("update",e,t),this._setAccess("delete",e,t),this._setAccess("addField",e,t)}},{key:"getWriteAccess",value:function(e){return this._getAccess("create",e)&&this._getAccess("update",e)&&this._getAccess("delete",e)&&this._getAccess("addField",e)}},{key:"setPublicReadAccess",value:function(e){this.setReadAccess("*",e)}},{key:"getPublicReadAccess",value:function(){return this.getReadAccess("*")}},{key:"setPublicWriteAccess",value:function(e){this.setWriteAccess("*",e)}},{key:"getPublicWriteAccess",value:function(){return this.getWriteAccess("*")}},{key:"setPublicProtectedFields",value:function(e){this.setProtectedFields("*",e)}},{key:"getPublicProtectedFields",value:function(){return this.getProtectedFields("*")}},{key:"getRoleReadAccess",value:function(e){return this.getReadAccess(this._getRoleName(e))}},{key:"getRoleWriteAccess",value:function(e){return this.getWriteAccess(this._getRoleName(e))}},{key:"setRoleReadAccess",value:function(e,t){this.setReadAccess(this._getRoleName(e),t)}},{key:"setRoleWriteAccess",value:function(e,t){this.setWriteAccess(this._getRoleName(e),t)}},{key:"getRoleProtectedFields",value:function(e){return this.getProtectedFields(this._getRoleName(e))}},{key:"setRoleProtectedFields",value:function(e,t){this.setProtectedFields(this._getRoleName(e),t)}}]),F)},{"./ParseRole":32,"./ParseUser":35,"@babel/runtime-corejs3/core-js-stable/array/from":55,"@babel/runtime-corejs3/core-js-stable/array/is-array":56,"@babel/runtime-corejs3/core-js-stable/instance/entries":59,"@babel/runtime-corejs3/core-js-stable/instance/every":60,"@babel/runtime-corejs3/core-js-stable/instance/filter":61,"@babel/runtime-corejs3/core-js-stable/instance/for-each":64,"@babel/runtime-corejs3/core-js-stable/instance/includes":65,"@babel/runtime-corejs3/core-js-stable/instance/slice":70,"@babel/runtime-corejs3/core-js-stable/map":76,"@babel/runtime-corejs3/core-js-stable/object/assign":78,"@babel/runtime-corejs3/core-js-stable/object/define-properties":80,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor":84,"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors":85,"@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols":86,"@babel/runtime-corejs3/core-js-stable/object/keys":88,"@babel/runtime-corejs3/core-js-stable/symbol":95,"@babel/runtime-corejs3/core-js/get-iterator":100,"@babel/runtime-corejs3/core-js/get-iterator-method":99,"@babel/runtime-corejs3/helpers/classCallCheck":121,"@babel/runtime-corejs3/helpers/createClass":123,"@babel/runtime-corejs3/helpers/defineProperty":124,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/slicedToArray":138,"@babel/runtime-corejs3/helpers/typeof":141}],21:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("@babel/runtime-corejs3/core-js-stable/json/stringify")),i=r(e("@babel/runtime-corejs3/helpers/typeof")),s=r(e("@babel/runtime-corejs3/core-js-stable/promise")),a=r(e("@babel/runtime-corejs3/helpers/classCallCheck")),l=r(e("@babel/runtime-corejs3/helpers/createClass")),u=r(e("@babel/runtime-corejs3/helpers/defineProperty")),c=r(e("./CoreManager")),d=r(e("./decode")),p=r(e("./encode")),h=r(e("./escape")),f=r(e("./ParseError")),m=r(e("./Storage")),b=((0,l.default)(y,[{key:"get",value:function(e){return this.attributes[e]}},{key:"escape",value:function(e){if(n=this._escapedAttributes[e])return n;var t=this.attributes[e],n="";return null!=t&&(n=(0,h.default)(t.toString())),this._escapedAttributes[e]=n}}],[{key:"current",value:function(){return c.default.getConfigController().current()}},{key:"get",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return c.default.getConfigController().get(e)}},{key:"save",value:function(e,t){var n=c.default.getConfigController();return n.save(e,t).then(function(){return n.get({useMasterKey:!0})},function(e){return s.default.reject(e)})}},{key:"_clearCache",value:function(){g=null}}]),y),g=null,v="currentConfig";function y(){(0,a.default)(this,y),(0,u.default)(this,"attributes",void 0),(0,u.default)(this,"_escapedAttributes",void 0),this.attributes={},this._escapedAttributes={}}function w(e){try{var t=JSON.parse(e);if(t&&"object"===(0,i.default)(t))return(0,d.default)(t)}catch(e){return null}}e={current:function(){if(g)return g;var t=new b,e=m.default.generatePath(v);return m.default.async()?m.default.getItemAsync(e).then(function(e){return!e||(e=w(e))&&(t.attributes=e,g=t),t}):(!(e=m.default.getItem(e))||(e=w(e))&&(t.attributes=e,g=t),t)},get:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return c.default.getRESTController().request("GET","config",{},e).then(function(e){if(!e||!e.params){var t=new f.default(f.default.INVALID_JSON,"Config JSON response invalid.");return s.default.reject(t)}var n,r=new b;for(n in r.attributes={},e.params)r.attributes[n]=(0,d.default)(e.params[n]);return g=r,m.default.setItemAsync(m.default.generatePath(v),(0,o.default)(e.params)).then(function(){return r})})},save:function(e,t){var n,r=c.default.getRESTController(),o={};for(n in e)o[n]=(0,p.default)(e[n]);return r.request("PUT","config",{params:o,masterKeyOnly:t},{useMasterKey:!0}).then(function(e){return e&&e.result?s.default.resolve():(e=new f.default(f.default.INTERNAL_SERVER_ERROR,"Error occured updating Config."),s.default.reject(e))})}},c.default.setConfigController(e),n.default=b},{"./CoreManager":4,"./ParseError":22,"./Storage":39,"./decode":45,"./encode":46,"./escape":48,"@babel/runtime-corejs3/core-js-stable/json/stringify":75,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/promise":90,"@babel/runtime-corejs3/helpers/classCallCheck":121,"@babel/runtime-corejs3/helpers/createClass":123,"@babel/runtime-corejs3/helpers/defineProperty":124,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/typeof":141}],22:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault"),o=e("@babel/runtime-corejs3/core-js-stable/object/define-property"),s=e("@babel/runtime-corejs3/core-js-stable/reflect/construct");o(n,"__esModule",{value:!0}),n.default=void 0;var a=r(e("@babel/runtime-corejs3/core-js-stable/object/define-property")),l=r(e("@babel/runtime-corejs3/helpers/classCallCheck")),u=r(e("@babel/runtime-corejs3/helpers/createClass")),c=r(e("@babel/runtime-corejs3/helpers/assertThisInitialized")),d=r(e("@babel/runtime-corejs3/helpers/inherits")),p=r(e("@babel/runtime-corejs3/helpers/possibleConstructorReturn")),h=r(e("@babel/runtime-corejs3/helpers/getPrototypeOf"));(e=function(e){(0,d.default)(i,e);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!s)return!1;if(s.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,h.default)(n),t=r?(e=(0,h.default)(this).constructor,s(t,arguments,e)):t.apply(this,arguments);return(0,p.default)(this,t)});function i(e,t){var n;return(0,l.default)(this,i),(n=o.call(this,t)).code=e,(0,a.default)((0,c.default)(n),"message",{enumerable:!0,value:t}),n}return(0,u.default)(i,[{key:"toString",value:function(){return"ParseError: "+this.code+" "+this.message}}]),i}((0,r(e("@babel/runtime-corejs3/helpers/wrapNativeSuper")).default)(Error))).OTHER_CAUSE=-1,e.INTERNAL_SERVER_ERROR=1,e.CONNECTION_FAILED=100,e.OBJECT_NOT_FOUND=101,e.INVALID_QUERY=102,e.INVALID_CLASS_NAME=103,e.MISSING_OBJECT_ID=104,e.INVALID_KEY_NAME=105,e.INVALID_POINTER=106,e.INVALID_JSON=107,e.COMMAND_UNAVAILABLE=108,e.NOT_INITIALIZED=109,e.INCORRECT_TYPE=111,e.INVALID_CHANNEL_NAME=112,e.PUSH_MISCONFIGURED=115,e.OBJECT_TOO_LARGE=116,e.OPERATION_FORBIDDEN=119,e.CACHE_MISS=120,e.INVALID_NESTED_KEY=121,e.INVALID_FILE_NAME=122,e.INVALID_ACL=123,e.TIMEOUT=124,e.INVALID_EMAIL_ADDRESS=125,e.MISSING_CONTENT_TYPE=126,e.MISSING_CONTENT_LENGTH=127,e.INVALID_CONTENT_LENGTH=128,e.FILE_TOO_LARGE=129,e.FILE_SAVE_ERROR=130,e.DUPLICATE_VALUE=137,e.INVALID_ROLE_NAME=139,e.EXCEEDED_QUOTA=140,e.SCRIPT_FAILED=141,e.VALIDATION_ERROR=142,e.INVALID_IMAGE_DATA=143,e.UNSAVED_FILE_ERROR=151,e.INVALID_PUSH_TIME_ERROR=152,e.FILE_DELETE_ERROR=153,e.FILE_DELETE_UNNAMED_ERROR=161,e.REQUEST_LIMIT_EXCEEDED=155,e.DUPLICATE_REQUEST=159,e.INVALID_EVENT_NAME=160,e.INVALID_VALUE=162,e.USERNAME_MISSING=200,e.PASSWORD_MISSING=201,e.USERNAME_TAKEN=202,e.EMAIL_TAKEN=203,e.EMAIL_MISSING=204,e.EMAIL_NOT_FOUND=205,e.SESSION_MISSING=206,e.MUST_CREATE_USER_THROUGH_SIGNUP=207,e.ACCOUNT_ALREADY_LINKED=208,e.INVALID_SESSION_TOKEN=209,e.MFA_ERROR=210,e.MFA_TOKEN_REQUIRED=211,e.LINKED_ID_MISSING=250,e.INVALID_LINKED_SESSION=251,e.UNSUPPORTED_SERVICE=252,e.INVALID_SCHEMA_OPERATION=255,e.AGGREGATE_ERROR=600,e.FILE_READ_ERROR=601,e.X_DOMAIN_REQUEST=602,n.default=e},{"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/reflect/construct":91,"@babel/runtime-corejs3/helpers/assertThisInitialized":119,"@babel/runtime-corejs3/helpers/classCallCheck":121,"@babel/runtime-corejs3/helpers/createClass":123,"@babel/runtime-corejs3/helpers/getPrototypeOf":126,"@babel/runtime-corejs3/helpers/inherits":127,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/possibleConstructorReturn":136,"@babel/runtime-corejs3/helpers/wrapNativeSuper":143}],23:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault"),o=e("@babel/runtime-corejs3/core-js-stable/object/define-property"),i=e("@babel/runtime-corejs3/core-js-stable/object/define-properties"),s=e("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors"),a=e("@babel/runtime-corejs3/core-js-stable/instance/for-each"),l=e("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor"),u=e("@babel/runtime-corejs3/core-js-stable/instance/filter"),c=e("@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols"),d=e("@babel/runtime-corejs3/core-js-stable/object/keys");o(n,"__esModule",{value:!0}),n.default=void 0;var p=r(e("@babel/runtime-corejs3/helpers/slicedToArray")),h=r(e("@babel/runtime-corejs3/core-js-stable/promise")),f=r(e("@babel/runtime-corejs3/core-js-stable/object/keys")),m=r(e("@babel/runtime-corejs3/core-js-stable/instance/for-each")),b=r(e("@babel/runtime-corejs3/helpers/typeof")),g=r(e("@babel/runtime-corejs3/regenerator")),v=r(e("@babel/runtime-corejs3/helpers/asyncToGenerator")),y=r(e("@babel/runtime-corejs3/core-js-stable/instance/slice")),w=r(e("@babel/runtime-corejs3/core-js-stable/instance/index-of")),x=r(e("@babel/runtime-corejs3/core-js-stable/array/is-array")),j=r(e("@babel/runtime-corejs3/helpers/classCallCheck")),C=r(e("@babel/runtime-corejs3/helpers/createClass")),E=r(e("@babel/runtime-corejs3/helpers/defineProperty")),_=r(e("./CoreManager"));function R(t,e){var n,r=d(t);return c&&(n=c(t),e&&(n=u(n).call(n,function(e){return l(t,e).enumerable})),r.push.apply(r,n)),r}function k(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};e%2?a(n=R(Object(r),!0)).call(n,function(e){(0,E.default)(t,e,r[e])}):s?i(t,s(r)):a(n=R(Object(r))).call(n,function(e){o(t,e,l(r,e))})}return t}var S=e("./ParseError").default,T=null;"undefined"!=typeof XMLHttpRequest&&(T=XMLHttpRequest);var A=/^data:([a-zA-Z]+\/[-a-zA-Z0-9+.]+)(;charset=[a-zA-Z0-9\-\/]*)?;base64,/;function P(e){if(e<26)return String.fromCharCode(65+e);if(e<52)return String.fromCharCode(e-26+97);if(e<62)return String.fromCharCode(e-52+48);if(62===e)return"+";if(63===e)return"/";throw new TypeError("Tried to encode large digit "+e+" in base64.")}var M,D,L=((0,C.default)(I,[{key:"getData",value:(D=(0,v.default)(g.default.mark(function e(){var t,n,r=this;return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._data)return e.abrupt("return",this._data);e.next=2;break;case 2:if(this._url){e.next=4;break}throw new Error("Cannot retrieve data for unsaved ParseFile.");case 4:return n={requestTask:function(e){return r._requestTask=e}},t=_.default.getFileController(),e.next=8,t.download(this._url,n);case 8:return n=e.sent,this._data=n.base64,e.abrupt("return",this._data);case 11:case"end":return e.stop()}},e,this)})),function(){return D.apply(this,arguments)})},{key:"name",value:function(){return this._name}},{key:"url",value:function(e){if(e=e||{},this._url)return e.forceSecure?this._url.replace(/^http:\/\//i,"https://"):this._url}},{key:"metadata",value:function(){return this._metadata}},{key:"tags",value:function(){return this._tags}},{key:"save",value:function(n){var r=this;(n=n||{}).requestTask=function(e){return r._requestTask=e},n.metadata=this._metadata,n.tags=this._tags;var o=_.default.getFileController();if(this._previousSave||("file"===this._source.format?this._previousSave=o.saveFile(this._name,this._source,n).then(function(e){return r._name=e.name,r._url=e.url,r._data=null,r._requestTask=null,r}):"uri"===this._source.format?this._previousSave=o.download(this._source.uri,n).then(function(e){if(!e||!e.base64)return{};var t={format:"base64",base64:e.base64,type:e.contentType};return r._data=e.base64,r._requestTask=null,o.saveBase64(r._name,t,n)}).then(function(e){return r._name=e.name,r._url=e.url,r._requestTask=null,r}):this._previousSave=o.saveBase64(this._name,this._source,n).then(function(e){return r._name=e.name,r._url=e.url,r._requestTask=null,r})),this._previousSave)return this._previousSave}},{key:"cancel",value:function(){this._requestTask&&"function"==typeof this._requestTask.abort&&this._requestTask.abort(),this._requestTask=null}},{key:"destroy",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!this._name)throw new S(S.FILE_DELETE_UNNAMED_ERROR,"Cannot delete an unnamed file.");var n={useMasterKey:!0};return t.hasOwnProperty("useMasterKey")&&(n.useMasterKey=t.useMasterKey),_.default.getFileController().deleteFile(this._name,n).then(function(){return e._data=null,e._requestTask=null,e})}},{key:"toJSON",value:function(){return{__type:"File",name:this._name,url:this._url}}},{key:"equals",value:function(e){return this===e||e instanceof I&&this.name()===e.name()&&this.url()===e.url()&&void 0!==this.url()}},{key:"setMetadata",value:function(t){var e,n=this;t&&"object"===(0,b.default)(t)&&(0,m.default)(e=(0,f.default)(t)).call(e,function(e){n.addMetadata(e,t[e])})}},{key:"addMetadata",value:function(e,t){"string"==typeof e&&(this._metadata[e]=t)}},{key:"setTags",value:function(t){var e,n=this;t&&"object"===(0,b.default)(t)&&(0,m.default)(e=(0,f.default)(t)).call(e,function(e){n.addTag(e,t[e])})}},{key:"addTag",value:function(e,t){"string"==typeof e&&(this._tags[e]=t)}}],[{key:"fromJSON",value:function(e){if("File"!==e.__type)throw new TypeError("JSON object does not represent a ParseFile");var t=new I(e.name);return t._url=e.url,t}},{key:"encodeBase64",value:function(e){var t=[];t.length=Math.ceil(e.length/3);for(var n=0;n<t.length;n++){var r=e[3*n],o=e[3*n+1]||0,i=e[3*n+2]||0,s=3*n+1<e.length,a=3*n+2<e.length;t[n]=[P(r>>2&63),P(r<<4&48|o>>4&15),s?P(o<<2&60|i>>6&3):"=",a?P(63&i):"="].join("")}return t.join("")}}]),I),O={saveFile:(M=(0,v.default)(g.default.mark(function e(t,r,n){var o,i;return g.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("file"!==r.format)throw new Error("saveFile can only be used with File-type sources.");e.next=2;break;case 2:return e.next=4,new h.default(function(e,t){var n=new FileReader;n.onload=function(){return e(n.result)},n.onerror=function(e){return t(e)},n.readAsDataURL(r.file)});case 4:return o=e.sent,i=o.split(","),o=(0,p.default)(i,2),i=o[0],o=o[1],i={format:"base64",base64:o||i,type:r.type||(r.file?r.file.type:null)},e.next=10,O.saveBase64(t,i,n);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e)})),function(){return M.apply(this,arguments)}),saveBase64:function(e,t,n){if("base64"!==t.format)throw new Error("saveBase64 can only be used with Base64-type sources.");var r={base64:t.base64,fileData:{metadata:k({},n.metadata),tags:k({},n.tags)}};return delete n.metadata,delete n.tags,t.type&&(r._ContentType=t.type),_.default.getRESTController().request("POST","files/"+e,r,n)},download:function(e,t){return T?this.downloadAjax(e,t):h.default.reject("Cannot make a request: No definition of XMLHttpRequest was found.")},downloadAjax:function(e,o){return new h.default(function(t,n){var r=new T;r.open("GET",e,!0),r.responseType="arraybuffer",r.onerror=function(e){n(e)},r.onreadystatechange=function(){if(r.readyState===r.DONE){if(!this.response)return t({});var e=new Uint8Array(this.response);t({base64:L.encodeBase64(e),contentType:r.getResponseHeader("content-type")})}},o.requestTask(r),r.send()})},deleteFile:function(e,t){var n={"X-Parse-Application-ID":_.default.get("APPLICATION_ID")};return t.useMasterKey&&(n["X-Parse-Master-Key"]=_.default.get("MASTER_KEY")),"/"!==(t=_.default.get("SERVER_URL"))[t.length-1]&&(t+="/"),t+="files/"+e,_.default.getRESTController().ajax("DELETE",t,"",n).catch(function(e){return e&&"SyntaxError: Unexpected end of JSON input"!==e?_.default.getRESTController().handleError(e):h.default.resolve()})},_setXHR:function(e){T=e},_getXHR:function(){return T}};function I(e,t,n,r,o){if((0,j.default)(this,I),(0,E.default)(this,"_name",void 0),(0,E.default)(this,"_url",void 0),(0,E.default)(this,"_source",void 0),(0,E.default)(this,"_previousSave",void 0),(0,E.default)(this,"_data",void 0),(0,E.default)(this,"_requestTask",void 0),(0,E.default)(this,"_metadata",void 0),(0,E.default)(this,"_tags",void 0),n=n||"",this._name=e,this._metadata=r||{},this._tags=o||{},void 0!==t)if((0,x.default)(t))this._data=I.encodeBase64(t),this._source={format:"base64",base64:this._data,type:n};else if("undefined"!=typeof Blob&&t instanceof Blob)this._source={format:"file",file:t,type:n};else if(t&&"string"==typeof t.uri&&void 0!==t.uri)this._source={format:"uri",uri:t.uri,type:n};else{if(!t||"string"!=typeof t.base64)throw new TypeError("Cannot create a Parse.File with that data.");r=t.base64,-1!==(o=(0,w.default)(r).call(r,","))?(t=A.exec((0,y.default)(r).call(r,0,o+1)),this._data=(0,y.default)(r).call(r,o+1),this._source={format:"base64",base64:this._data,type:t[1]}):(this._data=r,this._source={format:"base64",base64:r,type:n})}}_.default.setFileController(O),n.default=L,n.b64Digit=P},{"./CoreManager":4,"./ParseError":22,"@babel/runtime-corejs3/core-js-stable/array/is-array":56,"@babel/runtime-corejs3/core-js-stable/instance/filter":61,"@babel/runtime-corejs3/core-js-stable/instance/for-each":64,"@babel/runtime-corejs3/core-js-stable/instance/index-of":66,"@babel/runtime-corejs3/core-js-stable/instance/slice":70,"@babel/runtime-corejs3/core-js-stable/object/define-properties":80,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor":84,"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors":85,"@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols":86,"@babel/runtime-corejs3/core-js-stable/object/keys":88,"@babel/runtime-corejs3/core-js-stable/promise":90,"@babel/runtime-corejs3/helpers/asyncToGenerator":120,"@babel/runtime-corejs3/helpers/classCallCheck":121,"@babel/runtime-corejs3/helpers/createClass":123,"@babel/runtime-corejs3/helpers/defineProperty":124,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/slicedToArray":138,"@babel/runtime-corejs3/helpers/typeof":141,"@babel/runtime-corejs3/regenerator":498}],24:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("@babel/runtime-corejs3/helpers/typeof")),i=r(e("@babel/runtime-corejs3/core-js-stable/array/is-array")),s=r(e("@babel/runtime-corejs3/helpers/classCallCheck")),a=r(e("@babel/runtime-corejs3/helpers/createClass")),l=r(e("@babel/runtime-corejs3/helpers/defineProperty"));function u(e,t){(0,s.default)(this,u),(0,l.default)(this,"_latitude",void 0),(0,l.default)(this,"_longitude",void 0),(0,i.default)(e)?(u._validate(e[0],e[1]),this._latitude=e[0],this._longitude=e[1]):"object"===(0,o.default)(e)?(u._validate(e.latitude,e.longitude),this._latitude=e.latitude,this._longitude=e.longitude):void 0!==e&&void 0!==t?(u._validate(e,t),this._latitude=e,this._longitude=t):(this._latitude=0,this._longitude=0)}n.default=((0,a.default)(u,[{key:"latitude",get:function(){return this._latitude},set:function(e){u._validate(e,this.longitude),this._latitude=e}},{key:"longitude",get:function(){return this._longitude},set:function(e){u._validate(this.latitude,e),this._longitude=e}},{key:"toJSON",value:function(){return u._validate(this._latitude,this._longitude),{__type:"GeoPoint",latitude:this._latitude,longitude:this._longitude}}},{key:"equals",value:function(e){return e instanceof u&&this.latitude===e.latitude&&this.longitude===e.longitude}},{key:"radiansTo",value:function(e){var t=Math.PI/180,n=this.latitude*t,r=this.longitude*t,o=e.latitude*t,e=e.longitude*t,t=Math.sin((n-o)/2),e=Math.sin((r-e)/2),e=t*t+Math.cos(n)*Math.cos(o)*e*e,e=Math.min(1,e);return 2*Math.asin(Math.sqrt(e))}},{key:"kilometersTo",value:function(e){return 6371*this.radiansTo(e)}},{key:"milesTo",value:function(e){return 3958.8*this.radiansTo(e)}}],[{key:"_validate",value:function(e,t){if(isNaN(e)||isNaN(t)||"number"!=typeof e||"number"!=typeof t)throw new TypeError("GeoPoint latitude and longitude must be valid numbers");if(e<-90)throw new TypeError("GeoPoint latitude out of bounds: "+e+" < -90.0.");if(90<e)throw new TypeError("GeoPoint latitude out of bounds: "+e+" > 90.0.");if(t<-180)throw new TypeError("GeoPoint longitude out of bounds: "+t+" < -180.0.");if(180<t)throw new TypeError("GeoPoint longitude out of bounds: "+t+" > 180.0.")}},{key:"current",value:function(){return navigator.geolocation.getCurrentPosition(function(e){return new u(e.coords.latitude,e.coords.longitude)})}}]),u)},{"@babel/runtime-corejs3/core-js-stable/array/is-array":56,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/helpers/classCallCheck":121,"@babel/runtime-corejs3/helpers/createClass":123,"@babel/runtime-corejs3/helpers/defineProperty":124,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/typeof":141}],25:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault"),o=e("@babel/runtime-corejs3/core-js-stable/object/define-property"),s=e("@babel/runtime-corejs3/core-js-stable/reflect/construct");o(n,"__esModule",{value:!0}),n.default=void 0;var a=r(e("@babel/runtime-corejs3/helpers/typeof")),l=r(e("@babel/runtime-corejs3/helpers/classCallCheck")),u=r(e("@babel/runtime-corejs3/helpers/inherits")),c=r(e("@babel/runtime-corejs3/helpers/possibleConstructorReturn")),d=r(e("@babel/runtime-corejs3/helpers/getPrototypeOf"));e=function(e){(0,u.default)(i,e);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!s)return!1;if(s.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,d.default)(n),t=r?(e=(0,d.default)(this).constructor,s(t,arguments,e)):t.apply(this,arguments);return(0,c.default)(this,t)});function i(e){var t;if((0,l.default)(this,i),t=o.call(this,"_Installation"),e&&"object"===(0,a.default)(e)&&!t.set(e||{}))throw new Error("Can't create an invalid Installation");return t}return i}((r=r(e("./ParseObject"))).default),n.default=e,r.default.registerSubclass("_Installation",e)},{"./ParseObject":27,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/reflect/construct":91,"@babel/runtime-corejs3/helpers/classCallCheck":121,"@babel/runtime-corejs3/helpers/getPrototypeOf":126,"@babel/runtime-corejs3/helpers/inherits":127,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/possibleConstructorReturn":136,"@babel/runtime-corejs3/helpers/typeof":141}],26:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=void 0;var a=r(e("@babel/runtime-corejs3/core-js-stable/instance/index-of")),l=r(e("@babel/runtime-corejs3/core-js-stable/promise")),u=r(e("@babel/runtime-corejs3/helpers/slicedToArray")),c=r(e("@babel/runtime-corejs3/regenerator")),o=r(e("@babel/runtime-corejs3/helpers/asyncToGenerator")),i=r(e("./EventEmitter")),d=r(e("./LiveQueryClient")),p=r(e("./CoreManager"));function s(){return p.default.getLiveQueryController().getDefaultLiveQueryClient()}var h,f=new i.default;f.open=(0,o.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:e.sent.open();case 4:case"end":return e.stop()}},e)})),f.close=(0,o.default)(c.default.mark(function e(){return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:e.sent.close();case 4:case"end":return e.stop()}},e)})),f.on("error",function(){}),n.default=f,n={setDefaultLiveQueryClient:function(e){h=e},getDefaultLiveQueryClient:function(){return(0,o.default)(c.default.mark(function e(){var t,n,r,o,i,s;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h)return e.abrupt("return",h);e.next=2;break;case 2:return e.next=4,l.default.all([p.default.getUserController().currentUserAsync(),p.default.getInstallationController().currentInstallationId()]);case 4:if(t=e.sent,n=(0,u.default)(t,2),r=n[0],t=n[1],n=r?r.getSessionToken():void 0,(r=p.default.get("LIVEQUERY_SERVER_URL"))&&0!==(0,a.default)(r).call(r,"ws"))throw new Error("You need to set a proper Parse LiveQuery server url before using LiveQueryClient");e.next=12;break;case 12:return r||(o=p.default.get("SERVER_URL"),i=0===(0,a.default)(o).call(o,"https")?"wss://":"ws://",s=o.replace(/^https?:\/\//,""),r=i+s,p.default.set("LIVEQUERY_SERVER_URL",r)),o=p.default.get("APPLICATION_ID"),i=p.default.get("JAVASCRIPT_KEY"),s=p.default.get("MASTER_KEY"),(h=new d.default({applicationId:o,serverURL:r,javascriptKey:i,masterKey:s,sessionToken:n,installationId:t})).on("error",function(e){f.emit("error",e)}),h.on("open",function(){f.emit("open")}),h.on("close",function(){f.emit("close")}),e.abrupt("return",h);case 21:case"end":return e.stop()}},e)}))()},_clearCachedDefaultClient:function(){h=null}},p.default.setLiveQueryController(n)},{"./CoreManager":4,"./EventEmitter":6,"./LiveQueryClient":11,"@babel/runtime-corejs3/core-js-stable/instance/index-of":66,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/promise":90,"@babel/runtime-corejs3/helpers/asyncToGenerator":120,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/slicedToArray":138,"@babel/runtime-corejs3/regenerator":498}],27:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireWildcard"),o=e("@babel/runtime-corejs3/helpers/interopRequireDefault"),a=e("@babel/runtime-corejs3/core-js/get-iterator"),l=e("@babel/runtime-corejs3/core-js-stable/array/is-array"),u=e("@babel/runtime-corejs3/core-js/get-iterator-method"),c=e("@babel/runtime-corejs3/core-js-stable/symbol"),d=e("@babel/runtime-corejs3/core-js-stable/array/from"),p=e("@babel/runtime-corejs3/core-js-stable/instance/slice"),i=e("@babel/runtime-corejs3/core-js-stable/object/define-property"),s=e("@babel/runtime-corejs3/core-js-stable/object/define-properties"),h=e("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors"),f=e("@babel/runtime-corejs3/core-js-stable/instance/for-each"),m=e("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor"),b=e("@babel/runtime-corejs3/core-js-stable/instance/filter"),g=e("@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols"),v=e("@babel/runtime-corejs3/core-js-stable/object/keys");i(n,"__esModule",{value:!0}),n.default=void 0;var y=o(e("@babel/runtime-corejs3/core-js-stable/instance/map")),w=o(e("@babel/runtime-corejs3/core-js-stable/instance/find")),x=o(e("@babel/runtime-corejs3/core-js-stable/object/define-property")),j=o(e("@babel/runtime-corejs3/core-js-stable/object/create")),C=o(e("@babel/runtime-corejs3/core-js-stable/promise")),E=o(e("@babel/runtime-corejs3/core-js-stable/array/is-array")),_=o(e("@babel/runtime-corejs3/regenerator")),R=o(e("@babel/runtime-corejs3/helpers/asyncToGenerator")),k=o(e("@babel/runtime-corejs3/core-js-stable/instance/concat")),S=o(e("@babel/runtime-corejs3/core-js-stable/object/get-prototype-of")),T=o(e("@babel/runtime-corejs3/core-js-stable/instance/includes")),A=o(e("@babel/runtime-corejs3/core-js-stable/json/stringify")),P=o(e("@babel/runtime-corejs3/core-js-stable/instance/for-each")),M=o(e("@babel/runtime-corejs3/core-js-stable/object/keys")),D=o(e("@babel/runtime-corejs3/core-js-stable/object/freeze")),L=o(e("@babel/runtime-corejs3/helpers/typeof")),O=o(e("@babel/runtime-corejs3/helpers/classCallCheck")),I=o(e("@babel/runtime-corejs3/helpers/createClass")),N=o(e("@babel/runtime-corejs3/helpers/defineProperty")),F=o(e("@babel/runtime-corejs3/core-js-stable/instance/index-of")),H=o(e("./CoreManager")),z=o(e("./canBeSerialized")),W=o(e("./decode")),B=o(e("./encode")),q=o(e("./escape")),V=o(e("./EventuallyQueue")),U=o(e("./ParseACL")),G=o(e("./parseDate")),K=o(e("./ParseError")),J=o(e("./ParseFile")),$=e("./promiseUtils"),X=e("./LocalDatastoreUtils"),Y=e("./ParseOp"),Q=o(e("./ParseQuery")),Z=o(e("./ParseRelation")),ee=r(e("./SingleInstanceStateController")),te=o(e("./unique")),ne=r(e("./UniqueInstanceStateController")),re=o(e("./unsavedChildren"));function oe(e,t){var n;if(void 0===c||null==u(e)){if(l(e)||(n=function(e){if(e){if("string"==typeof e)return ie(e,void 0);var t=p(t=Object.prototype.toString.call(e)).call(t,8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?d(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ie(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=a(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(t,e){var n,r=v(t);return g&&(n=g(t),e&&(n=b(n).call(n,function(e){return m(t,e).enumerable})),r.push.apply(r,n)),r}function ae(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};e%2?f(n=se(Object(r),!0)).call(n,function(e){(0,N.default)(t,e,r[e])}):h?s(t,h(r)):f(n=se(Object(r))).call(n,function(e){i(t,e,m(r,e))})}return t}var le=e("./uuid"),ue={},ce=0,de=!H.default.get("IS_NODE");function pe(){var e=H.default.get("SERVER_URL");return"/"!==e[e.length-1]&&(e+="/"),(e=e.replace(/https?:\/\//,"")).substr((0,F.default)(e).call(e,"/"))}de?H.default.setObjectStateController(ee):H.default.setObjectStateController(ne);var he,fe,me,be,ge,ve=((0,I.default)(ye,[{key:"attributes",get:function(){var e=H.default.getObjectStateController();return(0,D.default)(e.estimateAttributes(this._getStateIdentifier()))}},{key:"createdAt",get:function(){return this._getServerData().createdAt}},{key:"updatedAt",get:function(){return this._getServerData().updatedAt}},{key:"_getId",value:function(){if("string"==typeof this.id)return this.id;if("string"==typeof this._localId)return this._localId;var e="local"+le();return this._localId=e}},{key:"_getStateIdentifier",value:function(){return de?{id:this.id||this._getId(),className:this.className}:this}},{key:"_getServerData",value:function(){return H.default.getObjectStateController().getServerData(this._getStateIdentifier())}},{key:"_clearServerData",value:function(){var e,t={};for(e in this._getServerData())t[e]=void 0;H.default.getObjectStateController().setServerData(this._getStateIdentifier(),t)}},{key:"_getPendingOps",value:function(){return H.default.getObjectStateController().getPendingOps(this._getStateIdentifier())}},{key:"_clearPendingOps",value:function(e){var t=this._getPendingOps(),n=t[t.length-1],e=e||(0,M.default)(n);(0,P.default)(e).call(e,function(e){delete n[e]})}},{key:"_getDirtyObjectAttributes",value:function(){var e,t=this.attributes,n=H.default.getObjectStateController().getObjectCache(this._getStateIdentifier()),r={};for(e in t){var o=t[e];if(o&&"object"===(0,L.default)(o)&&!(o instanceof ye)&&!(o instanceof J.default)&&!(o instanceof Z.default))try{var i=(0,B.default)(o,!1,!0),s=(0,A.default)(i);n[e]!==s&&(r[e]=o)}catch(t){r[e]=o}}return r}},{key:"_toFullJSON",value:function(e,t){return(t=this.toJSON(e,t)).__type="Object",t.className=this.className,t}},{key:"_getSaveJSON",value:function(){var e,t=this._getPendingOps(),n=this._getDirtyObjectAttributes(),r={};for(e in n){for(var o=!1,i=0;i<t.length;i+=1)for(var s in t[i])if((0,T.default)(s).call(s,".")&&s.split(".")[0]===e){o=!0;break}o||(r[e]=new Y.SetOp(n[e]).toJSON())}for(e in t[0])r[e]=t[0][e].toJSON();return r}},{key:"_getSaveParams",value:function(){var e=this.id?"PUT":"POST",t=this._getSaveJSON(),n="classes/"+this.className;return H.default.get("ALLOW_CUSTOM_OBJECT_ID")?this.createdAt?(e="PUT",n+="/"+this.id):(e="POST",t.objectId=this.id):this.id?n+="/"+this.id:"_User"===this.className&&(n="users"),{method:e,body:t,path:n}}},{key:"_finishFetch",value:function(e){!this.id&&e.objectId&&(this.id=e.objectId);var t=H.default.getObjectStateController();t.initializeState(this._getStateIdentifier());var n,r={};for(n in e)"ACL"===n?r[n]=new U.default(e[n]):"objectId"!==n&&(r[n]=(0,W.default)(e[n]),r[n]instanceof Z.default&&r[n]._ensureParentAndKey(this,n));r.createdAt&&"string"==typeof r.createdAt&&(r.createdAt=(0,G.default)(r.createdAt)),r.updatedAt&&"string"==typeof r.updatedAt&&(r.updatedAt=(0,G.default)(r.updatedAt)),!r.updatedAt&&r.createdAt&&(r.updatedAt=r.createdAt),t.commitServerChanges(this._getStateIdentifier(),r)}},{key:"_setExisted",value:function(e){var t=H.default.getObjectStateController().getState(this._getStateIdentifier());t&&(t.existed=e)}},{key:"_migrateId",value:function(e){var t,n;this._localId&&e&&(de?(n=(t=H.default.getObjectStateController()).removeState(this._getStateIdentifier()),this.id=e,delete this._localId,n&&t.initializeState(this._getStateIdentifier(),n)):(this.id=e,delete this._localId))}},{key:"_handleSaveResponse",value:function(e,t){var n,r,o={},i=H.default.getObjectStateController(),s=i.popPendingState(this._getStateIdentifier());for(n in s)s[n]instanceof Y.RelationOp?o[n]=s[n].applyTo(void 0,this,n):n in e||(o[n]=s[n].applyTo(void 0));for(n in e)"createdAt"!==n&&"updatedAt"!==n||"string"!=typeof e[n]?"ACL"===n?o[n]=new U.default(e[n]):"objectId"!==n&&((r=(0,W.default)(e[n]))&&(0,S.default)(r)===Object.prototype?o[n]=ae(ae({},this.attributes[n]),r):o[n]=r,o[n]instanceof Y.UnsetOp&&(o[n]=void 0)):o[n]=(0,G.default)(e[n]);o.createdAt&&!o.updatedAt&&(o.updatedAt=o.createdAt),this._migrateId(e.objectId),201!==t&&this._setExisted(!0),i.commitServerChanges(this._getStateIdentifier(),o)}},{key:"_handleSaveError",value:function(){H.default.getObjectStateController().mergeFirstPendingState(this._getStateIdentifier())}},{key:"initialize",value:function(){}},{key:"toJSON",value:function(e,t){var n=this.id?this.className+":"+this.id:this;e=e||[n];var r,o={},i=this.attributes;for(r in i)"createdAt"!==r&&"updatedAt"!==r||!i[r].toJSON?o[r]=(0,B.default)(i[r],!1,!1,e,t):o[r]=i[r].toJSON();var s,a=this._getPendingOps();for(s in a[0])o[s]=a[0][s].toJSON(t);return this.id&&(o.objectId=this.id),o}},{key:"equals",value:function(e){return this===e||e instanceof ye&&this.className===e.className&&this.id===e.id&&void 0!==this.id}},{key:"dirty",value:function(e){if(!this.id)return!0;var t=this._getPendingOps(),n=this._getDirtyObjectAttributes();if(e){if(n.hasOwnProperty(e))return!0;for(var r=0;r<t.length;r++)if(t[r].hasOwnProperty(e))return!0;return!1}return 0!==(0,M.default)(t[0]).length||0!==(0,M.default)(n).length}},{key:"dirtyKeys",value:function(){for(var e,t=this._getPendingOps(),n={},r=0;r<t.length;r++)for(var o in t[r])n[o]=!0;for(e in this._getDirtyObjectAttributes())n[e]=!0;return(0,M.default)(n)}},{key:"isDataAvailable",value:function(){var e=this._getServerData();return!!(0,M.default)(e).length}},{key:"toPointer",value:function(){if(!this.id)throw new Error("Cannot create a pointer to an unsaved ParseObject");return{__type:"Pointer",className:this.className,objectId:this.id}}},{key:"toOfflinePointer",value:function(){if(!this._localId)throw new Error("Cannot create a offline pointer to a saved ParseObject");return{__type:"Object",className:this.className,_localId:this._localId}}},{key:"get",value:function(e){return this.attributes[e]}},{key:"relation",value:function(e){var t=this.get(e);if(t){if(!(t instanceof Z.default))throw new Error("Called relation() on non-relation field "+e);return t._ensureParentAndKey(this,e),t}return new Z.default(this,e)}},{key:"escape",value:function(e){if(null==(e=this.attributes[e]))return"";if("string"!=typeof e){if("function"!=typeof e.toString)return"";e=e.toString()}return(0,q.default)(e)}},{key:"has",value:function(e){var t=this.attributes;return!!t.hasOwnProperty(e)&&null!=t[e]}},{key:"set",value:function(e,t,n){var r={},o={};if(e&&"object"===(0,L.default)(e))r=e,n=t;else{if("string"!=typeof e)return this;r[e]=t}n=n||{};var i,s,a=[];for(i in"function"==typeof this.constructor.readOnlyAttributes&&(a=(0,k.default)(a).call(a,this.constructor.readOnlyAttributes())),r)if("createdAt"!==i&&"updatedAt"!==i){if(-1<(0,F.default)(a).call(a,i))throw new Error("Cannot modify readonly attribute: "+i);n.unset?o[i]=new Y.UnsetOp:r[i]instanceof Y.Op?o[i]=r[i]:r[i]&&"object"===(0,L.default)(r[i])&&"string"==typeof r[i].__op?o[i]=(0,Y.opFromJSON)(r[i]):"objectId"===i||"id"===i?"string"==typeof r[i]&&(this.id=r[i]):"ACL"!==i||"object"!==(0,L.default)(r[i])||r[i]instanceof U.default?r[i]instanceof Z.default?((s=new Z.default(this,i)).targetClassName=r[i].targetClassName,o[i]=new Y.SetOp(s)):o[i]=new Y.SetOp(r[i]):o[i]=new Y.SetOp(new U.default(r[i]))}var l,u=this.attributes,c={};for(l in o)o[l]instanceof Y.RelationOp?c[l]=o[l].applyTo(u[l],this,l):o[l]instanceof Y.UnsetOp||(c[l]=o[l].applyTo(u[l]));if(!n.ignoreValidation&&(t=this.validate(c)))return"function"==typeof n.error&&n.error(this,t),!1;var d,p=this._getPendingOps(),h=p.length-1,f=H.default.getObjectStateController();for(d in o){var m=o[d].mergeWith(p[h][d]);f.setPendingOp(this._getStateIdentifier(),d,m)}return this}},{key:"unset",value:function(e,t){return(t=t||{}).unset=!0,this.set(e,null,t)}},{key:"increment",value:function(e,t){if("number"!=typeof(t=void 0===t?1:t))throw new Error("Cannot increment by a non-numeric amount.");return this.set(e,new Y.IncrementOp(t))}},{key:"decrement",value:function(e,t){if("number"!=typeof(t=void 0===t?1:t))throw new Error("Cannot decrement by a non-numeric amount.");return this.set(e,new Y.IncrementOp(-1*t))}},{key:"add",value:function(e,t){return this.set(e,new Y.AddOp([t]))}},{key:"addAll",value:function(e,t){return this.set(e,new Y.AddOp(t))}},{key:"addUnique",value:function(e,t){return this.set(e,new Y.AddUniqueOp([t]))}},{key:"addAllUnique",value:function(e,t){return this.set(e,new Y.AddUniqueOp(t))}},{key:"remove",value:function(e,t){return this.set(e,new Y.RemoveOp([t]))}},{key:"removeAll",value:function(e,t){return this.set(e,new Y.RemoveOp(t))}},{key:"op",value:function(e){for(var t=this._getPendingOps(),n=t.length;n--;)if(t[n][e])return t[n][e]}},{key:"clone",value:function(){var e=new this.constructor(this.className),t=this.attributes;if("function"==typeof this.constructor.readOnlyAttributes){var n,r=this.constructor.readOnlyAttributes()||[],o={};for(n in t)(0,F.default)(r).call(r,n)<0&&(o[n]=t[n]);t=o}return e.set&&e.set(t),e}},{key:"newInstance",value:function(){var e=new this.constructor(this.className);if(e.id=this.id,de)return e;var t=H.default.getObjectStateController();return t&&t.duplicateState(this._getStateIdentifier(),e._getStateIdentifier()),e}},{key:"isNew",value:function(){return!this.id}},{key:"existed",value:function(){if(!this.id)return!1;var e=H.default.getObjectStateController().getState(this._getStateIdentifier());return!!e&&e.existed}},{key:"exists",value:(ge=(0,R.default)(_.default.mark(function e(t){var n;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.id){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,n=new Q.default(this.className),e.next=6,n.get(this.id,t);case 6:return e.abrupt("return",!0);case 9:if(e.prev=9,e.t0=e.catch(2),e.t0.code===K.default.OBJECT_NOT_FOUND)return e.abrupt("return",!1);e.next=13;break;case 13:throw e.t0;case 14:case"end":return e.stop()}},e,this,[[2,9]])})),function(){return ge.apply(this,arguments)})},{key:"isValid",value:function(){return!this.validate(this.attributes)}},{key:"validate",value:function(e){if(e.hasOwnProperty("ACL")&&!(e.ACL instanceof U.default))return new K.default(K.default.OTHER_CAUSE,"ACL must be a Parse ACL.");for(var t in e)if(!/^[A-Za-z][0-9A-Za-z_.]*$/.test(t))return new K.default(K.default.INVALID_KEY_NAME);return!1}},{key:"getACL",value:function(){var e=this.get("ACL");return e instanceof U.default?e:null}},{key:"setACL",value:function(e,t){return this.set("ACL",e,t)}},{key:"revert",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length){var r,o=[],i=oe(t);try{for(i.s();!(r=i.n()).done;){var s=r.value;if("string"!=typeof s)throw new Error("Parse.Object#revert expects either no, or a list of string, arguments.");o.push(s)}}catch(e){i.e(e)}finally{i.f()}}this._clearPendingOps(o)}},{key:"clear",value:function(){var e,t=this.attributes,n={},r=["createdAt","updatedAt"];for(e in"function"==typeof this.constructor.readOnlyAttributes&&(r=(0,k.default)(r).call(r,this.constructor.readOnlyAttributes())),t)(0,F.default)(r).call(r,e)<0&&(n[e]=!0);return this.set(n,{unset:!0})}},{key:"fetch",value:function(e){var t,n={};return(e=e||{}).hasOwnProperty("useMasterKey")&&(n.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(n.sessionToken=e.sessionToken),e.hasOwnProperty("context")&&"object"===(0,L.default)(e.context)&&(n.context=e.context),e.hasOwnProperty("include")&&(n.include=[],(0,E.default)(e.include)?(0,P.default)(t=e.include).call(t,function(e){var t;(0,E.default)(e)?n.include=(0,k.default)(t=n.include).call(t,e):n.include.push(e)}):n.include.push(e.include)),H.default.getObjectController().fetch(this,!0,n)}},{key:"fetchWithInclude",value:function(e,t){return(t=t||{}).include=e,this.fetch(t)}},{key:"saveEventually",value:(be=(0,R.default)(_.default.mark(function e(t){return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.save(null,t);case 3:e.next=11;break;case 5:if(e.prev=5,e.t0=e.catch(0),'XMLHttpRequest failed: "Unable to connect to the Parse API"'===e.t0.message)return e.next=10,V.default.save(this,t);e.next=11;break;case 10:V.default.poll();case 11:return e.abrupt("return",this);case 12:case"end":return e.stop()}},e,this,[[0,5]])})),function(){return be.apply(this,arguments)})},{key:"save",value:function(e,t,n){var r,o=this;if("object"===(0,L.default)(e)||void 0===e?(r=e,"object"===(0,L.default)(t)&&(a=t)):((r={})[e]=t,a=n),r){if(n=this.validate(r))return C.default.reject(n);this.set(r,a)}var i={};(a=a||{}).hasOwnProperty("useMasterKey")&&(i.useMasterKey=!!a.useMasterKey),a.hasOwnProperty("sessionToken")&&"string"==typeof a.sessionToken&&(i.sessionToken=a.sessionToken),a.hasOwnProperty("installationId")&&"string"==typeof a.installationId&&(i.installationId=a.installationId),a.hasOwnProperty("context")&&"object"===(0,L.default)(a.context)&&(i.context=a.context);var s=H.default.getObjectController(),a=!1!==a.cascadeSave?(0,re.default)(this):null;return s.save(a,i).then(function(){return s.save(o,i)})}},{key:"destroyEventually",value:(me=(0,R.default)(_.default.mark(function e(t){return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.destroy(t);case 3:e.next=11;break;case 5:if(e.prev=5,e.t0=e.catch(0),'XMLHttpRequest failed: "Unable to connect to the Parse API"'===e.t0.message)return e.next=10,V.default.destroy(this,t);e.next=11;break;case 10:V.default.poll();case 11:return e.abrupt("return",this);case 12:case"end":return e.stop()}},e,this,[[0,5]])})),function(){return me.apply(this,arguments)})},{key:"destroy",value:function(e){var t={};return(e=e||{}).hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(t.sessionToken=e.sessionToken),e.hasOwnProperty("context")&&"object"===(0,L.default)(e.context)&&(t.context=e.context),this.id?H.default.getObjectController().destroy(this,t):C.default.resolve()}},{key:"pin",value:function(){return ye.pinAllWithName(X.DEFAULT_PIN,[this])}},{key:"unPin",value:function(){return ye.unPinAllWithName(X.DEFAULT_PIN,[this])}},{key:"isPinned",value:(fe=(0,R.default)(_.default.mark(function e(){var t,n;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=H.default.getLocalDatastore()).isEnabled){e.next=3;break}return e.abrupt("return",C.default.reject("Parse.enableLocalDatastore() must be called first"));case 3:return n=t.getKeyForObject(this),e.next=6,t.fromPinWithName(n);case 6:return n=e.sent,e.abrupt("return",0<n.length);case 8:case"end":return e.stop()}},e,this)})),function(){return fe.apply(this,arguments)})},{key:"pinWithName",value:function(e){return ye.pinAllWithName(e,[this])}},{key:"unPinWithName",value:function(e){return ye.unPinAllWithName(e,[this])}},{key:"fetchFromLocalDatastore",value:(he=(0,R.default)(_.default.mark(function e(){var t,n,r;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=H.default.getLocalDatastore()).isEnabled){e.next=3;break}throw new Error("Parse.enableLocalDatastore() must be called first");case 3:return r=t.getKeyForObject(this),e.next=6,t._serializeObject(r);case 6:if(n=e.sent){e.next=9;break}throw new Error("Cannot fetch an unsaved ParseObject");case 9:return r=ye.fromJSON(n),this._finishFetch(r.toJSON()),e.abrupt("return",this);case 12:case"end":return e.stop()}},e,this)})),function(){return he.apply(this,arguments)})}],[{key:"_getClassMap",value:function(){return ue}},{key:"_clearAllState",value:function(){H.default.getObjectStateController().clearAllState()}},{key:"fetchAll",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n={};return t.hasOwnProperty("useMasterKey")&&(n.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(n.sessionToken=t.sessionToken),t.hasOwnProperty("include")&&(n.include=ye.handleIncludeOptions(t)),H.default.getObjectController().fetch(e,!0,n)}},{key:"fetchAllWithInclude",value:function(e,t,n){return(n=n||{}).include=t,ye.fetchAll(e,n)}},{key:"fetchAllIfNeededWithInclude",value:function(e,t,n){return(n=n||{}).include=t,ye.fetchAllIfNeeded(e,n)}},{key:"fetchAllIfNeeded",value:function(e,t){var n={};return(t=t||{}).hasOwnProperty("useMasterKey")&&(n.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(n.sessionToken=t.sessionToken),t.hasOwnProperty("include")&&(n.include=ye.handleIncludeOptions(t)),H.default.getObjectController().fetch(e,!1,n)}},{key:"handleIncludeOptions",value:function(e){var t,n=[];return(0,E.default)(e.include)?(0,P.default)(t=e.include).call(t,function(e){(0,E.default)(e)?n=(0,k.default)(n).call(n,e):n.push(e)}):n.push(e.include),n}},{key:"destroyAll",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n={};return t.hasOwnProperty("useMasterKey")&&(n.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(n.sessionToken=t.sessionToken),t.hasOwnProperty("batchSize")&&"number"==typeof t.batchSize&&(n.batchSize=t.batchSize),t.hasOwnProperty("context")&&"object"===(0,L.default)(t.context)&&(n.context=t.context),H.default.getObjectController().destroy(e,n)}},{key:"saveAll",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n={};return t.hasOwnProperty("useMasterKey")&&(n.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(n.sessionToken=t.sessionToken),t.hasOwnProperty("batchSize")&&"number"==typeof t.batchSize&&(n.batchSize=t.batchSize),t.hasOwnProperty("context")&&"object"===(0,L.default)(t.context)&&(n.context=t.context),H.default.getObjectController().save(e,n)}},{key:"createWithoutData",value:function(e){var t=new this;return t.id=e,t}},{key:"fromJSON",value:function(e,t,n){if(!e.className)throw new Error("Cannot create an object without a className");var r,o=new(ue[e.className]||ye)(e.className),i={};for(r in e)"className"!==r&&"__type"!==r&&(i[r]=e[r],n&&o.set(r,e[r]));return t&&(i.objectId&&(o.id=i.objectId),t=null,"function"==typeof o._preserveFieldsOnFetch&&(t=o._preserveFieldsOnFetch()),o._clearServerData(),t&&o._finishFetch(t)),o._finishFetch(i),e.objectId&&o._setExisted(!0),o}},{key:"registerSubclass",value:function(e,t){if("string"!=typeof e)throw new TypeError("The first argument must be a valid class name.");if(void 0===t)throw new TypeError("You must supply a subclass constructor.");if("function"!=typeof t)throw new TypeError("You must register the subclass constructor. Did you attempt to register an instance of the subclass?");(ue[e]=t).className||(t.className=e)}},{key:"unregisterSubclass",value:function(e){if("string"!=typeof e)throw new TypeError("The first argument must be a valid class name.");delete ue[e]}},{key:"extend",value:function(e,t,n){if("string"!=typeof e){if(e&&"string"==typeof e.className)return ye.extend(e.className,e,t);throw new Error("Parse.Object.extend's first argument should be the className.")}var r=e;function o(e,t){if(this.className=r,this._objCount=ce++,"function"==typeof this.initialize&&this.initialize.apply(this,arguments),e&&"object"===(0,L.default)(e)&&!this.set(e||{},t))throw new Error("Can't create an invalid Parse Object")}if("User"===r&&H.default.get("PERFORM_USER_REWRITE")&&(r="_User"),e=ye.prototype,this.hasOwnProperty("__super__")&&this.__super__?e=this.prototype:ue[r]&&(e=ue[r].prototype),o.className=r,o.__super__=e,o.prototype=(0,j.default)(e,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),t)for(var i in t)"className"!==i&&(0,x.default)(o.prototype,i,{value:t[i],enumerable:!1,writable:!0,configurable:!0});if(n)for(var s in n)"className"!==s&&(0,x.default)(o,s,{value:n[s],enumerable:!1,writable:!0,configurable:!0});return o.extend=function(e,t,n){return"string"==typeof e?ye.extend.call(o,e,t,n):ye.extend.call(o,r,e,t)},o.createWithoutData=ye.createWithoutData,ue[r]=o}},{key:"enableSingleInstance",value:function(){de=!0,H.default.setObjectStateController(ee)}},{key:"disableSingleInstance",value:function(){de=!1,H.default.setObjectStateController(ne)}},{key:"pinAll",value:function(e){return H.default.getLocalDatastore().isEnabled?ye.pinAllWithName(X.DEFAULT_PIN,e):C.default.reject("Parse.enableLocalDatastore() must be called first")}},{key:"pinAllWithName",value:function(e,t){var n=H.default.getLocalDatastore();return n.isEnabled?n._handlePinAllWithName(e,t):C.default.reject("Parse.enableLocalDatastore() must be called first")}},{key:"unPinAll",value:function(e){return H.default.getLocalDatastore().isEnabled?ye.unPinAllWithName(X.DEFAULT_PIN,e):C.default.reject("Parse.enableLocalDatastore() must be called first")}},{key:"unPinAllWithName",value:function(e,t){var n=H.default.getLocalDatastore();return n.isEnabled?n._handleUnPinAllWithName(e,t):C.default.reject("Parse.enableLocalDatastore() must be called first")}},{key:"unPinAllObjects",value:function(){var e=H.default.getLocalDatastore();return e.isEnabled?e.unPinWithName(X.DEFAULT_PIN):C.default.reject("Parse.enableLocalDatastore() must be called first")}},{key:"unPinAllObjectsWithName",value:function(e){var t=H.default.getLocalDatastore();return t.isEnabled?t.unPinWithName(X.PIN_PREFIX+e):C.default.reject("Parse.enableLocalDatastore() must be called first")}}]),ye),e={fetch:function(n,u,e){var t,r,c=H.default.getLocalDatastore();if((0,E.default)(n)){if(n.length<1)return C.default.resolve([]);var d=[],o=[],i=null,p=[],s=null;return((0,P.default)(n).call(n,function(e){s||((i=i||e.className)!==e.className&&(s=new K.default(K.default.INVALID_CLASS_NAME,"All objects should be of the same class")),e.id||(s=new K.default(K.default.MISSING_OBJECT_ID,"All objects must have an ID")),!u&&e.isDataAvailable()||(o.push(e.id),d.push(e)),p.push(e))}),s)?C.default.reject(s):((l=new Q.default(i)).containedIn("objectId",o),e&&e.include&&l.include(e.include),l._limit=o.length,(0,w.default)(l).call(l,e).then((t=(0,R.default)(_.default.mark(function e(t){var n,r,o,i,s,a,l;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n={},(0,P.default)(t).call(t,function(e){n[e.id]=e}),r=0;case 3:if(!(r<d.length)){e.next=11;break}if((l=d[r])&&l.id&&n[l.id]){e.next=8;break}if(u)return e.abrupt("return",C.default.reject(new K.default(K.default.OBJECT_NOT_FOUND,"All objects must exist on the server.")));e.next=8;break;case 8:r++,e.next=3;break;case 11:if(!de)for(o=0;o<p.length;o++)(i=p[o])&&i.id&&n[i.id]&&(s=i.id,i._finishFetch(n[s].toJSON()),p[o]=n[s]);a=oe(p),e.prev=13,a.s();case 15:if((l=a.n()).done){e.next=21;break}return l=l.value,e.next=19,c._updateObjectIfPinned(l);case 19:e.next=15;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(13),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:return e.abrupt("return",C.default.resolve(p));case 30:case"end":return e.stop()}},e,null,[[13,23,26,29]])})),function(){return t.apply(this,arguments)})))}if(n instanceof ve){if(!n.id)return C.default.reject(new K.default(K.default.MISSING_OBJECT_ID,"Object does not have an ID"));var a=H.default.getRESTController(),l={};return e&&e.include&&(l.include=e.include.join()),a.request("GET","classes/"+n.className+"/"+n._getId(),l,e).then((r=(0,R.default)(_.default.mark(function e(t){return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n._clearPendingOps(),n._clearServerData(),n._finishFetch(t),e.next=5,c._updateObjectIfPinned(n);case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)}))}return C.default.resolve()},destroy:function(a,l){return(0,R.default)(_.default.mark(function e(){var t,r,n,o,i,s;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l&&l.batchSize?l.batchSize:H.default.get("REQUEST_BATCH_SIZE"),r=H.default.getLocalDatastore(),n=H.default.getRESTController(),!(0,E.default)(a)){e.next=15;break}if(a.length<1)return e.abrupt("return",C.default.resolve([]));e.next=6;break;case 6:return o=[[]],(0,P.default)(a).call(a,function(e){e.id&&(o[o.length-1].push(e),o[o.length-1].length>=t&&o.push([]))}),0===o[o.length-1].length&&o.pop(),i=C.default.resolve(),s=[],(0,P.default)(o).call(o,function(r){i=i.then(function(){return n.request("POST","batch",{requests:(0,y.default)(r).call(r,function(e){return{method:"DELETE",path:pe()+"classes/"+e.className+"/"+e._getId(),body:{}}})},l).then(function(e){for(var t,n=0;n<e.length;n++)e[n]&&e[n].hasOwnProperty("error")&&((t=new K.default(e[n].error.code,e[n].error.error)).object=r[n],s.push(t))})})}),e.abrupt("return",i.then((0,R.default)(_.default.mark(function e(){var t,n;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.length)return(n=new K.default(K.default.AGGREGATE_ERROR)).errors=s,e.abrupt("return",C.default.reject(n));e.next=4;break;case 4:t=oe(a),e.prev=5,t.s();case 7:if((n=t.n()).done){e.next=13;break}return n=n.value,e.next=11,r._destroyObjectIfPinned(n);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),t.e(e.t0);case 18:return e.prev=18,t.f(),e.finish(18);case 21:return e.abrupt("return",C.default.resolve(a));case 22:case"end":return e.stop()}},e,null,[[5,15,18,21]])}))));case 15:if(a instanceof ve)return e.abrupt("return",n.request("DELETE","classes/"+a.className+"/"+a._getId(),{},l).then((0,R.default)(_.default.mark(function e(){return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._destroyObjectIfPinned(a);case 2:return e.abrupt("return",C.default.resolve(a));case 3:case"end":return e.stop()}},e)}))));e.next=17;break;case 17:return e.abrupt("return",C.default.resolve(a));case 18:case"end":return e.stop()}},e)}))()},save:function(o,r){var u=r&&r.batchSize?r.batchSize:H.default.get("REQUEST_BATCH_SIZE"),i=H.default.getLocalDatastore(),c={},d=H.default.getRESTController(),p=H.default.getObjectStateController(),t=H.default.get("ALLOW_CUSTOM_OBJECT_ID");if((r=r||{}).returnStatus=r.returnStatus||!0,(0,E.default)(o)){if(o.length<1)return C.default.resolve([]);for(var e=(0,k.default)(o).call(o),n=0;n<o.length;n++)o[n]instanceof ve&&(e=(0,k.default)(e).call(e,(0,re.default)(o[n],!0)));var e=(0,te.default)(e),s=[],h=[];return(0,P.default)(e).call(e,function(e){if(e instanceof J.default)s.push(e.save(r));else if(e instanceof ve){if(t&&!e.id)throw new K.default(K.default.MISSING_OBJECT_ID,"objectId must not be empty, null or undefined");h.push(e)}}),C.default.all(s).then(function(){var l=null;return(0,$.continueWhile)(function(){return 0<h.length},function(){var t=[],n=[];if((0,P.default)(h).call(h,function(e){(t.length<u&&(0,z.default)(e)?t:n).push(e)}),h=n,t.length<1)return C.default.reject(new K.default(K.default.OTHER_CAUSE,"Tried to save a batch with a cycle."));var i=new $.resolvingPromise,s=[],a=[];return(0,P.default)(t).call(t,function(r,o){var e=new $.resolvingPromise;s.push(e),p.pushPendingState(r._getStateIdentifier()),a.push(p.enqueueTask(r._getStateIdentifier(),function(){return e.resolve(),i.then(function(e){var t,n;e[o].hasOwnProperty("success")?(t=e[o].success.objectId,n=e[o]._status,delete e[o]._status,c[t]=r._localId,r._handleSaveResponse(e[o].success,n)):(!l&&e[o].hasOwnProperty("error")&&(e=e[o].error,l=new K.default(e.code,e.error),h=[]),r._handleSaveError())})}))}),(0,$.when)(s).then(function(){return d.request("POST","batch",{requests:(0,y.default)(t).call(t,function(e){return(e=e._getSaveParams()).path=pe()+e.path,e})},r)}).then(i.resolve,function(e){i.reject(new K.default(K.default.INCORRECT_TYPE,e.message))}),(0,$.when)(a)}).then((0,R.default)(_.default.mark(function e(){var t,n,r;return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l)return e.abrupt("return",C.default.reject(l));e.next=2;break;case 2:t=oe(o),e.prev=3,t.s();case 5:if((n=t.n()).done){e.next=13;break}return r=n.value,e.next=9,i._updateLocalIdForObject(c[r.id],r);case 9:return e.next=11,i._updateObjectIfPinned(r);case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),t.e(e.t0);case 18:return e.prev=18,t.f(),e.finish(18);case 21:return e.abrupt("return",C.default.resolve(o));case 22:case"end":return e.stop()}},e,null,[[3,15,18,21]])})))})}if(o instanceof ve){if(t&&!o.id)throw new K.default(K.default.MISSING_OBJECT_ID,"objectId must not be empty, null or undefined");o._getId();var a=o._localId,l=o;return p.pushPendingState(o._getStateIdentifier()),p.enqueueTask(o._getStateIdentifier(),function(){var e=l._getSaveParams();return d.request(e.method,e.path,e.body,r).then(function(e){var t=e._status;delete e._status,l._handleSaveResponse(e,t)},function(e){return l._handleSaveError(),C.default.reject(e)})}).then((0,R.default)(_.default.mark(function e(){return _.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i._updateLocalIdForObject(a,o);case 2:return e.next=4,i._updateObjectIfPinned(o);case 4:return e.abrupt("return",o);case 5:case"end":return e.stop()}},e)})),function(e){return C.default.reject(e)})}return C.default.resolve()}};function ye(e,t,n){(0,O.default)(this,ye),(0,N.default)(this,"id",void 0),(0,N.default)(this,"_localId",void 0),(0,N.default)(this,"_objCount",void 0),(0,N.default)(this,"className",void 0),"function"==typeof this.initialize&&this.initialize.apply(this,arguments);var r=null;if(this._objCount=ce++,"string"==typeof e)this.className=e,t&&"object"===(0,L.default)(t)&&(r=t);else if(e&&"object"===(0,L.default)(e)){for(var o in this.className=e.className,r={},e)"className"!==o&&(r[o]=e[o]);t&&"object"===(0,L.default)(t)&&(n=t)}if(r&&!this.set(r,n))throw new Error("Can't create an invalid Parse Object")}H.default.setObjectController(e),n.default=ve},{"./CoreManager":4,"./EventuallyQueue":7,"./LocalDatastoreUtils":15,"./ParseACL":19,"./ParseError":22,"./ParseFile":23,"./ParseOp":28,"./ParseQuery":30,"./ParseRelation":31,"./SingleInstanceStateController":38,"./UniqueInstanceStateController":42,"./canBeSerialized":44,"./decode":45,"./encode":46,"./escape":48,"./parseDate":50,"./promiseUtils":51,"./unique":52,"./unsavedChildren":53,"./uuid":54,"@babel/runtime-corejs3/core-js-stable/array/from":55,"@babel/runtime-corejs3/core-js-stable/array/is-array":56,"@babel/runtime-corejs3/core-js-stable/instance/concat":58,"@babel/runtime-corejs3/core-js-stable/instance/filter":61,"@babel/runtime-corejs3/core-js-stable/instance/find":63,"@babel/runtime-corejs3/core-js-stable/instance/for-each":64,"@babel/runtime-corejs3/core-js-stable/instance/includes":65,"@babel/runtime-corejs3/core-js-stable/instance/index-of":66,"@babel/runtime-corejs3/core-js-stable/instance/map":68,"@babel/runtime-corejs3/core-js-stable/instance/slice":70,"@babel/runtime-corejs3/core-js-stable/json/stringify":75,"@babel/runtime-corejs3/core-js-stable/object/create":79,"@babel/runtime-corejs3/core-js-stable/object/define-properties":80,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/object/freeze":83,"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor":84,"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors":85,"@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols":86,"@babel/runtime-corejs3/core-js-stable/object/get-prototype-of":87,"@babel/runtime-corejs3/core-js-stable/object/keys":88,"@babel/runtime-corejs3/core-js-stable/promise":90,"@babel/runtime-corejs3/core-js-stable/symbol":95,"@babel/runtime-corejs3/core-js/get-iterator":100,"@babel/runtime-corejs3/core-js/get-iterator-method":99,"@babel/runtime-corejs3/helpers/asyncToGenerator":120,"@babel/runtime-corejs3/helpers/classCallCheck":121,"@babel/runtime-corejs3/helpers/createClass":123,"@babel/runtime-corejs3/helpers/defineProperty":124,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/interopRequireWildcard":129,"@babel/runtime-corejs3/helpers/typeof":141,"@babel/runtime-corejs3/regenerator":498}],28:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault"),o=e("@babel/runtime-corejs3/core-js-stable/object/define-property"),i=e("@babel/runtime-corejs3/core-js-stable/reflect/construct");o(n,"__esModule",{value:!0}),n.opFromJSON=function(e){if(!e||!e.__op)return null;switch(e.__op){case"Delete":return new T;case"Increment":return new A(e.amount);case"Add":return new P((0,w.default)(e.objects));case"AddUnique":return new M((0,w.default)(e.objects));case"Remove":return new D((0,w.default)(e.objects));case"AddRelation":var t=(0,w.default)(e.objects);return(0,v.default)(t)?new L(t,[]):new L([],[]);case"RemoveRelation":return t=(0,w.default)(e.objects),(0,v.default)(t)?new L([],t):new L([],[]);case"Batch":for(var n=[],r=[],o=0;o<e.ops.length;o++)"AddRelation"===e.ops[o].__op?n=(0,g.default)(n).call(n,(0,w.default)(e.ops[o].objects)):"RemoveRelation"===e.ops[o].__op&&(r=(0,g.default)(r).call(r,(0,w.default)(e.ops[o].objects)));return new L(n,r)}return null},n.RelationOp=n.RemoveOp=n.AddUniqueOp=n.AddOp=n.IncrementOp=n.UnsetOp=n.SetOp=n.Op=void 0;var s=r(e("@babel/runtime-corejs3/core-js-stable/instance/map")),a=r(e("@babel/runtime-corejs3/core-js-stable/instance/splice")),l=r(e("@babel/runtime-corejs3/core-js-stable/instance/index-of")),u=r(e("@babel/runtime-corejs3/core-js-stable/instance/for-each")),c=r(e("@babel/runtime-corejs3/helpers/assertThisInitialized")),d=r(e("@babel/runtime-corejs3/helpers/inherits")),p=r(e("@babel/runtime-corejs3/helpers/possibleConstructorReturn")),h=r(e("@babel/runtime-corejs3/helpers/getPrototypeOf")),f=r(e("@babel/runtime-corejs3/helpers/defineProperty")),m=r(e("@babel/runtime-corejs3/helpers/classCallCheck")),b=r(e("@babel/runtime-corejs3/helpers/createClass")),g=r(e("@babel/runtime-corejs3/core-js-stable/instance/concat")),v=r(e("@babel/runtime-corejs3/core-js-stable/array/is-array")),y=r(e("./arrayContainsObject")),w=r(e("./decode")),x=r(e("./encode")),j=r(e("./ParseObject")),C=r(e("./ParseRelation")),E=r(e("./unique"));function _(n){var r=function(){if("undefined"==typeof Reflect||!i)return!1;if(i.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,h.default)(n),t=r?(e=(0,h.default)(this).constructor,i(t,arguments,e)):t.apply(this,arguments);return(0,p.default)(this,t)}}var R=((0,b.default)(k,[{key:"applyTo",value:function(){}},{key:"mergeWith",value:function(){}},{key:"toJSON",value:function(){}}]),k);function k(){(0,m.default)(this,k)}n.Op=R;var S=function(){(0,d.default)(r,R);var n=_(r);function r(e){var t;return(0,m.default)(this,r),t=n.call(this),(0,f.default)((0,c.default)(t),"_value",void 0),t._value=e,t}return(0,b.default)(r,[{key:"applyTo",value:function(){return this._value}},{key:"mergeWith",value:function(){return new r(this._value)}},{key:"toJSON",value:function(e){return(0,x.default)(this._value,!1,!0,void 0,e)}}]),r}();n.SetOp=S;var T=function(){(0,d.default)(t,R);var e=_(t);function t(){return(0,m.default)(this,t),e.apply(this,arguments)}return(0,b.default)(t,[{key:"applyTo",value:function(){}},{key:"mergeWith",value:function(){return new t}},{key:"toJSON",value:function(){return{__op:"Delete"}}}]),t}();n.UnsetOp=T;var A=function(){(0,d.default)(r,R);var n=_(r);function r(e){var t;if((0,m.default)(this,r),t=n.call(this),(0,f.default)((0,c.default)(t),"_amount",void 0),"number"!=typeof e)throw new TypeError("Increment Op must be initialized with a numeric amount.");return t._amount=e,t}return(0,b.default)(r,[{key:"applyTo",value:function(e){if(void 0===e)return this._amount;if("number"!=typeof e)throw new TypeError("Cannot increment a non-numeric value.");return this._amount+e}},{key:"mergeWith",value:function(e){if(!e)return this;if(e instanceof S)return new S(this.applyTo(e._value));if(e instanceof T)return new S(this._amount);if(e instanceof r)return new r(this.applyTo(e._amount));throw new Error("Cannot merge Increment Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Increment",amount:this._amount}}}]),r}();n.IncrementOp=A;var P=function(){(0,d.default)(r,R);var n=_(r);function r(e){var t;return(0,m.default)(this,r),t=n.call(this),(0,f.default)((0,c.default)(t),"_value",void 0),t._value=(0,v.default)(e)?e:[e],t}return(0,b.default)(r,[{key:"applyTo",value:function(e){if(null==e)return this._value;if((0,v.default)(e))return(0,g.default)(e).call(e,this._value);throw new Error("Cannot add elements to a non-array value")}},{key:"mergeWith",value:function(e){if(!e)return this;if(e instanceof S)return new S(this.applyTo(e._value));if(e instanceof T)return new S(this._value);if(e instanceof r)return new r(this.applyTo(e._value));throw new Error("Cannot merge Add Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Add",objects:(0,x.default)(this._value,!1,!0)}}}]),r}();n.AddOp=P;var M=function(){(0,d.default)(r,R);var n=_(r);function r(e){var t;return(0,m.default)(this,r),t=n.call(this),(0,f.default)((0,c.default)(t),"_value",void 0),t._value=(0,E.default)((0,v.default)(e)?e:[e]),t}return(0,b.default)(r,[{key:"applyTo",value:function(t){if(null==t)return this._value||[];if((0,v.default)(t)){var e,n=[];return(0,u.default)(e=this._value).call(e,function(e){e instanceof j.default?(0,y.default)(t,e)||n.push(e):(0,l.default)(t).call(t,e)<0&&n.push(e)}),(0,g.default)(t).call(t,n)}throw new Error("Cannot add elements to a non-array value")}},{key:"mergeWith",value:function(e){if(!e)return this;if(e instanceof S)return new S(this.applyTo(e._value));if(e instanceof T)return new S(this._value);if(e instanceof r)return new r(this.applyTo(e._value));throw new Error("Cannot merge AddUnique Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"AddUnique",objects:(0,x.default)(this._value,!1,!0)}}}]),r}();n.AddUniqueOp=M;var D=function(){(0,d.default)(r,R);var n=_(r);function r(e){var t;return(0,m.default)(this,r),t=n.call(this),(0,f.default)((0,c.default)(t),"_value",void 0),t._value=(0,E.default)((0,v.default)(e)?e:[e]),t}return(0,b.default)(r,[{key:"applyTo",value:function(e){if(null==e)return[];if((0,v.default)(e)){for(var t=(0,g.default)(e).call(e,[]),n=0;n<this._value.length;n++){for(var r=(0,l.default)(t).call(t,this._value[n]);-1<r;)(0,a.default)(t).call(t,r,1),r=(0,l.default)(t).call(t,this._value[n]);if(this._value[n]instanceof j.default&&this._value[n].id)for(var o=0;o<t.length;o++)t[o]instanceof j.default&&this._value[n].id===t[o].id&&((0,a.default)(t).call(t,o,1),o--)}return t}throw new Error("Cannot remove elements from a non-array value")}},{key:"mergeWith",value:function(e){if(!e)return this;if(e instanceof S)return new S(this.applyTo(e._value));if(e instanceof T)return new T;if(e instanceof r){for(var t=(0,g.default)(e=e._value).call(e,[]),n=0;n<this._value.length;n++)this._value[n]instanceof j.default?(0,y.default)(t,this._value[n])||t.push(this._value[n]):(0,l.default)(t).call(t,this._value[n])<0&&t.push(this._value[n]);return new r(t)}throw new Error("Cannot merge Remove Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Remove",objects:(0,x.default)(this._value,!1,!0)}}}]),r}();n.RemoveOp=D;var L=function(){(0,d.default)(o,R);var r=_(o);function o(e,t){var n;return(0,m.default)(this,o),n=r.call(this),(0,f.default)((0,c.default)(n),"_targetClassName",void 0),(0,f.default)((0,c.default)(n),"relationsToAdd",void 0),(0,f.default)((0,c.default)(n),"relationsToRemove",void 0),(n._targetClassName=null,v.default)(e)&&(n.relationsToAdd=(0,E.default)((0,s.default)(e).call(e,n._extractId,(0,c.default)(n)))),(0,v.default)(t)&&(n.relationsToRemove=(0,E.default)((0,s.default)(t).call(t,n._extractId,(0,c.default)(n)))),n}return(0,b.default)(o,[{key:"_extractId",value:function(e){if("string"==typeof e)return e;if(!e.id)throw new Error("You cannot add or remove an unsaved Parse Object from a relation");if(this._targetClassName||(this._targetClassName=e.className),this._targetClassName!==e.className)throw new Error("Tried to create a Relation with 2 different object types: "+this._targetClassName+" and "+e.className+".");return e.id}},{key:"applyTo",value:function(e,t,n){if(!e){var r;if(!t||!n)throw new Error("Cannot apply a RelationOp without either a previous value, or an object and a key");var o=new j.default(t.className);return t.id&&0===(0,l.default)(r=t.id).call(r,"local")?o._localId=t.id:t.id&&(o.id=t.id),(n=new C.default(o,n)).targetClassName=this._targetClassName,n}if(e instanceof C.default){if(this._targetClassName)if(e.targetClassName){if(this._targetClassName!==e.targetClassName)throw new Error("Related object must be a "+e.targetClassName+", but a "+this._targetClassName+" was passed in.")}else e.targetClassName=this._targetClassName;return e}throw new Error("Relation cannot be applied to a non-relation field")}},{key:"mergeWith",value:function(e){if(!e)return this;if(e instanceof T)throw new Error("You cannot modify a relation after deleting it.");if(e instanceof S&&e._value instanceof C.default)return this;if(e instanceof o){var t;if(e._targetClassName&&e._targetClassName!==this._targetClassName)throw new Error("Related object must be of class "+e._targetClassName+", but "+(this._targetClassName||"null")+" was passed in.");var n=(0,g.default)(t=e.relationsToAdd).call(t,[]);(0,u.default)(t=this.relationsToRemove).call(t,function(e){-1<(e=(0,l.default)(n).call(n,e))&&(0,a.default)(n).call(n,e,1)}),(0,u.default)(t=this.relationsToAdd).call(t,function(e){(0,l.default)(n).call(n,e)<0&&n.push(e)});var r=(0,g.default)(e=e.relationsToRemove).call(e,[]);return(0,u.default)(e=this.relationsToAdd).call(e,function(e){-1<(e=(0,l.default)(r).call(r,e))&&(0,a.default)(r).call(r,e,1)}),(0,u.default)(e=this.relationsToRemove).call(e,function(e){(0,l.default)(r).call(r,e)<0&&r.push(e)}),(e=new o(n,r))._targetClassName=this._targetClassName,e}throw new Error("Cannot merge Relation Op with the previous Op")}},{key:"toJSON",value:function(){function e(e){return{__type:"Pointer",className:n._targetClassName,objectId:e}}var t,n=this,r=null,o=null;return 0<this.relationsToAdd.length&&(r={__op:"AddRelation",objects:(0,s.default)(t=this.relationsToAdd).call(t,e)}),0<this.relationsToRemove.length&&(o={__op:"RemoveRelation",objects:(0,s.default)(t=this.relationsToRemove).call(t,e)}),r&&o?{__op:"Batch",ops:[r,o]}:r||o||{}}}]),o}();n.RelationOp=L},{"./ParseObject":27,"./ParseRelation":31,"./arrayContainsObject":43,"./decode":45,"./encode":46,"./unique":52,"@babel/runtime-corejs3/core-js-stable/array/is-array":56,"@babel/runtime-corejs3/core-js-stable/instance/concat":58,"@babel/runtime-corejs3/core-js-stable/instance/for-each":64,"@babel/runtime-corejs3/core-js-stable/instance/index-of":66,"@babel/runtime-corejs3/core-js-stable/instance/map":68,"@babel/runtime-corejs3/core-js-stable/instance/splice":72,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/reflect/construct":91,"@babel/runtime-corejs3/helpers/assertThisInitialized":119,"@babel/runtime-corejs3/helpers/classCallCheck":121,"@babel/runtime-corejs3/helpers/createClass":123,"@babel/runtime-corejs3/helpers/defineProperty":124,"@babel/runtime-corejs3/helpers/getPrototypeOf":126,"@babel/runtime-corejs3/helpers/inherits":127,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/possibleConstructorReturn":136}],29:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime-corejs3/core-js-stable/array/is-array")),o=r(e("@babel/runtime-corejs3/helpers/classCallCheck")),s=r(e("@babel/runtime-corejs3/helpers/createClass")),a=r(e("@babel/runtime-corejs3/helpers/defineProperty")),l=r(e("./ParseGeoPoint"));function u(e){(0,o.default)(this,u),(0,a.default)(this,"_coordinates",void 0),this._coordinates=u._validate(e)}n.default=((0,s.default)(u,[{key:"coordinates",get:function(){return this._coordinates},set:function(e){this._coordinates=u._validate(e)}},{key:"toJSON",value:function(){return u._validate(this._coordinates),{__type:"Polygon",coordinates:this._coordinates}}},{key:"equals",value:function(e){if(!(e instanceof u)||this.coordinates.length!==e.coordinates.length)return!1;for(var t=!0,n=1;n<this._coordinates.length;n+=1)if(this._coordinates[n][0]!=e.coordinates[n][0]||this._coordinates[n][1]!=e.coordinates[n][1]){t=!1;break}return t}},{key:"containsPoint",value:function(e){for(var t=this._coordinates[0][0],n=this._coordinates[0][0],r=this._coordinates[0][1],o=this._coordinates[0][1],i=1;i<this._coordinates.length;i+=1)var s=this._coordinates[i],t=Math.min(s[0],t),n=Math.max(s[0],n),r=Math.min(s[1],r),o=Math.max(s[1],o);if(e.latitude<t||e.latitude>n||e.longitude<r||e.longitude>o)return!1;for(var a=!1,l=0,u=this._coordinates.length-1;l<this._coordinates.length;u=l++){var c=this._coordinates[l][0],d=this._coordinates[l][1],p=this._coordinates[u][0],h=this._coordinates[u][1];d>e.longitude!=h>e.longitude&&e.latitude<(p-c)*(e.longitude-d)/(h-d)+c&&(a=!a)}return a}}],[{key:"_validate",value:function(e){if(!(0,i.default)(e))throw new TypeError("Coordinates must be an Array");if(e.length<3)throw new TypeError("Polygon must have at least 3 GeoPoints or Points");for(var t=[],n=0;n<e.length;n+=1){var r=e[n],o=void 0;if(r instanceof l.default)o=r;else{if(!(0,i.default)(r)||2!==r.length)throw new TypeError("Coordinates must be an Array of GeoPoints or Points");o=new l.default(r[0],r[1])}t.push([o.latitude,o.longitude])}return t}}]),u)},{"./ParseGeoPoint":24,"@babel/runtime-corejs3/core-js-stable/array/is-array":56,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/helpers/classCallCheck":121,"@babel/runtime-corejs3/helpers/createClass":123,"@babel/runtime-corejs3/helpers/defineProperty":124,"@babel/runtime-corejs3/helpers/interopRequireDefault":128}],30:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=void 0;var o,i,s,a,l,u,c=r(e("@babel/runtime-corejs3/core-js-stable/object/entries")),d=r(e("@babel/runtime-corejs3/helpers/slicedToArray")),p=r(e("@babel/runtime-corejs3/core-js-stable/array/is-array")),h=r(e("@babel/runtime-corejs3/helpers/toConsumableArray")),f=r(e("@babel/runtime-corejs3/core-js-stable/instance/find")),m=r(e("@babel/runtime-corejs3/core-js-stable/promise")),b=r(e("@babel/runtime-corejs3/regenerator")),g=r(e("@babel/runtime-corejs3/core-js-stable/instance/splice")),v=r(e("@babel/runtime-corejs3/core-js-stable/instance/sort")),y=r(e("@babel/runtime-corejs3/core-js-stable/instance/includes")),w=r(e("@babel/runtime-corejs3/core-js-stable/instance/concat")),x=r(e("@babel/runtime-corejs3/core-js-stable/instance/keys")),j=r(e("@babel/runtime-corejs3/core-js-stable/instance/filter")),C=r(e("@babel/runtime-corejs3/helpers/asyncToGenerator")),E=r(e("@babel/runtime-corejs3/core-js-stable/instance/map")),_=r(e("@babel/runtime-corejs3/helpers/classCallCheck")),R=r(e("@babel/runtime-corejs3/helpers/createClass")),k=r(e("@babel/runtime-corejs3/helpers/defineProperty")),S=r(e("@babel/runtime-corejs3/core-js-stable/instance/slice")),T=r(e("@babel/runtime-corejs3/core-js-stable/object/keys")),A=r(e("@babel/runtime-corejs3/helpers/typeof")),P=r(e("@babel/runtime-corejs3/core-js-stable/instance/index-of")),M=r(e("@babel/runtime-corejs3/core-js-stable/instance/for-each")),D=r(e("./CoreManager")),L=r(e("./encode")),O=e("./promiseUtils"),I=r(e("./ParseError")),N=r(e("./ParseGeoPoint")),F=r(e("./ParseObject")),H=r(e("./OfflineQuery")),z=e("./LocalDatastoreUtils");function W(e){return"\\Q"+e.replace("\\E","\\E\\\\E\\Q")+"\\E"}function B(e){var t=null;return(0,M.default)(e).call(e,function(e){if((t=t||e.className)!==e.className)throw new Error("All queries must be for the same class.")}),t}function q(n,e){var i={};(0,M.default)(e).call(e,function(e){var r,o,t=-1!==(0,P.default)(e).call(e,".");t||n.hasOwnProperty(e)?t&&(t=e.split("."),r=n,o=i,(0,M.default)(t).call(t,function(e,t,n){r&&!r.hasOwnProperty(e)&&(r[e]=void 0),r&&"object"===(0,A.default)(r)&&(r=r[e]),t<n.length-1&&(o[e]||(o[e]={}),o=o[e])})):n[e]=void 0}),0<(0,T.default)(i).length&&function e(t,n,r,o){if(o)for(var i in t)t.hasOwnProperty(i)&&!n.hasOwnProperty(i)&&(n[i]=t[i]);for(var s in r)void 0!==n[s]&&null!==n[s]&&null!=t&&e(t[s],n[s],r[s],!0)}(D.default.getObjectStateController().getServerData({id:n.objectId,className:n.className}),n,i,!1)}function V(e){if((0,_.default)(this,V),(0,k.default)(this,"className",void 0),(0,k.default)(this,"_where",void 0),(0,k.default)(this,"_include",void 0),(0,k.default)(this,"_exclude",void 0),(0,k.default)(this,"_select",void 0),(0,k.default)(this,"_limit",void 0),(0,k.default)(this,"_skip",void 0),(0,k.default)(this,"_count",void 0),(0,k.default)(this,"_order",void 0),(0,k.default)(this,"_readPreference",void 0),(0,k.default)(this,"_includeReadPreference",void 0),(0,k.default)(this,"_subqueryReadPreference",void 0),(0,k.default)(this,"_queriesLocalDatastore",void 0),(0,k.default)(this,"_localDatastorePinName",void 0),(0,k.default)(this,"_extraOptions",void 0),(0,k.default)(this,"_hint",void 0),(0,k.default)(this,"_explain",void 0),(0,k.default)(this,"_xhrRequest",void 0),"string"==typeof e)"User"===e&&D.default.get("PERFORM_USER_REWRITE")?this.className="_User":this.className=e;else if(e instanceof F.default)this.className=e.className;else{if("function"!=typeof e)throw new TypeError("A ParseQuery must be constructed with a ParseObject or class name.");"string"==typeof e.className||(e=new e),this.className=e.className}this._where={},this._include=[],this._exclude=[],this._count=!1,this._limit=-1,this._skip=0,this._readPreference=null,this._includeReadPreference=null,this._subqueryReadPreference=null,this._queriesLocalDatastore=!1,this._localDatastorePinName=null,this._extraOptions={},this._xhrRequest={task:null,onchange:function(){}}}(0,R.default)(V,[{key:"_orQuery",value:function(e){return e=(0,E.default)(e).call(e,function(e){return e.toJSON().where}),this._where.$or=e,this}},{key:"_andQuery",value:function(e){return e=(0,E.default)(e).call(e,function(e){return e.toJSON().where}),this._where.$and=e,this}},{key:"_norQuery",value:function(e){return e=(0,E.default)(e).call(e,function(e){return e.toJSON().where}),this._where.$nor=e,this}},{key:"_addCondition",value:function(e,t,n){return this._where[e]&&"string"!=typeof this._where[e]||(this._where[e]={}),this._where[e][t]=(0,L.default)(n,!1,!0),this}},{key:"_regexStartWith",value:function(e){return"^"+W(e)}},{key:"_handleOfflineQuery",value:(u=(0,C.default)(b.default.mark(function e(t){var n,r,o,i,s,a,l=this;return b.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return H.default.validateQuery(this),n=D.default.getLocalDatastore(),e.next=4,n._serializeObjectsFromPinName(this._localDatastorePinName);case 4:if(r=e.sent,r=(0,j.default)(r=(0,E.default)(r).call(r,function(e,t,n){var r=F.default.fromJSON(e,!1);return e._localId&&!e.objectId&&(r._localId=e._localId),H.default.matchesQuery(l.className,r,n,l)?r:null})).call(r,function(e){return null!==e}),(0,x.default)(t)&&(o=(0,x.default)(t).split(","),a=["className","objectId","createdAt","updatedAt","ACL"],o=(0,w.default)(o).call(o,a),r=(0,E.default)(r).call(r,function(e){var t=e._toFullJSON();return(0,M.default)(e=(0,T.default)(t)).call(e,function(e){(0,y.default)(o).call(o,e)||delete t[e]}),F.default.fromJSON(t,!1)})),t.order&&(i=t.order.split(","),(0,v.default)(r).call(r,function(e,t){return function e(t,n,r){var o=r[0],i="-"===(0,S.default)(o).call(o,0,1);if(i&&(o=o.substring(1)),!/^[A-Za-z][0-9A-Za-z_]*$/.test(o="_updated_at"===(o="_created_at"===o?"createdAt":o)?"updatedAt":o)||"password"===o)throw new I.default(I.default.INVALID_KEY_NAME,"Invalid Key: ".concat(o));var s=t.get(o);return s<(o=n.get(o))?i?1:-1:o<s?i?-1:1:1<r.length?e(t,n,(0,S.default)(r).call(r,1)):0}(e,t,i)})),t.count&&(s=r.length),t.skip&&(r=t.skip>=r.length?[]:(0,g.default)(r).call(r,t.skip,r.length)),a=r.length,0!==t.limit&&t.limit<r.length&&(a=t.limit),r=(0,g.default)(r).call(r,0,a),"number"==typeof s)return e.abrupt("return",{results:r,count:s});e.next=15;break;case 15:return e.abrupt("return",r);case 16:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"toJSON",value:function(){var e,t={where:this._where};for(e in this._include.length&&(t.include=this._include.join(",")),this._exclude.length&&(t.excludeKeys=this._exclude.join(",")),this._select&&(t.keys=this._select.join(",")),this._count&&(t.count=1),0<=this._limit&&(t.limit=this._limit),0<this._skip&&(t.skip=this._skip),this._order&&(t.order=this._order.join(",")),this._readPreference&&(t.readPreference=this._readPreference),this._includeReadPreference&&(t.includeReadPreference=this._includeReadPreference),this._subqueryReadPreference&&(t.subqueryReadPreference=this._subqueryReadPreference),this._hint&&(t.hint=this._hint),this._explain&&(t.explain=!0),this._extraOptions)t[e]=this._extraOptions[e];return t}},{key:"withJSON",value:function(e){for(var t in e.where&&(this._where=e.where),e.include&&(this._include=e.include.split(",")),(0,x.default)(e)&&(this._select=(0,x.default)(e).split(",")),e.excludeKeys&&(this._exclude=e.excludeKeys.split(",")),e.count&&(this._count=1===e.count),e.limit&&(this._limit=e.limit),e.skip&&(this._skip=e.skip),e.order&&(this._order=e.order.split(",")),e.readPreference&&(this._readPreference=e.readPreference),e.includeReadPreference&&(this._includeReadPreference=e.includeReadPreference),e.subqueryReadPreference&&(this._subqueryReadPreference=e.subqueryReadPreference),e.hint&&(this._hint=e.hint),e.explain&&(this._explain=!!e.explain),e){var n;e.hasOwnProperty(t)&&-1===(0,P.default)(n=["where","include","keys","count","limit","skip","order","readPreference","includeReadPreference","subqueryReadPreference","hint","explain"]).call(n,t)&&(this._extraOptions[t]=e[t])}return this}},{key:"get",value:function(e,t){return this.equalTo("objectId",e),e={},t&&t.hasOwnProperty("useMasterKey")&&(e.useMasterKey=t.useMasterKey),t&&t.hasOwnProperty("sessionToken")&&(e.sessionToken=t.sessionToken),t&&t.hasOwnProperty("context")&&"object"===(0,A.default)(t.context)&&(e.context=t.context),t&&t.hasOwnProperty("json")&&(e.json=t.json),this.first(e).then(function(e){return e||(e=new I.default(I.default.OBJECT_NOT_FOUND,"Object not found."),m.default.reject(e))})}},{key:"find",value:function(r){var o=this,e={};(r=r||{}).hasOwnProperty("useMasterKey")&&(e.useMasterKey=r.useMasterKey),r.hasOwnProperty("sessionToken")&&(e.sessionToken=r.sessionToken),r.hasOwnProperty("context")&&"object"===(0,A.default)(r.context)&&(e.context=r.context),this._setRequestTask(e);var t=D.default.getQueryController(),i=this._select;return this._queriesLocalDatastore?this._handleOfflineQuery(this.toJSON()):(0,f.default)(t).call(t,this.className,this.toJSON(),e).then(function(n){if(o._explain)return n.results;var e=(0,E.default)(t=n.results).call(t,function(e){var t=n.className||o.className;return e.className||(e.className=t),i&&q(e,i),r.json?e:F.default.fromJSON(e,!i)}),t=n.count;return"number"==typeof t?{results:e,count:t}:e})}},{key:"findAll",value:(l=(0,C.default)(b.default.mark(function e(t){var n;return b.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,this.eachBatch(function(e){var t;n=(0,w.default)(t=[]).call(t,(0,h.default)(n),(0,h.default)(e))},t);case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"count",value:function(e){var t={};(e=e||{}).hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(t.sessionToken=e.sessionToken),this._setRequestTask(t);var n=D.default.getQueryController();return(e=this.toJSON()).limit=0,e.count=1,(0,f.default)(n).call(n,this.className,e,t).then(function(e){return e.count})}},{key:"distinct",value:function(e,t){var n={useMasterKey:!0};return(t=t||{}).hasOwnProperty("sessionToken")&&(n.sessionToken=t.sessionToken),this._setRequestTask(n),t=D.default.getQueryController(),e={distinct:e,where:this._where,hint:this._hint},t.aggregate(this.className,e,n).then(function(e){return e.results})}},{key:"aggregate",value:function(e,t){var n={useMasterKey:!0};if((t=t||{}).hasOwnProperty("sessionToken")&&(n.sessionToken=t.sessionToken),this._setRequestTask(n),t=D.default.getQueryController(),!(0,p.default)(e)&&"object"!==(0,A.default)(e))throw new Error("Invalid pipeline must be Array or Object");return(0,T.default)(this._where||{}).length&&(e=(0,p.default)(e)?e:[e]).unshift({match:this._where}),e={pipeline:e,hint:this._hint,explain:this._explain,readPreference:this._readPreference},t.aggregate(this.className,e,n).then(function(e){return e.results})}},{key:"first",value:function(t){var n=this,e={};(t=t||{}).hasOwnProperty("useMasterKey")&&(e.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(e.sessionToken=t.sessionToken),t.hasOwnProperty("context")&&"object"===(0,A.default)(t.context)&&(e.context=t.context),this._setRequestTask(e);var r=D.default.getQueryController(),o=this.toJSON();o.limit=1;var i=this._select;return this._queriesLocalDatastore?this._handleOfflineQuery(o).then(function(e){if(e[0])return e[0]}):(0,f.default)(r).call(r,this.className,o,e).then(function(e){if((e=e.results)[0])return e[0].className||(e[0].className=n.className),i&&q(e[0],i),t.json?e[0]:F.default.fromJSON(e[0],!i)})}},{key:"eachBatch",value:function(n,e){if(e=e||{},this._order||this._skip||0<=this._limit)return m.default.reject("Cannot iterate on a query with sort, skip, or limit.");var t,r,o=new V(this.className);for(r in o._limit=e.batchSize||100,o._include=(0,E.default)(t=this._include).call(t,function(e){return e}),this._select&&(o._select=(0,E.default)(t=this._select).call(t,function(e){return e})),o._hint=this._hint,o._where={},this._where){var i=this._where[r];if((0,p.default)(i))o._where[r]=(0,E.default)(i).call(i,function(e){return e});else if(i&&"object"===(0,A.default)(i)){var s,a={};for(s in o._where[r]=a,i)a[s]=i[s]}else o._where[r]=i}o.ascending("objectId");var l={};e.hasOwnProperty("useMasterKey")&&(l.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(l.sessionToken=e.sessionToken),e.hasOwnProperty("context")&&"object"===(0,A.default)(e.context)&&(l.context=e.context);var u=!1,c=[];return(0,O.continueWhile)(function(){return!u},(0,C.default)(b.default.mark(function e(){var t;return b.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.default.all([(0,f.default)(o).call(o,l),m.default.resolve(0<c.length&&n(c))]);case 2:if(t=e.sent,!((t=(t=(0,d.default)(t,1))[0]).length>=o._limit)){e.next=10;break}o.greaterThan("objectId",t[t.length-1].id),c=t,e.next=17;break;case 10:if(0<t.length)return e.next=13,m.default.resolve(n(t));e.next=16;break;case 13:u=!0,e.next=17;break;case 16:u=!0;case 17:case"end":return e.stop()}},e)})))}},{key:"each",value:function(n,e){return this.eachBatch(function(e){var t=m.default.resolve();return(0,M.default)(e).call(e,function(e){t=t.then(function(){return n(e)})}),t},e)}},{key:"hint",value:function(e){return void 0===e&&delete this._hint,this._hint=e,this}},{key:"explain",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];if("boolean"!=typeof e)throw new Error("You can only set explain to a boolean value");return this._explain=e,this}},{key:"map",value:(a=(0,C.default)(b.default.mark(function e(t,n){var r,o,i=this;return b.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],o=0,e.next=4,this.each(function(e){return m.default.resolve(t(e,o,i)).then(function(e){r.push(e),o+=1})},n);case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"reduce",value:(s=(0,C.default)(b.default.mark(function e(t,n,r){var o,i;return b.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n,i=0,e.next=4,this.each(function(e){return 0===i&&void 0===n?(o=e,void(i+=1)):m.default.resolve(t(o,e,i)).then(function(e){o=e,i+=1})},r);case 4:if(0===i&&void 0===n)throw new TypeError("Reducing empty query result set with no initial value");e.next=6;break;case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"filter",value:(i=(0,C.default)(b.default.mark(function e(n,t){var r,o,i=this;return b.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],o=0,e.next=4,this.each(function(t){return m.default.resolve(n(t,o,i)).then(function(e){e&&r.push(t),o+=1})},t);case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"equalTo",value:function(e,t){var n,r=this;return e&&"object"===(0,A.default)(e)?((0,M.default)(n=(0,c.default)(e)).call(n,function(e){var e=(t=(0,d.default)(e,2))[0],t=t[1];return r.equalTo(e,t)}),this):void 0===t?this.doesNotExist(e):(this._where[e]=(0,L.default)(t,!1,!0),this)}},{key:"notEqualTo",value:function(e,t){var n,r=this;return e&&"object"===(0,A.default)(e)?((0,M.default)(n=(0,c.default)(e)).call(n,function(e){var e=(t=(0,d.default)(e,2))[0],t=t[1];return r.notEqualTo(e,t)}),this):this._addCondition(e,"$ne",t)}},{key:"lessThan",value:function(e,t){return this._addCondition(e,"$lt",t)}},{key:"greaterThan",value:function(e,t){return this._addCondition(e,"$gt",t)}},{key:"lessThanOrEqualTo",value:function(e,t){return this._addCondition(e,"$lte",t)}},{key:"greaterThanOrEqualTo",value:function(e,t){return this._addCondition(e,"$gte",t)}},{key:"containedIn",value:function(e,t){return this._addCondition(e,"$in",t)}},{key:"notContainedIn",value:function(e,t){return this._addCondition(e,"$nin",t)}},{key:"containedBy",value:function(e,t){return this._addCondition(e,"$containedBy",t)}},{key:"containsAll",value:function(e,t){return this._addCondition(e,"$all",t)}},{key:"containsAllStartingWith",value:function(e,t){var n=this;return(0,p.default)(t)||(t=[t]),t=(0,E.default)(t).call(t,function(e){return{$regex:n._regexStartWith(e)}}),this.containsAll(e,t)}},{key:"exists",value:function(e){return this._addCondition(e,"$exists",!0)}},{key:"doesNotExist",value:function(e){return this._addCondition(e,"$exists",!1)}},{key:"matches",value:function(e,t,n){return this._addCondition(e,"$regex",t),n=n||"",t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),n.length&&this._addCondition(e,"$options",n),this}},{key:"matchesQuery",value:function(e,t){var n=t.toJSON();return n.className=t.className,this._addCondition(e,"$inQuery",n)}},{key:"doesNotMatchQuery",value:function(e,t){var n=t.toJSON();return n.className=t.className,this._addCondition(e,"$notInQuery",n)}},{key:"matchesKeyInQuery",value:function(e,t,n){var r=n.toJSON();return r.className=n.className,this._addCondition(e,"$select",{key:t,query:r})}},{key:"doesNotMatchKeyInQuery",value:function(e,t,n){var r=n.toJSON();return r.className=n.className,this._addCondition(e,"$dontSelect",{key:t,query:r})}},{key:"contains",value:function(e,t){if("string"!=typeof t)throw new Error("The value being searched for must be a string.");return this._addCondition(e,"$regex",W(t))}},{key:"fullText",value:function(e,t,n){if(n=n||{},!e)throw new Error("A key is required.");if(!t)throw new Error("A search term is required");if("string"!=typeof t)throw new Error("The value being searched for must be a string.");var r,o={};for(r in o.$term=t,n)switch(r){case"language":o.$language=n[r];break;case"caseSensitive":o.$caseSensitive=n[r];break;case"diacriticSensitive":o.$diacriticSensitive=n[r];break;default:throw new Error("Unknown option: ".concat(r))}return this._addCondition(e,"$text",{$search:o})}},{key:"sortByTextScore",value:function(){return this.ascending("$score"),this.select(["$score"]),this}},{key:"startsWith",value:function(e,t,n){if("string"!=typeof t)throw new Error("The value being searched for must be a string.");return this.matches(e,this._regexStartWith(t),n)}},{key:"endsWith",value:function(e,t,n){if("string"!=typeof t)throw new Error("The value being searched for must be a string.");return this.matches(e,W(t)+"$",n)}},{key:"near",value:function(e,t){return t instanceof N.default||(t=new N.default(t)),this._addCondition(e,"$nearSphere",t)}},{key:"withinRadians",value:function(e,t,n,r){return r||void 0===r?(this.near(e,t),this._addCondition(e,"$maxDistance",n)):this._addCondition(e,"$geoWithin",{$centerSphere:[[t.longitude,t.latitude],n]})}},{key:"withinMiles",value:function(e,t,n,r){return this.withinRadians(e,t,n/3958.8,r)}},{key:"withinKilometers",value:function(e,t,n,r){return this.withinRadians(e,t,n/6371,r)}},{key:"withinGeoBox",value:function(e,t,n){return t instanceof N.default||(t=new N.default(t)),n instanceof N.default||(n=new N.default(n)),this._addCondition(e,"$within",{$box:[t,n]}),this}},{key:"withinPolygon",value:function(e,t){return this._addCondition(e,"$geoWithin",{$polygon:t})}},{key:"polygonContains",value:function(e,t){return this._addCondition(e,"$geoIntersects",{$point:t})}},{key:"ascending",value:function(){this._order=[];for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.addAscending.apply(this,t)}},{key:"addAscending",value:function(){var n=this;this._order||(this._order=[]);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,M.default)(t).call(t,function(e){var t;(0,p.default)(e)&&(e=e.join()),n._order=(0,w.default)(t=n._order).call(t,e.replace(/\s/g,"").split(","))}),this}},{key:"descending",value:function(){this._order=[];for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.addDescending.apply(this,t)}},{key:"addDescending",value:function(){var n=this;this._order||(this._order=[]);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,M.default)(t).call(t,function(e){var t;(0,p.default)(e)&&(e=e.join()),n._order=(0,w.default)(t=n._order).call(t,(0,E.default)(e=e.replace(/\s/g,"").split(",")).call(e,function(e){return"-"+e}))}),this}},{key:"skip",value:function(e){if("number"!=typeof e||e<0)throw new Error("You can only skip by a positive number");return this._skip=e,this}},{key:"limit",value:function(e){if("number"!=typeof e)throw new Error("You can only set the limit to a numeric value");return this._limit=e,this}},{key:"withCount",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];if("boolean"!=typeof e)throw new Error("You can only set withCount to a boolean value");return this._count=e,this}},{key:"include",value:function(){for(var n=this,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,M.default)(t).call(t,function(e){var t;(0,p.default)(e)?n._include=(0,w.default)(t=n._include).call(t,e):n._include.push(e)}),this}},{key:"includeAll",value:function(){return this.include("*")}},{key:"select",value:function(){var n=this;this._select||(this._select=[]);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,M.default)(t).call(t,function(e){var t;(0,p.default)(e)?n._select=(0,w.default)(t=n._select).call(t,e):n._select.push(e)}),this}},{key:"exclude",value:function(){for(var n=this,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,M.default)(t).call(t,function(e){var t;(0,p.default)(e)?n._exclude=(0,w.default)(t=n._exclude).call(t,e):n._exclude.push(e)}),this}},{key:"readPreference",value:function(e,t,n){return this._readPreference=e,this._includeReadPreference=t,this._subqueryReadPreference=n,this}},{key:"subscribe",value:(o=(0,C.default)(b.default.mark(function e(t){var n,r;return b.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.default.getUserController().currentUserAsync();case 2:return n=e.sent,t=t||(n?n.getSessionToken():void 0),e.next=6,D.default.getLiveQueryController().getDefaultLiveQueryClient();case 6:return(n=e.sent).shouldOpen()&&n.open(),r=n.subscribe(this,t),e.abrupt("return",r.subscribePromise.then(function(){return r}));case 10:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"fromNetwork",value:function(){return this._queriesLocalDatastore=!1,this._localDatastorePinName=null,this}},{key:"fromLocalDatastore",value:function(){return this.fromPinWithName(null)}},{key:"fromPin",value:function(){return this.fromPinWithName(z.DEFAULT_PIN)}},{key:"fromPinWithName",value:function(e){return D.default.getLocalDatastore().checkIfEnabled()&&(this._queriesLocalDatastore=!0,this._localDatastorePinName=e),this}},{key:"cancel",value:function(){var e=this;return this._xhrRequest.task&&"function"==typeof this._xhrRequest.task.abort?(this._xhrRequest.task._aborted=!0,this._xhrRequest.task.abort(),this._xhrRequest.task=null,this._xhrRequest.onchange=function(){},this):this._xhrRequest.onchange=function(){return e.cancel()}}},{key:"_setRequestTask",value:function(e){var t=this;e.requestTask=function(e){t._xhrRequest.task=e,t._xhrRequest.onchange()}}}],[{key:"fromJSON",value:function(e,t){return new V(e).withJSON(t)}},{key:"or",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new V(B(t));return r._orQuery(t),r}},{key:"and",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new V(B(t));return r._andQuery(t),r}},{key:"nor",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new V(B(t));return r._norQuery(t),r}}]),r=V,e={find:function(e,t,n){return D.default.getRESTController().request("GET","classes/"+e,t,n)},aggregate:function(e,t,n){return D.default.getRESTController().request("GET","aggregate/"+e,t,n)}},D.default.setQueryController(e),n.default=r},{"./CoreManager":4,"./LocalDatastoreUtils":15,"./OfflineQuery":17,"./ParseError":22,"./ParseGeoPoint":24,"./ParseObject":27,"./encode":46,"./promiseUtils":51,"@babel/runtime-corejs3/core-js-stable/array/is-array":56,"@babel/runtime-corejs3/core-js-stable/instance/concat":58,"@babel/runtime-corejs3/core-js-stable/instance/filter":61,"@babel/runtime-corejs3/core-js-stable/instance/find":63,"@babel/runtime-corejs3/core-js-stable/instance/for-each":64,"@babel/runtime-corejs3/core-js-stable/instance/includes":65,"@babel/runtime-corejs3/core-js-stable/instance/index-of":66,"@babel/runtime-corejs3/core-js-stable/instance/keys":67,"@babel/runtime-corejs3/core-js-stable/instance/map":68,"@babel/runtime-corejs3/core-js-stable/instance/slice":70,"@babel/runtime-corejs3/core-js-stable/instance/sort":71,"@babel/runtime-corejs3/core-js-stable/instance/splice":72,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/object/entries":82,"@babel/runtime-corejs3/core-js-stable/object/keys":88,"@babel/runtime-corejs3/core-js-stable/promise":90,"@babel/runtime-corejs3/helpers/asyncToGenerator":120,"@babel/runtime-corejs3/helpers/classCallCheck":121,"@babel/runtime-corejs3/helpers/createClass":123,"@babel/runtime-corejs3/helpers/defineProperty":124,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/slicedToArray":138,"@babel/runtime-corejs3/helpers/toConsumableArray":140,"@babel/runtime-corejs3/helpers/typeof":141,"@babel/runtime-corejs3/regenerator":498}],31:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("@babel/runtime-corejs3/core-js-stable/array/is-array")),i=r(e("@babel/runtime-corejs3/helpers/classCallCheck")),s=r(e("@babel/runtime-corejs3/helpers/createClass")),a=r(e("@babel/runtime-corejs3/helpers/defineProperty")),l=e("./ParseOp"),u=(r(e("./ParseObject")),r(e("./ParseQuery")));function c(e,t){(0,i.default)(this,c),(0,a.default)(this,"parent",void 0),(0,a.default)(this,"key",void 0),(0,a.default)(this,"targetClassName",void 0),this.parent=e,this.key=t,this.targetClassName=null}n.default=((0,s.default)(c,[{key:"_ensureParentAndKey",value:function(e,t){if(this.key=this.key||t,this.key!==t)throw new Error("Internal Error. Relation retrieved from two different keys.");if(this.parent){if(this.parent.className!==e.className)throw new Error("Internal Error. Relation retrieved from two different Objects.");if(this.parent.id){if(this.parent.id!==e.id)throw new Error("Internal Error. Relation retrieved from two different Objects.")}else e.id&&(this.parent=e)}else this.parent=e}},{key:"add",value:function(e){(0,o.default)(e)||(e=[e]);var t=new l.RelationOp(e,[]),n=this.parent;if(!n)throw new Error("Cannot add to a Relation without a parent");return 0===e.length||(n.set(this.key,t),this.targetClassName=t._targetClassName),n}},{key:"remove",value:function(e){(0,o.default)(e)||(e=[e]);var t=new l.RelationOp([],e);if(!this.parent)throw new Error("Cannot remove from a Relation without a parent");0!==e.length&&(this.parent.set(this.key,t),this.targetClassName=t._targetClassName)}},{key:"toJSON",value:function(){return{__type:"Relation",className:this.targetClassName}}},{key:"query",value:function(){var e,t=this.parent;if(!t)throw new Error("Cannot construct a query for a Relation without a parent");return this.targetClassName?e=new u.default(this.targetClassName):(e=new u.default(t.className))._extraOptions.redirectClassNameForKey=this.key,e._addCondition("$relatedTo","object",{__type:"Pointer",className:t.className,objectId:t.id}),e._addCondition("$relatedTo","key",this.key),e}}]),c)},{"./ParseObject":27,"./ParseOp":28,"./ParseQuery":30,"@babel/runtime-corejs3/core-js-stable/array/is-array":56,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/helpers/classCallCheck":121,"@babel/runtime-corejs3/helpers/createClass":123,"@babel/runtime-corejs3/helpers/defineProperty":124,"@babel/runtime-corejs3/helpers/interopRequireDefault":128}],32:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault"),o=e("@babel/runtime-corejs3/core-js-stable/object/define-property"),s=e("@babel/runtime-corejs3/core-js-stable/reflect/construct");o(n,"__esModule",{value:!0}),n.default=void 0;var a=r(e("@babel/runtime-corejs3/helpers/classCallCheck")),l=r(e("@babel/runtime-corejs3/helpers/createClass")),u=r(e("@babel/runtime-corejs3/helpers/get")),c=r(e("@babel/runtime-corejs3/helpers/inherits")),d=r(e("@babel/runtime-corejs3/helpers/possibleConstructorReturn")),p=r(e("@babel/runtime-corejs3/helpers/getPrototypeOf")),h=r(e("./ParseACL")),f=r(e("./ParseError"));e=function(e){(0,c.default)(i,e);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!s)return!1;if(s.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,p.default)(n),t=r?(e=(0,p.default)(this).constructor,s(t,arguments,e)):t.apply(this,arguments);return(0,d.default)(this,t)});function i(e,t){var n;return(0,a.default)(this,i),n=o.call(this,"_Role"),"string"==typeof e&&t instanceof h.default&&(n.setName(e),n.setACL(t)),n}return(0,l.default)(i,[{key:"getName",value:function(){var e=this.get("name");return null==e||"string"==typeof e?e:""}},{key:"setName",value:function(e,t){return this.set("name",e,t)}},{key:"getUsers",value:function(){return this.relation("users")}},{key:"getRoles",value:function(){return this.relation("roles")}},{key:"validate",value:function(e,t){if(t=(0,u.default)((0,p.default)(i.prototype),"validate",this).call(this,e,t))return t;if("name"in e&&e.name!==this.getName()){if(t=e.name,this.id&&this.id!==e.objectId)return new f.default(f.default.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if("string"!=typeof t)return new f.default(f.default.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(t))return new f.default(f.default.OTHER_CAUSE,"A role's name can be only contain alphanumeric characters, _, -, and spaces.")}return!1}}]),i}((r=r(e("./ParseObject"))).default),r.default.registerSubclass("_Role",e),n.default=e},{"./ParseACL":19,"./ParseError":22,"./ParseObject":27,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/reflect/construct":91,"@babel/runtime-corejs3/helpers/classCallCheck":121,"@babel/runtime-corejs3/helpers/createClass":123,"@babel/runtime-corejs3/helpers/get":125,"@babel/runtime-corejs3/helpers/getPrototypeOf":126,"@babel/runtime-corejs3/helpers/inherits":127,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/possibleConstructorReturn":136}],33:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=void 0;var o=r(e("@babel/runtime-corejs3/core-js-stable/instance/index-of")),i=r(e("@babel/runtime-corejs3/helpers/classCallCheck")),s=r(e("@babel/runtime-corejs3/helpers/createClass")),a=r(e("@babel/runtime-corejs3/helpers/defineProperty")),l=r(e("./CoreManager")),u=r(e("./ParseObject")),c=r(e("./ParseCLP")),d=["String","Number","Boolean","Date","File","GeoPoint","Polygon","Array","Object","Pointer","Relation"],r=((0,s.default)(p,[{key:"get",value:function(){return this.assertClassName(),l.default.getSchemaController().get(this.className).then(function(e){if(!e)throw new Error("Schema not found.");return e})}},{key:"save",value:function(){this.assertClassName();var e=l.default.getSchemaController(),t={className:this.className,fields:this._fields,indexes:this._indexes,classLevelPermissions:this._clp};return e.create(this.className,t)}},{key:"update",value:function(){this.assertClassName();var e=l.default.getSchemaController(),t={className:this.className,fields:this._fields,indexes:this._indexes,classLevelPermissions:this._clp};return this._fields={},this._indexes={},e.update(this.className,t)}},{key:"delete",value:function(){return this.assertClassName(),l.default.getSchemaController().delete(this.className)}},{key:"purge",value:function(){return this.assertClassName(),l.default.getSchemaController().purge(this.className)}},{key:"assertClassName",value:function(){if(!this.className)throw new Error("You must set a Class Name before making any request.")}},{key:"setCLP",value:function(e){return e instanceof c.default?this._clp=e.toJSON():this._clp=e,this}},{key:"addField",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(t=t||"String",!e)throw new Error("field name may not be null.");if(-1===(0,o.default)(d).call(d,t))throw new Error("".concat(t," is not a valid type."));return"Pointer"===t?this.addPointer(e,n.targetClass,n):"Relation"===t?this.addRelation(e,n.targetClass,n):(t={type:t},"boolean"==typeof n.required&&(t.required=n.required),void 0!==n.defaultValue&&(t.defaultValue=n.defaultValue),this._fields[e]=t,this)}},{key:"addIndex",value:function(e,t){if(!e)throw new Error("index name may not be null.");if(!t)throw new Error("index may not be null.");return this._indexes[e]=t,this}},{key:"addString",value:function(e,t){return this.addField(e,"String",t)}},{key:"addNumber",value:function(e,t){return this.addField(e,"Number",t)}},{key:"addBoolean",value:function(e,t){return this.addField(e,"Boolean",t)}},{key:"addDate",value:function(e,t){return t&&t.defaultValue&&(t.defaultValue={__type:"Date",iso:new Date(t.defaultValue)}),this.addField(e,"Date",t)}},{key:"addFile",value:function(e,t){return this.addField(e,"File",t)}},{key:"addGeoPoint",value:function(e,t){return this.addField(e,"GeoPoint",t)}},{key:"addPolygon",value:function(e,t){return this.addField(e,"Polygon",t)}},{key:"addArray",value:function(e,t){return this.addField(e,"Array",t)}},{key:"addObject",value:function(e,t){return this.addField(e,"Object",t)}},{key:"addPointer",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new Error("field name may not be null.");if(!t)throw new Error("You need to set the targetClass of the Pointer.");return t={type:"Pointer",targetClass:t},"boolean"==typeof n.required&&(t.required=n.required),void 0!==n.defaultValue&&(t.defaultValue=n.defaultValue,n.defaultValue instanceof u.default&&(t.defaultValue=n.defaultValue.toPointer())),this._fields[e]=t,this}},{key:"addRelation",value:function(e,t){if(!e)throw new Error("field name may not be null.");if(!t)throw new Error("You need to set the targetClass of the Relation.");return this._fields[e]={type:"Relation",targetClass:t},this}},{key:"deleteField",value:function(e){return this._fields[e]={__op:"Delete"},this}},{key:"deleteIndex",value:function(e){return this._indexes[e]={__op:"Delete"},this}}],[{key:"all",value:function(){return l.default.getSchemaController().get("").then(function(e){if(0===e.results.length)throw new Error("Schema not found.");return e.results})}}]),p),e={send:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return l.default.getRESTController().request(t,"schemas/".concat(e),n,{useMasterKey:!0})},get:function(e){return this.send(e,"GET")},create:function(e,t){return this.send(e,"POST",t)},update:function(e,t){return this.send(e,"PUT",t)},delete:function(e){return this.send(e,"DELETE")},purge:function(e){return l.default.getRESTController().request("DELETE","purge/".concat(e),{},{useMasterKey:!0})}};function p(e){(0,i.default)(this,p),(0,a.default)(this,"className",void 0),(0,a.default)(this,"_fields",void 0),(0,a.default)(this,"_indexes",void 0),(0,a.default)(this,"_clp",void 0),"string"==typeof e&&("User"===e&&l.default.get("PERFORM_USER_REWRITE")?this.className="_User":this.className=e),this._fields={},this._indexes={}}l.default.setSchemaController(e),n.default=r},{"./CoreManager":4,"./ParseCLP":20,"./ParseObject":27,"@babel/runtime-corejs3/core-js-stable/instance/index-of":66,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/helpers/classCallCheck":121,"@babel/runtime-corejs3/helpers/createClass":123,"@babel/runtime-corejs3/helpers/defineProperty":124,"@babel/runtime-corejs3/helpers/interopRequireDefault":128}],34:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault"),o=e("@babel/runtime-corejs3/core-js-stable/object/define-property"),s=e("@babel/runtime-corejs3/core-js-stable/reflect/construct");o(n,"__esModule",{value:!0}),n.default=void 0;var a=r(e("@babel/runtime-corejs3/core-js-stable/promise")),l=r(e("@babel/runtime-corejs3/helpers/typeof")),u=r(e("@babel/runtime-corejs3/helpers/classCallCheck")),c=r(e("@babel/runtime-corejs3/helpers/createClass")),d=r(e("@babel/runtime-corejs3/helpers/inherits")),p=r(e("@babel/runtime-corejs3/helpers/possibleConstructorReturn")),h=r(e("@babel/runtime-corejs3/helpers/getPrototypeOf")),f=r(e("./CoreManager")),m=r(e("./isRevocableSession")),o=r(e("./ParseObject")),b=r(e("./ParseUser"));var i=function(e){(0,d.default)(i,e);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!s)return!1;if(s.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(s(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,h.default)(n),t=r?(e=(0,h.default)(this).constructor,s(t,arguments,e)):t.apply(this,arguments);return(0,p.default)(this,t)});function i(e){var t;if((0,u.default)(this,i),t=o.call(this,"_Session"),e&&"object"===(0,l.default)(e)&&!t.set(e||{}))throw new Error("Can't create an invalid Session");return t}return(0,c.default)(i,[{key:"getSessionToken",value:function(){var e=this.get("sessionToken");return"string"==typeof e?e:""}}],[{key:"readOnlyAttributes",value:function(){return["createdWith","expiresAt","installationId","restricted","sessionToken","user"]}},{key:"current",value:function(e){e=e||{};var t=f.default.getSessionController(),n={};return e.hasOwnProperty("useMasterKey")&&(n.useMasterKey=e.useMasterKey),b.default.currentAsync().then(function(e){return e?(n.sessionToken=e.getSessionToken(),t.getSession(n)):a.default.reject("There is no current user.")})}},{key:"isCurrentSessionRevocable",value:function(){var e=b.default.current();return!!e&&(0,m.default)(e.getSessionToken()||"")}}]),i}(o.default);o.default.registerSubclass("_Session",i),o={getSession:function(e){var t=f.default.getRESTController(),n=new i;return t.request("GET","sessions/me",{},e).then(function(e){return n._finishFetch(e),n._setExisted(!0),n})}},f.default.setSessionController(o),n.default=i},{"./CoreManager":4,"./ParseObject":27,"./ParseUser":35,"./isRevocableSession":49,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/promise":90,"@babel/runtime-corejs3/core-js-stable/reflect/construct":91,"@babel/runtime-corejs3/helpers/classCallCheck":121,"@babel/runtime-corejs3/helpers/createClass":123,"@babel/runtime-corejs3/helpers/getPrototypeOf":126,"@babel/runtime-corejs3/helpers/inherits":127,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/possibleConstructorReturn":136,"@babel/runtime-corejs3/helpers/typeof":141}],35:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault"),o=e("@babel/runtime-corejs3/core-js-stable/object/define-property"),c=e("@babel/runtime-corejs3/core-js-stable/reflect/construct");o(n,"__esModule",{value:!0}),n.default=void 0;var i=r(e("@babel/runtime-corejs3/core-js-stable/json/stringify")),d=r(e("@babel/runtime-corejs3/core-js-stable/object/define-property")),p=r(e("@babel/runtime-corejs3/regenerator")),h=r(e("@babel/runtime-corejs3/helpers/asyncToGenerator")),f=r(e("@babel/runtime-corejs3/core-js-stable/promise")),m=r(e("@babel/runtime-corejs3/helpers/typeof")),b=r(e("@babel/runtime-corejs3/helpers/classCallCheck")),g=r(e("@babel/runtime-corejs3/helpers/createClass")),v=r(e("@babel/runtime-corejs3/helpers/get")),y=r(e("@babel/runtime-corejs3/helpers/inherits")),w=r(e("@babel/runtime-corejs3/helpers/possibleConstructorReturn")),x=r(e("@babel/runtime-corejs3/helpers/getPrototypeOf")),j=r(e("./CoreManager")),s=r(e("./isRevocableSession")),C=r(e("./ParseError")),a=r(e("./ParseObject")),l=r(e("./ParseSession")),u=r(e("./Storage"));var E="currentUser",_=!j.default.get("IS_NODE"),R=!1,k=null,S={},e=function(e){(0,y.default)(u,e);var t,n,r,o,i,s,a,l=(s=u,a=function(){if("undefined"==typeof Reflect||!c)return!1;if(c.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(c(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=(0,x.default)(s),t=a?(e=(0,x.default)(this).constructor,c(t,arguments,e)):t.apply(this,arguments);return(0,w.default)(this,t)});function u(e){var t;if((0,b.default)(this,u),t=l.call(this,"_User"),e&&"object"===(0,m.default)(e)&&!t.set(e||{}))throw new Error("Can't create an invalid Parse User");return t}return(0,g.default)(u,[{key:"_upgradeToRevocableSession",value:function(e){var t={};return(e=e||{}).hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey),j.default.getUserController().upgradeToRevocableSession(this,t)}},{key:"linkWith",value:function(e,t){var n,i=this,s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(s.sessionToken=s.sessionToken||this.getSessionToken()||"","string"==typeof e?e=S[n=e]||(S[(r={restoreAuthentication:function(){return!0},getAuthType:function(){return n}}).getAuthType()]=r):n=e.getAuthType(),t&&t.hasOwnProperty("authData")){var r=this.get("authData")||{};if("object"!==(0,m.default)(r))throw new Error("Invalid type: authData field should be an object");return r[n]=t.authData,j.default.getUserController().linkWith(this,r,s)}return new f.default(function(r,o){e.authenticate({success:function(e,t){var n={};n.authData=t,i.linkWith(e,n,s).then(function(){r(i)},function(e){o(e)})},error:function(e,t){o(t)}})})}},{key:"_linkWith",value:function(e,t){return this.linkWith(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{})}},{key:"_synchronizeAuthData",value:function(e){var t,n;this.isCurrent()&&e&&("string"==typeof e?e=S[t=e]:t=e.getAuthType(),n=this.get("authData"),e&&n&&"object"===(0,m.default)(n)&&(e.restoreAuthentication(n[t])||this._unlinkFrom(e)))}},{key:"_synchronizeAllAuthData",value:function(){var e=this.get("authData");if("object"===(0,m.default)(e))for(var t in e)this._synchronizeAuthData(t)}},{key:"_cleanupAuthData",value:function(){if(this.isCurrent()){var e=this.get("authData");if("object"===(0,m.default)(e))for(var t in e)e[t]||delete e[t]}}},{key:"_unlinkFrom",value:function(e,t){var n=this;return this.linkWith(e,{authData:null},t).then(function(){return n._synchronizeAuthData(e),f.default.resolve(n)})}},{key:"_isLinked",value:function(e){var t="string"==typeof e?e:e.getAuthType(),e=this.get("authData")||{};return"object"===(0,m.default)(e)&&!!e[t]}},{key:"_logOutWithAll",value:function(){var e=this.get("authData");if("object"===(0,m.default)(e))for(var t in e)this._logOutWith(t)}},{key:"_logOutWith",value:function(e){this.isCurrent()&&(e="string"==typeof e?S[e]:e)&&e.deauthenticate&&e.deauthenticate()}},{key:"_preserveFieldsOnFetch",value:function(){return{sessionToken:this.get("sessionToken")}}},{key:"isCurrent",value:function(){var e=u.current();return!!e&&e.id===this.id}},{key:"isCurrentAsync",value:(i=(0,h.default)(p.default.mark(function e(){var t;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.currentAsync();case 2:return t=e.sent,e.abrupt("return",!!t&&t.id===this.id);case 4:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"getUsername",value:function(){var e=this.get("username");return null==e||"string"==typeof e?e:""}},{key:"setUsername",value:function(e){var t=this.get("authData");t&&"object"===(0,m.default)(t)&&t.hasOwnProperty("anonymous")&&(t.anonymous=null),this.set("username",e)}},{key:"setPassword",value:function(e){this.set("password",e)}},{key:"getEmail",value:function(){var e=this.get("email");return null==e||"string"==typeof e?e:""}},{key:"setEmail",value:function(e){return this.set("email",e)}},{key:"getSessionToken",value:function(){var e=this.get("sessionToken");return null==e||"string"==typeof e?e:""}},{key:"authenticated",value:function(){var e=u.current();return!!this.get("sessionToken")&&!!e&&e.id===this.id}},{key:"signUp",value:function(e,t){var n={};return(t=t||{}).hasOwnProperty("useMasterKey")&&(n.useMasterKey=t.useMasterKey),t.hasOwnProperty("installationId")&&(n.installationId=t.installationId),j.default.getUserController().signUp(this,e,n)}},{key:"logIn",value:function(e){var t={usePost:!0};return(e=e||{}).hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey),e.hasOwnProperty("installationId")&&(t.installationId=e.installationId),e.hasOwnProperty("usePost")&&(t.usePost=e.usePost),j.default.getUserController().logIn(this,t)}},{key:"save",value:(o=(0,h.default)(p.default.mark(function e(){var t,n,r,o=arguments;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,n=new Array(t),r=0;r<t;r++)n[r]=o[r];return e.next=3,(0,v.default)((0,x.default)(u.prototype),"save",this).apply(this,n);case 3:return e.next=5,this.isCurrentAsync();case 5:if(e.sent)return e.abrupt("return",j.default.getUserController().updateUserOnDisk(this));e.next=8;break;case 8:return e.abrupt("return",this);case 9:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"destroy",value:(r=(0,h.default)(p.default.mark(function e(){var t,n,r,o=arguments;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,n=new Array(t),r=0;r<t;r++)n[r]=o[r];return e.next=3,(0,v.default)((0,x.default)(u.prototype),"destroy",this).apply(this,n);case 3:return e.next=5,this.isCurrentAsync();case 5:if(e.sent)return e.abrupt("return",j.default.getUserController().removeUserFromDisk());e.next=8;break;case 8:return e.abrupt("return",this);case 9:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"fetch",value:(n=(0,h.default)(p.default.mark(function e(){var t,n,r,o=arguments;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,n=new Array(t),r=0;r<t;r++)n[r]=o[r];return e.next=3,(0,v.default)((0,x.default)(u.prototype),"fetch",this).apply(this,n);case 3:return e.next=5,this.isCurrentAsync();case 5:if(e.sent)return e.abrupt("return",j.default.getUserController().updateUserOnDisk(this));e.next=8;break;case 8:return e.abrupt("return",this);case 9:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"fetchWithInclude",value:(t=(0,h.default)(p.default.mark(function e(){var t,n,r,o=arguments;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,n=new Array(t),r=0;r<t;r++)n[r]=o[r];return e.next=3,(0,v.default)((0,x.default)(u.prototype),"fetchWithInclude",this).apply(this,n);case 3:return e.next=5,this.isCurrentAsync();case 5:if(e.sent)return e.abrupt("return",j.default.getUserController().updateUserOnDisk(this));e.next=8;break;case 8:return e.abrupt("return",this);case 9:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"verifyPassword",value:function(e,t){var n=this.getUsername()||"";return u.verifyPassword(n,e,t)}}],[{key:"readOnlyAttributes",value:function(){return["sessionToken"]}},{key:"extend",value:function(e,t){if(e)for(var n in e)"className"!==n&&(0,d.default)(u.prototype,n,{value:e[n],enumerable:!1,writable:!0,configurable:!0});if(t)for(var r in t)"className"!==r&&(0,d.default)(u,r,{value:t[r],enumerable:!1,writable:!0,configurable:!0});return u}},{key:"current",value:function(){return _?j.default.getUserController().currentUser():null}},{key:"currentAsync",value:function(){return _?j.default.getUserController().currentUserAsync():f.default.resolve(null)}},{key:"signUp",value:function(e,t,n,r){return(n=n||{}).username=e,n.password=t,new this(n).signUp({},r)}},{key:"logIn",value:function(e,t,n){if("string"!=typeof e)return f.default.reject(new C.default(C.default.OTHER_CAUSE,"Username must be a string."));if("string"!=typeof t)return f.default.reject(new C.default(C.default.OTHER_CAUSE,"Password must be a string."));var r=new this;return r._finishFetch({username:e,password:t}),r.logIn(n)}},{key:"become",value:function(e,t){if(!_)throw new Error("It is not memory-safe to become a user in a server environment");var n={sessionToken:e};return(t=t||{}).hasOwnProperty("useMasterKey")&&(n.useMasterKey=t.useMasterKey),e=j.default.getUserController(),t=new this,e.become(t,n)}},{key:"me",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=j.default.getUserController(),e={sessionToken:e};return t.useMasterKey&&(e.useMasterKey=t.useMasterKey),t=new this,n.me(t,e)}},{key:"hydrate",value:function(e){var t=j.default.getUserController(),n=new this;return t.hydrate(n,e)}},{key:"logInWith",value:function(e,t,n){return(new this).linkWith(e,t,n)}},{key:"logOut",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return j.default.getUserController().logOut(e)}},{key:"requestPasswordReset",value:function(e,t){var n={};return(t=t||{}).hasOwnProperty("useMasterKey")&&(n.useMasterKey=t.useMasterKey),j.default.getUserController().requestPasswordReset(e,n)}},{key:"requestEmailVerification",value:function(e,t){var n={};return(t=t||{}).hasOwnProperty("useMasterKey")&&(n.useMasterKey=t.useMasterKey),j.default.getUserController().requestEmailVerification(e,n)}},{key:"verifyPassword",value:function(e,t,n){if("string"!=typeof e)return f.default.reject(new C.default(C.default.OTHER_CAUSE,"Username must be a string."));if("string"!=typeof t)return f.default.reject(new C.default(C.default.OTHER_CAUSE,"Password must be a string."));var r={};return(n=n||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=n.useMasterKey),j.default.getUserController().verifyPassword(e,t,r)}},{key:"allowCustomUserClass",value:function(e){j.default.set("PERFORM_USER_REWRITE",!e)}},{key:"enableRevocableSession",value:function(e){if(e=e||{},j.default.set("FORCE_REVOCABLE_SESSION",!0),_){var t=u.current();if(t)return t._upgradeToRevocableSession(e)}return f.default.resolve()}},{key:"enableUnsafeCurrentUser",value:function(){_=!0}},{key:"disableUnsafeCurrentUser",value:function(){_=!1}},{key:"_registerAuthenticationProvider",value:function(t){S[t.getAuthType()]=t,u.currentAsync().then(function(e){e&&e._synchronizeAuthData(t.getAuthType())})}},{key:"_logInWith",value:function(e,t,n){return(new this).linkWith(e,t,n)}},{key:"_clearCache",value:function(){k=null,R=!1}},{key:"_setCurrentUserCache",value:function(e){k=e}}]),u}(a.default);a.default.registerSubclass("_User",e);var T={updateUserOnDisk:function(e){var t=u.default.generatePath(E),n=e.toJSON();delete n.password,n.className="_User";var r=(0,i.default)(n);return j.default.get("ENCRYPTED_USER")&&(r=j.default.getCryptoController().encrypt(n,j.default.get("ENCRYPTED_KEY"))),u.default.setItemAsync(t,r).then(function(){return e})},removeUserFromDisk:function(){var e=u.default.generatePath(E);return R=!0,k=null,u.default.removeItemAsync(e)},setCurrentUser:function(e){return(k=e)._cleanupAuthData(),e._synchronizeAllAuthData(),T.updateUserOnDisk(e)},currentUser:function(){if(k)return k;if(R)return null;if(u.default.async())throw new Error("Cannot call currentUser() when using a platform with an async storage system. Call currentUserAsync() instead.");var e=u.default.generatePath(E),e=u.default.getItem(e);return R=!0,e?(j.default.get("ENCRYPTED_USER")&&(e=j.default.getCryptoController().decrypt(e,j.default.get("ENCRYPTED_KEY"))),(e=JSON.parse(e)).className||(e.className="_User"),e._id&&(e.objectId!==e._id&&(e.objectId=e._id),delete e._id),e._sessionToken&&(e.sessionToken=e._sessionToken,delete e._sessionToken),e=a.default.fromJSON(e),(k=e)._synchronizeAllAuthData(),e):k=null},currentUserAsync:function(){if(k)return f.default.resolve(k);if(R)return f.default.resolve(null);var e=u.default.generatePath(E);return u.default.getItemAsync(e).then(function(e){return R=!0,e?(j.default.get("ENCRYPTED_USER")&&(e=j.default.getCryptoController().decrypt(e.toString(),j.default.get("ENCRYPTED_KEY"))),(e=JSON.parse(e)).className||(e.className="_User"),e._id&&(e.objectId!==e._id&&(e.objectId=e._id),delete e._id),e._sessionToken&&(e.sessionToken=e._sessionToken,delete e._sessionToken),e=a.default.fromJSON(e),(k=e)._synchronizeAllAuthData(),f.default.resolve(e)):(k=null,f.default.resolve(null))})},signUp:function(e,t,n){var r=t&&t.username||e.get("username"),o=t&&t.password||e.get("password");return r&&r.length?o&&o.length?e.save(t,n).then(function(){return e._finishFetch({password:void 0}),_?T.setCurrentUser(e):e}):f.default.reject(new C.default(C.default.OTHER_CAUSE,"Cannot sign up user with an empty password.")):f.default.reject(new C.default(C.default.OTHER_CAUSE,"Cannot sign up user with an empty username."))},logIn:function(t,e){var n=j.default.getRESTController(),r=j.default.getObjectStateController(),o={username:t.get("username"),password:t.get("password")};return n.request(e.usePost?"POST":"GET","login",o,e).then(function(e){return t._migrateId(e.objectId),t._setExisted(!0),r.setPendingOp(t._getStateIdentifier(),"username",void 0),r.setPendingOp(t._getStateIdentifier(),"password",void 0),e.password=void 0,t._finishFetch(e),_?T.setCurrentUser(t):f.default.resolve(t)})},become:function(t,e){return j.default.getRESTController().request("GET","users/me",{},e).then(function(e){return t._finishFetch(e),t._setExisted(!0),T.setCurrentUser(t)})},hydrate:function(e,t){return e._finishFetch(t),e._setExisted(!0),t.sessionToken&&_?T.setCurrentUser(e):f.default.resolve(e)},me:function(t,e){return j.default.getRESTController().request("GET","users/me",{},e).then(function(e){return t._finishFetch(e),t._setExisted(!0),t})},logOut:function(e){var r=j.default.getRESTController();return e.sessionToken?r.request("POST","logout",{},e):T.currentUserAsync().then(function(e){var t,n=u.default.generatePath(E),n=u.default.removeItemAsync(n);return null!==e&&((t=e.getSessionToken())&&(0,s.default)(t)&&(n=n.then(function(){return r.request("POST","logout",{},{sessionToken:t})})),e._logOutWithAll(),e._finishFetch({sessionToken:void 0})),R=!0,k=null,n})},requestPasswordReset:function(e,t){return j.default.getRESTController().request("POST","requestPasswordReset",{email:e},t)},upgradeToRevocableSession:function(o,i){return(0,h.default)(p.default.mark(function e(){var t,n,r;return p.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.getSessionToken()){e.next=3;break}return e.abrupt("return",f.default.reject(new C.default(C.default.SESSION_MISSING,"Cannot upgrade a user with no session token")));case 3:return i.sessionToken=t,r=j.default.getRESTController(),e.next=7,r.request("POST","upgradeToRevocableSession",{},i);case 7:return n=e.sent,(r=new l.default)._finishFetch(n),o._finishFetch({sessionToken:r.getSessionToken()}),e.next=13,o.isCurrentAsync();case 13:if(e.sent)return e.abrupt("return",T.setCurrentUser(o));e.next=16;break;case 16:return e.abrupt("return",f.default.resolve(o));case 17:case"end":return e.stop()}},e)}))()},linkWith:function(e,t,n){return e.save({authData:t},n).then(function(){return _?T.setCurrentUser(e):e})},verifyPassword:function(e,t,n){return j.default.getRESTController().request("GET","verifyPassword",{username:e,password:t},n)},requestEmailVerification:function(e,t){return j.default.getRESTController().request("POST","verificationEmailRequest",{email:e},t)}};j.default.setUserController(T),n.default=e},{"./CoreManager":4,"./ParseError":22,"./ParseObject":27,"./ParseSession":34,"./Storage":39,"./isRevocableSession":49,"@babel/runtime-corejs3/core-js-stable/json/stringify":75,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/promise":90,"@babel/runtime-corejs3/core-js-stable/reflect/construct":91,"@babel/runtime-corejs3/helpers/asyncToGenerator":120,"@babel/runtime-corejs3/helpers/classCallCheck":121,"@babel/runtime-corejs3/helpers/createClass":123,"@babel/runtime-corejs3/helpers/get":125,"@babel/runtime-corejs3/helpers/getPrototypeOf":126,"@babel/runtime-corejs3/helpers/inherits":127,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/possibleConstructorReturn":136,"@babel/runtime-corejs3/helpers/typeof":141,"@babel/runtime-corejs3/regenerator":498}],36:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.send=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(e.where&&e.where instanceof s.default&&(e.where=e.where.toJSON().where),e.push_time&&"object"===(0,o.default)(e.push_time)&&(e.push_time=e.push_time.toJSON()),e.expiration_time&&"object"===(0,o.default)(e.expiration_time)&&(e.expiration_time=e.expiration_time.toJSON()),e.expiration_time&&e.expiration_interval)throw new Error("expiration_time and expiration_interval cannot both be set.");var n={useMasterKey:!0};return t.hasOwnProperty("useMasterKey")&&(n.useMasterKey=t.useMasterKey),i.default.getPushController().send(e,n)},n.getPushStatus=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n={useMasterKey:!0};return t.hasOwnProperty("useMasterKey")&&(n.useMasterKey=t.useMasterKey),new s.default("_PushStatus").get(e,n)};var o=r(e("@babel/runtime-corejs3/helpers/typeof")),i=r(e("./CoreManager")),s=r(e("./ParseQuery"));e={send:function(e,t){return i.default.getRESTController().request("POST","push",e,t)}},i.default.setPushController(e)},{"./CoreManager":4,"./ParseQuery":30,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/typeof":141}],37:[function(_,R,e){!function(E){!function(){"use strict";var e=_("@babel/runtime-corejs3/helpers/interopRequireDefault"),o=_("@babel/runtime-corejs3/core-js-stable/object/define-property"),i=_("@babel/runtime-corejs3/core-js-stable/object/define-properties"),s=_("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors"),a=_("@babel/runtime-corejs3/core-js-stable/instance/for-each"),l=_("@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor"),u=_("@babel/runtime-corejs3/core-js-stable/instance/filter"),c=_("@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols"),d=_("@babel/runtime-corejs3/core-js-stable/object/keys"),p=e(_("@babel/runtime-corejs3/helpers/defineProperty")),h=e(_("@babel/runtime-corejs3/helpers/typeof")),g=e(_("@babel/runtime-corejs3/core-js-stable/set-timeout")),v=e(_("@babel/runtime-corejs3/core-js-stable/instance/includes")),y=e(_("@babel/runtime-corejs3/core-js-stable/json/stringify")),w=e(_("@babel/runtime-corejs3/core-js-stable/promise")),x=e(_("./CoreManager")),j=e(_("./ParseError")),t=_("./promiseUtils");function f(t,e){var n,r=d(t);return c&&(n=c(t),e&&(n=u(n).call(n,function(e){return l(t,e).enumerable})),r.push.apply(r,n)),r}function m(t){for(var e=1;e<arguments.length;e++){var n,r=null!=arguments[e]?arguments[e]:{};e%2?a(n=f(Object(r),!0)).call(n,function(e){(0,p.default)(t,e,r[e])}):s?i(t,s(r)):a(n=f(Object(r))).call(n,function(e){o(t,e,l(r,e))})}return t}var n=_("./uuid"),C=null;"undefined"!=typeof XMLHttpRequest&&(C=XMLHttpRequest);var r=!1;"undefined"==typeof XDomainRequest||"withCredentials"in new XMLHttpRequest||(r=!0);var b={ajax:function(a,l,u,c,d){var e,o,i,s,p;if(r)return o=a,i=l,s=u,p=d,new w.default(function(t,n){var r=new XDomainRequest;r.onload=function(){var e;try{e=JSON.parse(r.responseText)}catch(e){n(e)}e&&t({response:e})},r.onerror=r.ontimeout=function(){var e={responseText:(0,y.default)({code:j.default.X_DOMAIN_REQUEST,error:"IE's XDomainRequest does not supply error info."})};n(e)},r.onprogress=function(){p&&"function"==typeof p.progress&&p.progress(r.responseText)},r.open(o,i),r.send(s),p&&"function"==typeof p.requestTask&&p.requestTask(r)});var h=(0,t.resolvingPromise)(),f=x.default.get("IDEMPOTENCY")&&(0,v.default)(e=["POST","PUT"]).call(e,a),m=f?n():"",b=0;return function r(){if(null==C)throw new Error("Cannot make a request: No definition of XMLHttpRequest was found.");var o=!1,i=new C;i.onreadystatechange=function(){if(4===i.readyState&&!o&&!i._aborted)if(o=!0,200<=i.status&&i.status<300){try{var e,t,n=JSON.parse(i.responseText);"function"==typeof i.getResponseHeader&&((0,v.default)(e=i.getAllResponseHeaders()||"").call(e,"x-parse-job-status-id: ")&&(n=i.getResponseHeader("x-parse-job-status-id")),(0,v.default)(t=i.getAllResponseHeaders()||"").call(t,"x-parse-push-status-id: ")&&(n=i.getResponseHeader("x-parse-push-status-id")))}catch(e){h.reject(e.toString())}n&&h.resolve({response:n,status:i.status,xhr:i})}else 500<=i.status||0===i.status?++b<x.default.get("REQUEST_ATTEMPT_LIMIT")?(n=Math.round(125*Math.random()*Math.pow(2,b)),(0,g.default)(r,n)):0===i.status?h.reject("Unable to connect to the Parse API"):h.reject(i):h.reject(i)},"string"!=typeof(c=c||{})["Content-Type"]&&(c["Content-Type"]="text/plain"),x.default.get("IS_NODE")&&(c["User-Agent"]="Parse/"+x.default.get("VERSION")+" (NodeJS "+E.versions.node+")"),f&&(c["X-Parse-Request-Id"]=m),x.default.get("SERVER_AUTH_TYPE")&&x.default.get("SERVER_AUTH_TOKEN")&&(c.Authorization=x.default.get("SERVER_AUTH_TYPE")+" "+x.default.get("SERVER_AUTH_TOKEN"));var e,t,n=x.default.get("REQUEST_HEADERS");for(e in n)c[e]=n[e];function s(e,t){d&&"function"==typeof d.progress&&(t.lengthComputable?d.progress(t.loaded/t.total,t.loaded,t.total,{type:e}):d.progress(null,null,null,{type:e}))}for(t in i.onprogress=function(e){s("download",e)},i.upload&&(i.upload.onprogress=function(e){s("upload",e)}),i.open(a,l,!0),c)i.setRequestHeader(t,c[t]);i.onabort=function(){h.resolve({response:{results:[]},status:0,xhr:i})},i.send(u),d&&"function"==typeof d.requestTask&&d.requestTask(i)}(),h},request:function(t,e,n,r){r=r||{};var o=x.default.get("SERVER_URL");"/"!==o[o.length-1]&&(o+="/"),o+=e;var i={};if(n&&"object"===(0,h.default)(n))for(var s in n)i[s]=n[s];if(void 0!==(e=r.context)&&(i._context=e),"POST"!==t&&(i._method=t,t="POST"),i._ApplicationId=x.default.get("APPLICATION_ID"),(e=x.default.get("JAVASCRIPT_KEY"))&&(i._JavaScriptKey=e),i._ClientVersion=x.default.get("VERSION"),e=void 0===(e=r.useMasterKey)?x.default.get("USE_MASTER_KEY"):e){if(!x.default.get("MASTER_KEY"))throw new Error("Cannot use the Master Key, it has not been provided.");delete i._JavaScriptKey,i._MasterKey=x.default.get("MASTER_KEY")}return x.default.get("FORCE_REVOCABLE_SESSION")&&(i._RevocableSession="1"),((e=r.installationId)&&"string"==typeof e?w.default.resolve(e):x.default.getInstallationController().currentInstallationId()).then(function(e){return i._InstallationId=e,e=x.default.getUserController(),r&&"string"==typeof r.sessionToken?w.default.resolve(r.sessionToken):e?e.currentUserAsync().then(function(e){return e?w.default.resolve(e.getSessionToken()):w.default.resolve(null)}):w.default.resolve(null)}).then(function(e){return e&&(i._SessionToken=e),e=(0,y.default)(i),b.ajax(t,o,e,{},r).then(function(e){var t=e.response,e=e.status;return r.returnStatus?m(m({},t),{},{_status:e}):t})}).catch(b.handleError)},handleError:function(e){if(e&&e.responseText)try{var t=JSON.parse(e.responseText),n=new j.default(t.code,t.error)}catch(t){n=new j.default(j.default.INVALID_JSON,"Received an error with invalid JSON from Parse: "+e.responseText)}else e=e.message||e,n=new j.default(j.default.CONNECTION_FAILED,"XMLHttpRequest failed: "+(0,y.default)(e));return w.default.reject(n)},_setXHR:function(e){C=e},_getXHR:function(){return C}};R.exports=b}.call(this)}.call(this,_("_process"))},{"./CoreManager":4,"./ParseError":22,"./promiseUtils":51,"./uuid":54,"@babel/runtime-corejs3/core-js-stable/instance/filter":61,"@babel/runtime-corejs3/core-js-stable/instance/for-each":64,"@babel/runtime-corejs3/core-js-stable/instance/includes":65,"@babel/runtime-corejs3/core-js-stable/json/stringify":75,"@babel/runtime-corejs3/core-js-stable/object/define-properties":80,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor":84,"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors":85,"@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols":86,"@babel/runtime-corejs3/core-js-stable/object/keys":88,"@babel/runtime-corejs3/core-js-stable/promise":90,"@babel/runtime-corejs3/core-js-stable/set-timeout":93,"@babel/runtime-corejs3/helpers/defineProperty":124,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/typeof":141,_process:499}],38:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireWildcard");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.getState=s,n.initializeState=a,n.removeState=function(e){var t=s(e);return null!==t?(delete i[e.className][e.id],t):null},n.getServerData=l,n.setServerData=function(e,t){e=a(e).serverData,o.setServerData(e,t)},n.getPendingOps=u,n.setPendingOp=function(e,t,n){e=a(e).pendingOps,o.setPendingOp(e,t,n)},n.pushPendingState=function(e){e=a(e).pendingOps,o.pushPendingState(e)},n.popPendingState=function(e){return e=a(e).pendingOps,o.popPendingState(e)},n.mergeFirstPendingState=function(e){e=u(e),o.mergeFirstPendingState(e)},n.getObjectCache=function(e){return(e=s(e))?e.objectCache:{}},n.estimateAttribute=function(e,t){var n=l(e),r=u(e);return o.estimateAttribute(n,r,e.className,e.id,t)},n.estimateAttributes=function(e){var t=l(e),n=u(e);return o.estimateAttributes(t,n,e.className,e.id)},n.commitServerChanges=function(e,t){e=a(e),o.commitServerChanges(e.serverData,e.objectCache,t)},n.enqueueTask=function(e,t){return a(e).tasks.enqueue(t)},n.clearAllState=function(){i={}},n.duplicateState=function(e,t){t.id=e.id};var o=r(e("./ObjectStateMutations")),i={};function s(e){var t=i[e.className];return t&&t[e.id]||null}function a(e,t){var n=s(e);return n||(i[e.className]||(i[e.className]={}),t=t||o.defaultState(),i[e.className][e.id]=t)}function l(e){return(e=s(e))?e.serverData:{}}function u(e){return(e=s(e))?e.pendingOps:[{}]}},{"./ObjectStateMutations":16,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/helpers/interopRequireWildcard":129}],39:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault"),o=r(e("@babel/runtime-corejs3/core-js-stable/promise")),i=r(e("./CoreManager"));t.exports={async:function(){return!!i.default.getStorageController().async},getItem:function(e){var t=i.default.getStorageController();if(1===t.async)throw new Error("Synchronous storage is not supported by the current storage controller");return t.getItem(e)},getItemAsync:function(e){var t=i.default.getStorageController();return 1===t.async?t.getItemAsync(e):o.default.resolve(t.getItem(e))},setItem:function(e,t){var n=i.default.getStorageController();if(1===n.async)throw new Error("Synchronous storage is not supported by the current storage controller");return n.setItem(e,t)},setItemAsync:function(e,t){var n=i.default.getStorageController();return 1===n.async?n.setItemAsync(e,t):o.default.resolve(n.setItem(e,t))},removeItem:function(e){var t=i.default.getStorageController();if(1===t.async)throw new Error("Synchronous storage is not supported by the current storage controller");return t.removeItem(e)},removeItemAsync:function(e){var t=i.default.getStorageController();return 1===t.async?t.removeItemAsync(e):o.default.resolve(t.removeItem(e))},getAllKeys:function(){var e=i.default.getStorageController();if(1===e.async)throw new Error("Synchronous storage is not supported by the current storage controller");return e.getAllKeys()},getAllKeysAsync:function(){var e=i.default.getStorageController();return 1===e.async?e.getAllKeysAsync():o.default.resolve(e.getAllKeys())},generatePath:function(e){if(!i.default.get("APPLICATION_ID"))throw new Error("You need to call Parse.initialize before using Parse.");if("string"!=typeof e)throw new Error("Tried to get a Storage path that was not a String.");return"/"===e[0]&&(e=e.substr(1)),"Parse/"+i.default.get("APPLICATION_ID")+"/"+e},_clear:function(){var e=i.default.getStorageController();e.hasOwnProperty("clear")&&e.clear()}},i.default.setStorageController(e("./StorageController.browser"))},{"./CoreManager":4,"./StorageController.browser":40,"@babel/runtime-corejs3/core-js-stable/promise":90,"@babel/runtime-corejs3/helpers/interopRequireDefault":128}],40:[function(e,t,n){"use strict";t.exports={async:0,getItem:function(e){return localStorage.getItem(e)},setItem:function(e,t){try{localStorage.setItem(e,t)}catch(e){console.log(e.message)}},removeItem:function(e){localStorage.removeItem(e)},getAllKeys:function(){for(var e=[],t=0;t<localStorage.length;t+=1)e.push(localStorage.key(t));return e},clear:function(){localStorage.clear()}}},{}],41:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault"),o=r(e("@babel/runtime-corejs3/helpers/classCallCheck")),i=r(e("@babel/runtime-corejs3/helpers/createClass")),s=r(e("@babel/runtime-corejs3/helpers/defineProperty")),a=e("./promiseUtils");function l(){(0,o.default)(this,l),(0,s.default)(this,"queue",void 0),this.queue=[]}t.exports=((0,i.default)(l,[{key:"enqueue",value:function(e){var t=this,n=new a.resolvingPromise;return this.queue.push({task:e,_completion:n}),1===this.queue.length&&e().then(function(){t._dequeue(),n.resolve()},function(e){t._dequeue(),n.reject(e)}),n}},{key:"_dequeue",value:function(){var t,n=this;this.queue.shift(),this.queue.length&&(t=this.queue[0]).task().then(function(){n._dequeue(),t._completion.resolve()},function(e){n._dequeue(),t._completion.reject(e)})}}]),l)},{"./promiseUtils":51,"@babel/runtime-corejs3/helpers/classCallCheck":121,"@babel/runtime-corejs3/helpers/createClass":123,"@babel/runtime-corejs3/helpers/defineProperty":124,"@babel/runtime-corejs3/helpers/interopRequireDefault":128}],42:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireWildcard"),o=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.getState=u,n.initializeState=c,n.removeState=function(e){var t=u(e);return null!==t?(l.delete(e),t):null},n.getServerData=d,n.setServerData=function(e,t){e=c(e).serverData,s.setServerData(e,t)},n.getPendingOps=p,n.setPendingOp=function(e,t,n){e=c(e).pendingOps,s.setPendingOp(e,t,n)},n.pushPendingState=function(e){e=c(e).pendingOps,s.pushPendingState(e)},n.popPendingState=function(e){return e=c(e).pendingOps,s.popPendingState(e)},n.mergeFirstPendingState=function(e){e=p(e),s.mergeFirstPendingState(e)},n.getObjectCache=function(e){return(e=u(e))?e.objectCache:{}},n.estimateAttribute=function(e,t){var n=d(e),r=p(e);return s.estimateAttribute(n,r,e.className,e.id,t)},n.estimateAttributes=function(e){var t=d(e),n=p(e);return s.estimateAttributes(t,n,e.className,e.id)},n.commitServerChanges=function(e,t){e=c(e),s.commitServerChanges(e.serverData,e.objectCache,t)},n.enqueueTask=function(e,t){return c(e).tasks.enqueue(t)},n.duplicateState=function(e,t){var n,r=c(e),o=c(t);for(n in r.serverData)o.serverData[n]=r.serverData[n];for(var i,s=0;s<r.pendingOps.length;s++)for(var a in r.pendingOps[s])o.pendingOps[s][a]=r.pendingOps[s][a];for(i in r.objectCache)o.objectCache[i]=r.objectCache[i];o.existed=r.existed},n.clearAllState=function(){l=new i.default};var i=o(e("@babel/runtime-corejs3/core-js-stable/weak-map")),s=r(e("./ObjectStateMutations")),a=o(e("./TaskQueue")),l=new i.default;function u(e){return l.get(e)||null}function c(e,t){var n;return(n=u(e))||(t=t||{serverData:{},pendingOps:[{}],objectCache:{},tasks:new a.default,existed:!1},l.set(e,n=t),n)}function d(e){return(e=u(e))?e.serverData:{}}function p(e){return(e=u(e))?e.pendingOps:[{}]}},{"./ObjectStateMutations":16,"./TaskQueue":41,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/weak-map":96,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/interopRequireWildcard":129}],43:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=function(e,t){if(-1<(0,o.default)(e).call(e,t))return!0;for(var n=0;n<e.length;n++)if(e[n]instanceof i.default&&e[n].className===t.className&&e[n]._getId()===t._getId())return!0;return!1};var o=r(e("@babel/runtime-corejs3/core-js-stable/instance/index-of")),i=r(e("./ParseObject"))},{"./ParseObject":27,"@babel/runtime-corejs3/core-js-stable/instance/index-of":66,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/helpers/interopRequireDefault":128}],44:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=function(e){if(!(e instanceof a.default))return!0;var t,n=e.attributes;for(t in n)if(!function e(t){if("object"!==(0,i.default)(t))return 1;if(t instanceof l.default)return 1;if(t instanceof a.default)return t.id;if(t instanceof s.default)return t.url();if((0,o.default)(t)){for(var n=0;n<t.length;n++)if(!e(t[n]))return;return 1}for(var r in t)if(!e(t[r]))return;return 1}(n[t]))return!1;return!0};var o=r(e("@babel/runtime-corejs3/core-js-stable/array/is-array")),i=r(e("@babel/runtime-corejs3/helpers/typeof")),s=r(e("./ParseFile")),a=r(e("./ParseObject")),l=r(e("./ParseRelation"))},{"./ParseFile":23,"./ParseObject":27,"./ParseRelation":31,"@babel/runtime-corejs3/core-js-stable/array/is-array":56,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/typeof":141}],45:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=function n(e){if(null===e||"object"!==(0,l.default)(e)||e instanceof Date)return e;if((0,a.default)(e)){var r=[];return(0,s.default)(e).call(e,function(e,t){r[t]=n(e)}),r}if("string"==typeof e.__op)return(0,h.opFromJSON)(e);if("Pointer"===e.__type&&e.className)return p.default.fromJSON(e);if("Object"===e.__type&&e.className)return p.default.fromJSON(e);if("Relation"===e.__type){var t=new f.default(null,null);return t.targetClassName=e.className,t}if("Date"===e.__type)return new Date(e.iso);if("File"===e.__type)return u.default.fromJSON(e);if("GeoPoint"===e.__type)return new c.default({latitude:e.latitude,longitude:e.longitude});if("Polygon"===e.__type)return new d.default(e.coordinates);var o,i={};for(o in e)i[o]=n(e[o]);return i};var s=r(e("@babel/runtime-corejs3/core-js-stable/instance/for-each")),a=r(e("@babel/runtime-corejs3/core-js-stable/array/is-array")),l=r(e("@babel/runtime-corejs3/helpers/typeof")),u=(r(e("./ParseACL")),r(e("./ParseFile"))),c=r(e("./ParseGeoPoint")),d=r(e("./ParsePolygon")),p=r(e("./ParseObject")),h=e("./ParseOp"),f=r(e("./ParseRelation"))},{"./ParseACL":19,"./ParseFile":23,"./ParseGeoPoint":24,"./ParseObject":27,"./ParseOp":28,"./ParsePolygon":29,"./ParseRelation":31,"@babel/runtime-corejs3/core-js-stable/array/is-array":56,"@babel/runtime-corejs3/core-js-stable/instance/for-each":64,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/typeof":141}],46:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=function(e,t,n,r,o){return function t(e,n,r,o,i){if(e instanceof x.default){if(n)throw new Error("Parse Objects not allowed here");var s,a=e.id?e.className+":"+e.id:e;return r||!o||-1<(0,b.default)(o).call(o,a)||e.dirty()||(0,m.default)(e._getServerData()).length<1?i&&(0,f.default)(s=e._getId()).call(s,"local")?e.toOfflinePointer():e.toPointer():(o=(0,h.default)(o).call(o,a),e._toFullJSON(o,i))}if(e instanceof j.Op||e instanceof g.default||e instanceof y.default||e instanceof w.default||e instanceof C.default)return e.toJSON();if(e instanceof v.default){if(!e.url())throw new Error("Tried to encode an unsaved file.");return e.toJSON()}if("[object Date]"===Object.prototype.toString.call(e)){if(isNaN(e))throw new Error("Tried to encode an invalid date.");return{__type:"Date",iso:e.toJSON()}}if("[object RegExp]"===Object.prototype.toString.call(e)&&"string"==typeof e.source)return e.source;if((0,p.default)(e))return(0,d.default)(e).call(e,function(e){return t(e,n,r,o,i)});if(e&&"object"===(0,c.default)(e)){var l,u={};for(l in e)u[l]=t(e[l],n,r,o,i);return u}return e}(e,!!t,!!n,r||[],o)};var c=r(e("@babel/runtime-corejs3/helpers/typeof")),d=r(e("@babel/runtime-corejs3/core-js-stable/instance/map")),p=r(e("@babel/runtime-corejs3/core-js-stable/array/is-array")),h=r(e("@babel/runtime-corejs3/core-js-stable/instance/concat")),f=r(e("@babel/runtime-corejs3/core-js-stable/instance/starts-with")),m=r(e("@babel/runtime-corejs3/core-js-stable/object/keys")),b=r(e("@babel/runtime-corejs3/core-js-stable/instance/index-of")),g=r(e("./ParseACL")),v=r(e("./ParseFile")),y=r(e("./ParseGeoPoint")),w=r(e("./ParsePolygon")),x=r(e("./ParseObject")),j=e("./ParseOp"),C=r(e("./ParseRelation"))},{"./ParseACL":19,"./ParseFile":23,"./ParseGeoPoint":24,"./ParseObject":27,"./ParseOp":28,"./ParsePolygon":29,"./ParseRelation":31,"@babel/runtime-corejs3/core-js-stable/array/is-array":56,"@babel/runtime-corejs3/core-js-stable/instance/concat":58,"@babel/runtime-corejs3/core-js-stable/instance/index-of":66,"@babel/runtime-corejs3/core-js-stable/instance/map":68,"@babel/runtime-corejs3/core-js-stable/instance/starts-with":73,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/object/keys":88,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/typeof":141}],47:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=function e(t,n){var r,o=Object.prototype.toString;if("[object Date]"===o.call(t)||"[object Date]"===o.call(n))return+new Date(t)==+(o=new Date(n));if((0,l.default)(t)!==(0,l.default)(n))return!1;if(!t||"object"!==(0,l.default)(t))return t===n;if((0,a.default)(t)||(0,a.default)(n)){if(!(0,a.default)(t)||!(0,a.default)(n))return!1;if(t.length!==n.length)return!1;for(var i=t.length;i--;)if(!e(t[i],n[i]))return!1;return!0}if(t instanceof u.default||t instanceof c.default||t instanceof d.default||t instanceof p.default)return t.equals(n);if(n instanceof p.default&&("Object"===t.__type||"Pointer"===t.__type))return t.objectId===n.id&&t.className===n.className;if((0,s.default)(t).length!==(0,s.default)(n).length)return!1;for(r in t)if(!e(t[r],n[r]))return!1;return!0};var s=r(e("@babel/runtime-corejs3/core-js-stable/object/keys")),a=r(e("@babel/runtime-corejs3/core-js-stable/array/is-array")),l=r(e("@babel/runtime-corejs3/helpers/typeof")),u=r(e("./ParseACL")),c=r(e("./ParseFile")),d=r(e("./ParseGeoPoint")),p=r(e("./ParseObject"))},{"./ParseACL":19,"./ParseFile":23,"./ParseGeoPoint":24,"./ParseObject":27,"@babel/runtime-corejs3/core-js-stable/array/is-array":56,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/object/keys":88,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/typeof":141}],48:[function(e,t,n){"use strict";e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=function(e){return e.replace(/[&<>\/'"]/g,function(e){return r[e]})};var r={"&":"&amp;","<":"&lt;",">":"&gt;","/":"&#x2F;","'":"&#x27;",'"':"&quot;"}},{"@babel/runtime-corejs3/core-js-stable/object/define-property":81}],49:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=function(e){return-1<(0,o.default)(e).call(e,"r:")};var o=r(e("@babel/runtime-corejs3/core-js-stable/instance/index-of"))},{"@babel/runtime-corejs3/core-js-stable/instance/index-of":66,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/helpers/interopRequireDefault":128}],50:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=function(e){if(!(s=new RegExp("^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})T([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})(.([0-9]+))?Z$").exec(e)))return null;var t=(0,a.default)(s[1])||0,n=((0,a.default)(s[2])||1)-1,r=(0,a.default)(s[3])||0,o=(0,a.default)(s[4])||0,i=(0,a.default)(s[5])||0,e=(0,a.default)(s[6])||0,s=(0,a.default)(s[8])||0;return new Date(Date.UTC(t,n,r,o,i,e,s))};var a=r(e("@babel/runtime-corejs3/core-js-stable/parse-int"))},{"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/parse-int":89,"@babel/runtime-corejs3/helpers/interopRequireDefault":128}],51:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.resolvingPromise=h,n.when=function(e){var t=(0,d.default)(e),n=t?e:arguments,r=n.length,o=!1,i=[],s=t?[i]:i,a=[];if(i.length=n.length,a.length=n.length,0===r)return p.default.resolve(s);for(var l=new h,u=function(){--r<=0&&(o?l.reject(a):l.resolve(s))},c=0;c<n.length;c++)!function(e,t){e&&"function"==typeof e.then?e.then(function(e){i[t]=e,u()},function(e){a[t]=e,o=!0,u()}):(i[t]=e,u())}(n[c],c);return l},n.continueWhile=function e(t,n){return t()?n().then(function(){return e(t,n)}):p.default.resolve()};var d=r(e("@babel/runtime-corejs3/core-js-stable/array/is-array")),p=r(e("@babel/runtime-corejs3/core-js-stable/promise"));function h(){var n,r,e=new p.default(function(e,t){n=e,r=t});return e.resolve=n,e.reject=r,e}},{"@babel/runtime-corejs3/core-js-stable/array/is-array":56,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/core-js-stable/promise":90,"@babel/runtime-corejs3/helpers/interopRequireDefault":128}],52:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=function(e){var t=[];return(0,i.default)(e).call(e,function(e){e instanceof a.default?(0,s.default)(t,e)||t.push(e):(0,o.default)(t).call(t,e)<0&&t.push(e)}),t};var o=r(e("@babel/runtime-corejs3/core-js-stable/instance/index-of")),i=r(e("@babel/runtime-corejs3/core-js-stable/instance/for-each")),s=r(e("./arrayContainsObject")),a=r(e("./ParseObject"))},{"./ParseObject":27,"./arrayContainsObject":43,"@babel/runtime-corejs3/core-js-stable/instance/for-each":64,"@babel/runtime-corejs3/core-js-stable/instance/index-of":66,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/helpers/interopRequireDefault":128}],53:[function(e,t,n){"use strict";var r=e("@babel/runtime-corejs3/helpers/interopRequireDefault");e("@babel/runtime-corejs3/core-js-stable/object/define-property")(n,"__esModule",{value:!0}),n.default=function(e,t){var n={objects:{},files:[]},r=e.className+":"+e._getId();n.objects[r]=!e.dirty()||e;var o,i=e.attributes;for(o in i)"object"===(0,p.default)(i[o])&&!function t(e,n,r,o){if(e instanceof f.default){if(!e.id&&r)throw new Error("Cannot create a pointer to an unsaved Object.");var i=e.className+":"+e._getId();if(!n.objects[i]){n.objects[i]=!e.dirty()||e;var s,a=e.attributes;for(s in a)"object"===(0,p.default)(a[s])&&t(a[s],n,!o,o)}}else{if(e instanceof h.default)return!e.url()&&(0,d.default)(i=n.files).call(i,e)<0&&n.files.push(e),0;if(!(e instanceof m.default))for(var l in(0,c.default)(e)&&(0,u.default)(e).call(e,function(e){"object"===(0,p.default)(e)&&t(e,n,r,o)}),e)"object"===(0,p.default)(e[l])&&t(e[l],n,r,o)}}(i[o],n,!1,!!t);var s,a=[];for(s in n.objects)s!==r&&!0!==n.objects[s]&&a.push(n.objects[s]);return(0,l.default)(a).call(a,n.files)};var u=r(e("@babel/runtime-corejs3/core-js-stable/instance/for-each")),c=r(e("@babel/runtime-corejs3/core-js-stable/array/is-array")),d=r(e("@babel/runtime-corejs3/core-js-stable/instance/index-of")),l=r(e("@babel/runtime-corejs3/core-js-stable/instance/concat")),p=r(e("@babel/runtime-corejs3/helpers/typeof")),h=r(e("./ParseFile")),f=r(e("./ParseObject")),m=r(e("./ParseRelation"))},{"./ParseFile":23,"./ParseObject":27,"./ParseRelation":31,"@babel/runtime-corejs3/core-js-stable/array/is-array":56,"@babel/runtime-corejs3/core-js-stable/instance/concat":58,"@babel/runtime-corejs3/core-js-stable/instance/for-each":64,"@babel/runtime-corejs3/core-js-stable/instance/index-of":66,"@babel/runtime-corejs3/core-js-stable/object/define-property":81,"@babel/runtime-corejs3/helpers/interopRequireDefault":128,"@babel/runtime-corejs3/helpers/typeof":141}],54:[function(e,t,n){"use strict";e=e("uuid/v4");t.exports=e},{"uuid/v4":514}],55:[function(e,t,n){t.exports=e("core-js-pure/stable/array/from")},{"core-js-pure/stable/array/from":452}],56:[function(e,t,n){t.exports=e("core-js-pure/stable/array/is-array")},{"core-js-pure/stable/array/is-array":453}],57:[function(e,t,n){t.exports=e("core-js-pure/stable/instance/bind")},{"core-js-pure/stable/instance/bind":458}],58:[function(e,t,n){t.exports=e("core-js-pure/stable/instance/concat")},{"core-js-pure/stable/instance/concat":459}],59:[function(e,t,n){t.exports=e("core-js-pure/stable/instance/entries")},{"core-js-pure/stable/instance/entries":460}],60:[function(e,t,n){t.exports=e("core-js-pure/stable/instance/every")},{"core-js-pure/stable/instance/every":461}],61:[function(e,t,n){t.exports=e("core-js-pure/stable/instance/filter")},{"core-js-pure/stable/instance/filter":462}],62:[function(e,t,n){t.exports=e("core-js-pure/stable/instance/find-index")},{"core-js-pure/stable/instance/find-index":463}],63:[function(e,t,n){t.exports=e("core-js-pure/stable/instance/find")},{"core-js-pure/stable/instance/find":464}],64:[function(e,t,n){t.exports=e("core-js-pure/stable/instance/for-each")},{"core-js-pure/stable/instance/for-each":465}],65:[function(e,t,n){t.exports=e("core-js-pure/stable/instance/includes")},{"core-js-pure/stable/instance/includes":466}],66:[function(e,t,n){t.exports=e("core-js-pure/stable/instance/index-of")},{"core-js-pure/stable/instance/index-of":467}],67:[function(e,t,n){t.exports=e("core-js-pure/stable/instance/keys")},{"core-js-pure/stable/instance/keys":468}],68:[function(e,t,n){t.exports=e("core-js-pure/stable/instance/map")},{"core-js-pure/stable/instance/map":469}],69:[function(e,t,n){t.exports=e("core-js-pure/stable/instance/reduce")},{"core-js-pure/stable/instance/reduce":470}],70:[function(e,t,n){t.exports=e("core-js-pure/stable/instance/slice")},{"core-js-pure/stable/instance/slice":471}],71:[function(e,t,n){t.exports=e("core-js-pure/stable/instance/sort")},{"core-js-pure/stable/instance/sort":472}],72:[function(e,t,n){t.exports=e("core-js-pure/stable/instance/splice")},{"core-js-pure/stable/instance/splice":473}],73:[function(e,t,n){t.exports=e("core-js-pure/stable/instance/starts-with")},{"core-js-pure/stable/instance/starts-with":474}],74:[function(e,t,n){t.exports=e("core-js-pure/stable/instance/values")},{"core-js-pure/stable/instance/values":475}],75:[function(e,t,n){t.exports=e("core-js-pure/stable/json/stringify")},{"core-js-pure/stable/json/stringify":476}],76:[function(e,t,n){t.exports=e("core-js-pure/stable/map")},{"core-js-pure/stable/map":477}],77:[function(e,t,n){t.exports=e("core-js-pure/stable/number/is-integer")},{"core-js-pure/stable/number/is-integer":478}],78:[function(e,t,n){t.exports=e("core-js-pure/stable/object/assign")},{"core-js-pure/stable/object/assign":479}],79:[function(e,t,n){t.exports=e("core-js-pure/stable/object/create")},{"core-js-pure/stable/object/create":480}],80:[function(e,t,n){t.exports=e("core-js-pure/stable/object/define-properties")},{"core-js-pure/stable/object/define-properties":481}],81:[function(e,t,n){t.exports=e("core-js-pure/stable/object/define-property")},{"core-js-pure/stable/object/define-property":482}],82:[function(e,t,n){t.exports=e("core-js-pure/stable/object/entries")},{"core-js-pure/stable/object/entries":483}],83:[function(e,t,n){t.exports=e("core-js-pure/stable/object/freeze")},{"core-js-pure/stable/object/freeze":484}],84:[function(e,t,n){t.exports=e("core-js-pure/stable/object/get-own-property-descriptor")},{"core-js-pure/stable/object/get-own-property-descriptor":485}],85:[function(e,t,n){t.exports=e("core-js-pure/stable/object/get-own-property-descriptors")},{"core-js-pure/stable/object/get-own-property-descriptors":486}],86:[function(e,t,n){t.exports=e("core-js-pure/stable/object/get-own-property-symbols")},{"core-js-pure/stable/object/get-own-property-symbols":487}],87:[function(e,t,n){t.exports=e("core-js-pure/stable/object/get-prototype-of")},{"core-js-pure/stable/object/get-prototype-of":488}],88:[function(e,t,n){t.exports=e("core-js-pure/stable/object/keys")},{"core-js-pure/stable/object/keys":489}],89:[function(e,t,n){t.exports=e("core-js-pure/stable/parse-int")},{"core-js-pure/stable/parse-int":490}],90:[function(e,t,n){t.exports=e("core-js-pure/stable/promise")},{"core-js-pure/stable/promise":491}],91:[function(e,t,n){t.exports=e("core-js-pure/stable/reflect/construct")},{"core-js-pure/stable/reflect/construct":492}],92:[function(e,t,n){t.exports=e("core-js-pure/stable/set-interval")},{"core-js-pure/stable/set-interval":493}],93:[function(e,t,n){t.exports=e("core-js-pure/stable/set-timeout")},{"core-js-pure/stable/set-timeout":494}],94:[function(e,t,n){t.exports=e("core-js-pure/stable/set")},{"core-js-pure/stable/set":495}],95:[function(e,t,n){t.exports=e("core-js-pure/stable/symbol")},{"core-js-pure/stable/symbol":496}],96:[function(e,t,n){t.exports=e("core-js-pure/stable/weak-map")},{"core-js-pure/stable/weak-map":497}],97:[function(e,t,n){t.exports=e("core-js-pure/features/array/from")},{"core-js-pure/features/array/from":202}],98:[function(e,t,n){t.exports=e("core-js-pure/features/array/is-array")},{"core-js-pure/features/array/is-array":203}],99:[function(e,t,n){t.exports=e("core-js-pure/features/get-iterator-method")},{"core-js-pure/features/get-iterator-method":204}],100:[function(e,t,n){t.exports=e("core-js-pure/features/get-iterator")},{"core-js-pure/features/get-iterator":205}],101:[function(e,t,n){t.exports=e("core-js-pure/features/instance/bind")},{"core-js-pure/features/instance/bind":206}],102:[function(e,t,n){t.exports=e("core-js-pure/features/instance/index-of")},{"core-js-pure/features/instance/index-of":207}],103:[function(e,t,n){t.exports=e("core-js-pure/features/instance/slice")},{"core-js-pure/features/instance/slice":208}],104:[function(e,t,n){t.exports=e("core-js-pure/features/map")},{"core-js-pure/features/map":209}],105:[function(e,t,n){t.exports=e("core-js-pure/features/object/create")},{"core-js-pure/features/object/create":210}],106:[function(e,t,n){t.exports=e("core-js-pure/features/object/define-property")},{"core-js-pure/features/object/define-property":211}],107:[function(e,t,n){t.exports=e("core-js-pure/features/object/get-own-property-descriptor")},{"core-js-pure/features/object/get-own-property-descriptor":212}],108:[function(e,t,n){t.exports=e("core-js-pure/features/object/get-prototype-of")},{"core-js-pure/features/object/get-prototype-of":213}],109:[function(e,t,n){t.exports=e("core-js-pure/features/object/set-prototype-of")},{"core-js-pure/features/object/set-prototype-of":214}],110:[function(e,t,n){t.exports=e("core-js-pure/features/promise")},{"core-js-pure/features/promise":215}],111:[function(e,t,n){t.exports=e("core-js-pure/features/reflect/construct")},{"core-js-pure/features/reflect/construct":216}],112:[function(e,t,n){t.exports=e("core-js-pure/features/reflect/get")},{"core-js-pure/features/reflect/get":217}],113:[function(e,t,n){t.exports=e("core-js-pure/features/symbol")},{"core-js-pure/features/symbol":218}],114:[function(e,t,n){t.exports=e("core-js-pure/features/symbol/iterator")},{"core-js-pure/features/symbol/iterator":219}],115:[function(e,t,n){t.exports=e("core-js-pure/features/weak-map")},{"core-js-pure/features/weak-map":220}],116:[function(e,t,n){t.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},t.exports.default=t.exports,t.exports.__esModule=!0},{}],117:[function(e,t,n){var r=e("@babel/runtime-corejs3/core-js/array/is-array");t.exports=function(e){if(r(e))return e},t.exports.default=t.exports,t.exports.__esModule=!0},{"@babel/runtime-corejs3/core-js/array/is-array":98}],118:[function(e,t,n){var r=e("@babel/runtime-corejs3/core-js/array/is-array"),o=e("./arrayLikeToArray.js");t.exports=function(e){if(r(e))return o(e)},t.exports.default=t.exports,t.exports.__esModule=!0},{"./arrayLikeToArray.js":116,"@babel/runtime-corejs3/core-js/array/is-array":98}],119:[function(e,t,n){t.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},t.exports.default=t.exports,t.exports.__esModule=!0},{}],120:[function(e,t,n){var u=e("@babel/runtime-corejs3/core-js/promise");function l(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){return n(e),0}a.done?t(l):u.resolve(l).then(r,o)}t.exports=function(a){return function(){var e=this,s=arguments;return new u(function(t,n){var r=a.apply(e,s);function o(e){l(r,t,n,o,i,"next",e)}function i(e){l(r,t,n,o,i,"throw",e)}o(void 0)})}},t.exports.default=t.exports,t.exports.__esModule=!0},{"@babel/runtime-corejs3/core-js/promise":110}],121:[function(e,t,n){t.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},{}],122:[function(e,r,t){var o=e("@babel/runtime-corejs3/core-js/reflect/construct"),i=e("@babel/runtime-corejs3/core-js/instance/bind"),s=e("./setPrototypeOf.js"),a=e("./isNativeReflectConstruct.js");function l(e,t,n){return a()?r.exports=l=o:r.exports=l=function(e,t,n){var r=[null];return r.push.apply(r,t),r=new(i(Function).apply(e,r)),n&&s(r,n.prototype),r},r.exports.default=r.exports,r.exports.__esModule=!0,l.apply(null,arguments)}r.exports=l,r.exports.default=r.exports,r.exports.__esModule=!0},{"./isNativeReflectConstruct.js":131,"./setPrototypeOf.js":137,"@babel/runtime-corejs3/core-js/instance/bind":101,"@babel/runtime-corejs3/core-js/reflect/construct":111}],123:[function(e,t,n){var o=e("@babel/runtime-corejs3/core-js/object/define-property");function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),o(e,r.key,r)}}t.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e},t.exports.default=t.exports,t.exports.__esModule=!0},{"@babel/runtime-corejs3/core-js/object/define-property":106}],124:[function(e,t,n){var r=e("@babel/runtime-corejs3/core-js/object/define-property");t.exports=function(e,t,n){return t in e?r(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},t.exports.default=t.exports,t.exports.__esModule=!0},{"@babel/runtime-corejs3/core-js/object/define-property":106}],125:[function(e,r,t){var o=e("@babel/runtime-corejs3/core-js/reflect/get"),i=e("@babel/runtime-corejs3/core-js/object/get-own-property-descriptor"),s=e("./superPropBase.js");function a(e,t,n){return"undefined"!=typeof Reflect&&o?r.exports=a=o:r.exports=a=function(e,t,n){if(e=s(e,t))return(t=i(e,t)).get?t.get.call(n):t.value},r.exports.default=r.exports,r.exports.__esModule=!0,a(e,t,n||e)}r.exports=a,r.exports.default=r.exports,r.exports.__esModule=!0},{"./superPropBase.js":139,"@babel/runtime-corejs3/core-js/object/get-own-property-descriptor":107,"@babel/runtime-corejs3/core-js/reflect/get":112}],126:[function(e,t,n){var r=e("@babel/runtime-corejs3/core-js/object/set-prototype-of"),o=e("@babel/runtime-corejs3/core-js/object/get-prototype-of");function i(e){return t.exports=i=r?o:function(e){return e.__proto__||o(e)},t.exports.default=t.exports,t.exports.__esModule=!0,i(e)}t.exports=i,t.exports.default=t.exports,t.exports.__esModule=!0},{"@babel/runtime-corejs3/core-js/object/get-prototype-of":108,"@babel/runtime-corejs3/core-js/object/set-prototype-of":109}],127:[function(e,t,n){var r=e("@babel/runtime-corejs3/core-js/object/create"),o=e("./setPrototypeOf.js");t.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=r(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)},t.exports.default=t.exports,t.exports.__esModule=!0},{"./setPrototypeOf.js":137,"@babel/runtime-corejs3/core-js/object/create":105}],128:[function(e,t,n){t.exports=function(e){return e&&e.__esModule?e:{default:e}},t.exports.default=t.exports,t.exports.__esModule=!0},{}],129:[function(e,t,n){var s=e("@babel/runtime-corejs3/helpers/typeof").default,r=e("@babel/runtime-corejs3/core-js/weak-map"),a=e("@babel/runtime-corejs3/core-js/object/define-property"),l=e("@babel/runtime-corejs3/core-js/object/get-own-property-descriptor");function u(e){if("function"!=typeof r)return null;var t=new r,n=new r;return(u=function(e){return e?n:t})(e)}t.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};if((t=u(t))&&t.has(e))return t.get(e);var n,r,o={},i=a&&l;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((r=i?l(e,n):null)&&(r.get||r.set)?a(o,n,r):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o},t.exports.default=t.exports,t.exports.__esModule=!0},{"@babel/runtime-corejs3/core-js/object/define-property":106,"@babel/runtime-corejs3/core-js/object/get-own-property-descriptor":107,"@babel/runtime-corejs3/core-js/weak-map":115,"@babel/runtime-corejs3/helpers/typeof":141}],130:[function(e,t,n){var r=e("@babel/runtime-corejs3/core-js/instance/index-of");t.exports=function(e){return-1!==r(e=Function.toString.call(e)).call(e,"[native code]")},t.exports.default=t.exports,t.exports.__esModule=!0},{"@babel/runtime-corejs3/core-js/instance/index-of":102}],131:[function(e,t,n){var r=e("@babel/runtime-corejs3/core-js/reflect/construct");t.exports=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],function(){})),!0}catch(e){return!1}},t.exports.default=t.exports,t.exports.__esModule=!0},{"@babel/runtime-corejs3/core-js/reflect/construct":111}],132:[function(e,t,n){var r=e("@babel/runtime-corejs3/core-js/symbol"),o=e("@babel/runtime-corejs3/core-js/get-iterator-method"),i=e("@babel/runtime-corejs3/core-js/array/from");t.exports=function(e){if(void 0!==r&&null!=o(e)||null!=e["@@iterator"])return i(e)},t.exports.default=t.exports,t.exports.__esModule=!0},{"@babel/runtime-corejs3/core-js/array/from":97,"@babel/runtime-corejs3/core-js/get-iterator-method":99,"@babel/runtime-corejs3/core-js/symbol":113}],133:[function(e,t,n){var l=e("@babel/runtime-corejs3/core-js/symbol"),u=e("@babel/runtime-corejs3/core-js/get-iterator-method");t.exports=function(e,t){var n=null==e?null:void 0!==l&&u(e)||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){a=!0,o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}},t.exports.default=t.exports,t.exports.__esModule=!0},{"@babel/runtime-corejs3/core-js/get-iterator-method":99,"@babel/runtime-corejs3/core-js/symbol":113}],134:[function(e,t,n){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},{}],135:[function(e,t,n){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},{}],136:[function(e,t,n){var r=e("@babel/runtime-corejs3/helpers/typeof").default,o=e("./assertThisInitialized.js");t.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t},t.exports.default=t.exports,t.exports.__esModule=!0},{"./assertThisInitialized.js":119,"@babel/runtime-corejs3/helpers/typeof":141}],137:[function(e,n,t){var r=e("@babel/runtime-corejs3/core-js/object/set-prototype-of");function o(e,t){return n.exports=o=r||function(e,t){return e.__proto__=t,e},n.exports.default=n.exports,n.exports.__esModule=!0,o(e,t)}n.exports=o,n.exports.default=n.exports,n.exports.__esModule=!0},{"@babel/runtime-corejs3/core-js/object/set-prototype-of":109}],138:[function(e,t,n){var r=e("./arrayWithHoles.js"),o=e("./iterableToArrayLimit.js"),i=e("./unsupportedIterableToArray.js"),s=e("./nonIterableRest.js");t.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||s()},t.exports.default=t.exports,t.exports.__esModule=!0},{"./arrayWithHoles.js":117,"./iterableToArrayLimit.js":133,"./nonIterableRest.js":134,"./unsupportedIterableToArray.js":142}],139:[function(e,t,n){var r=e("./getPrototypeOf.js");t.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e},t.exports.default=t.exports,t.exports.__esModule=!0},{"./getPrototypeOf.js":126}],140:[function(e,t,n){var r=e("./arrayWithoutHoles.js"),o=e("./iterableToArray.js"),i=e("./unsupportedIterableToArray.js"),s=e("./nonIterableSpread.js");t.exports=function(e){return r(e)||o(e)||i(e)||s()},t.exports.default=t.exports,t.exports.__esModule=!0},{"./arrayWithoutHoles.js":118,"./iterableToArray.js":132,"./nonIterableSpread.js":135,"./unsupportedIterableToArray.js":142}],141:[function(e,t,n){var r=e("@babel/runtime-corejs3/core-js/symbol"),o=e("@babel/runtime-corejs3/core-js/symbol/iterator");function i(e){return t.exports=i="function"==typeof r&&"symbol"==typeof o?function(e){return typeof e}:function(e){return e&&"function"==typeof r&&e.constructor===r&&e!==r.prototype?"symbol":typeof e},t.exports.default=t.exports,t.exports.__esModule=!0,i(e)}t.exports=i,t.exports.default=t.exports,t.exports.__esModule=!0},{"@babel/runtime-corejs3/core-js/symbol":113,"@babel/runtime-corejs3/core-js/symbol/iterator":114}],142:[function(e,t,n){var r=e("@babel/runtime-corejs3/core-js/instance/slice"),o=e("@babel/runtime-corejs3/core-js/array/from"),i=e("./arrayLikeToArray.js");t.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=r(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?o(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0},{"./arrayLikeToArray.js":116,"@babel/runtime-corejs3/core-js/array/from":97,"@babel/runtime-corejs3/core-js/instance/slice":103}],143:[function(e,t,n){var r=e("@babel/runtime-corejs3/core-js/map"),o=e("@babel/runtime-corejs3/core-js/object/create"),i=e("./getPrototypeOf.js"),s=e("./setPrototypeOf.js"),a=e("./isNativeFunction.js"),l=e("./construct.js");function u(e){var n="function"==typeof r?new r:void 0;return t.exports=u=function(e){if(null===e||!a(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return l(e,arguments,i(this).constructor)}return t.prototype=o(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),s(t,e)},t.exports.default=t.exports,t.exports.__esModule=!0,u(e)}t.exports=u,t.exports.default=t.exports,t.exports.__esModule=!0},{"./construct.js":122,"./getPrototypeOf.js":126,"./isNativeFunction.js":130,"./setPrototypeOf.js":137,"@babel/runtime-corejs3/core-js/map":104,"@babel/runtime-corejs3/core-js/object/create":105}],144:[function(e,t,n){e("../../modules/es.string.iterator"),e("../../modules/es.array.from"),e=e("../../internals/path"),t.exports=e.Array.from},{"../../internals/path":322,"../../modules/es.array.from":358,"../../modules/es.string.iterator":396}],145:[function(e,t,n){e("../../modules/es.array.is-array"),e=e("../../internals/path"),t.exports=e.Array.isArray},{"../../internals/path":322,"../../modules/es.array.is-array":361}],146:[function(e,t,n){e("../../../modules/es.array.concat"),e=e("../../../internals/entry-virtual"),t.exports=e("Array").concat},{"../../../internals/entry-virtual":265,"../../../modules/es.array.concat":352}],147:[function(e,t,n){e("../../../modules/es.array.iterator"),e=e("../../../internals/entry-virtual"),t.exports=e("Array").entries},{"../../../internals/entry-virtual":265,"../../../modules/es.array.iterator":362}],148:[function(e,t,n){e("../../../modules/es.array.every"),e=e("../../../internals/entry-virtual"),t.exports=e("Array").every},{"../../../internals/entry-virtual":265,"../../../modules/es.array.every":353}],149:[function(e,t,n){e("../../../modules/es.array.filter"),e=e("../../../internals/entry-virtual"),t.exports=e("Array").filter},{"../../../internals/entry-virtual":265,"../../../modules/es.array.filter":354}],150:[function(e,t,n){e("../../../modules/es.array.find-index"),e=e("../../../internals/entry-virtual"),t.exports=e("Array").findIndex},{"../../../internals/entry-virtual":265,"../../../modules/es.array.find-index":355}],151:[function(e,t,n){e("../../../modules/es.array.find"),e=e("../../../internals/entry-virtual"),t.exports=e("Array").find},{"../../../internals/entry-virtual":265,"../../../modules/es.array.find":356}],152:[function(e,t,n){e("../../../modules/es.array.for-each"),e=e("../../../internals/entry-virtual"),t.exports=e("Array").forEach},{"../../../internals/entry-virtual":265,"../../../modules/es.array.for-each":357}],153:[function(e,t,n){e("../../../modules/es.array.includes"),e=e("../../../internals/entry-virtual"),t.exports=e("Array").includes},{"../../../internals/entry-virtual":265,"../../../modules/es.array.includes":359}],154:[function(e,t,n){e("../../../modules/es.array.index-of"),e=e("../../../internals/entry-virtual"),t.exports=e("Array").indexOf},{"../../../internals/entry-virtual":265,"../../../modules/es.array.index-of":360}],155:[function(e,t,n){e("../../../modules/es.array.iterator"),e=e("../../../internals/entry-virtual"),t.exports=e("Array").keys},{"../../../internals/entry-virtual":265,"../../../modules/es.array.iterator":362}],156:[function(e,t,n){e("../../../modules/es.array.map"),e=e("../../../internals/entry-virtual"),t.exports=e("Array").map},{"../../../internals/entry-virtual":265,"../../../modules/es.array.map":363}],157:[function(e,t,n){e("../../../modules/es.array.reduce"),e=e("../../../internals/entry-virtual"),t.exports=e("Array").reduce},{"../../../internals/entry-virtual":265,"../../../modules/es.array.reduce":364}],158:[function(e,t,n){e("../../../modules/es.array.slice"),e=e("../../../internals/entry-virtual"),t.exports=e("Array").slice},{"../../../internals/entry-virtual":265,"../../../modules/es.array.slice":365}],159:[function(e,t,n){e("../../../modules/es.array.sort"),e=e("../../../internals/entry-virtual"),t.exports=e("Array").sort},{"../../../internals/entry-virtual":265,"../../../modules/es.array.sort":366}],160:[function(e,t,n){e("../../../modules/es.array.splice"),e=e("../../../internals/entry-virtual"),t.exports=e("Array").splice},{"../../../internals/entry-virtual":265,"../../../modules/es.array.splice":367}],161:[function(e,t,n){e("../../../modules/es.array.iterator"),e=e("../../../internals/entry-virtual"),t.exports=e("Array").values},{"../../../internals/entry-virtual":265,"../../../modules/es.array.iterator":362}],162:[function(e,t,n){e("../../../modules/es.function.bind"),e=e("../../../internals/entry-virtual"),t.exports=e("Function").bind},{"../../../internals/entry-virtual":265,"../../../modules/es.function.bind":368}],163:[function(e,t,n){var r=e("../function/virtual/bind"),o=Function.prototype;t.exports=function(e){var t=e.bind;return e===o||e instanceof Function&&t===o.bind?r:t}},{"../function/virtual/bind":162}],164:[function(e,t,n){var r=e("../array/virtual/concat"),o=Array.prototype;t.exports=function(e){var t=e.concat;return e===o||e instanceof Array&&t===o.concat?r:t}},{"../array/virtual/concat":146}],165:[function(e,t,n){var r=e("../array/virtual/every"),o=Array.prototype;t.exports=function(e){var t=e.every;return e===o||e instanceof Array&&t===o.every?r:t}},{"../array/virtual/every":148}],166:[function(e,t,n){var r=e("../array/virtual/filter"),o=Array.prototype;t.exports=function(e){var t=e.filter;return e===o||e instanceof Array&&t===o.filter?r:t}},{"../array/virtual/filter":149}],167:[function(e,t,n){var r=e("../array/virtual/find-index"),o=Array.prototype;t.exports=function(e){var t=e.findIndex;return e===o||e instanceof Array&&t===o.findIndex?r:t}},{"../array/virtual/find-index":150}],168:[function(e,t,n){var r=e("../array/virtual/find"),o=Array.prototype;t.exports=function(e){var t=e.find;return e===o||e instanceof Array&&t===o.find?r:t}},{"../array/virtual/find":151}],169:[function(e,t,n){var r=e("../array/virtual/includes"),o=e("../string/virtual/includes"),i=Array.prototype,s=String.prototype;t.exports=function(e){var t=e.includes;return e===i||e instanceof Array&&t===i.includes?r:"string"==typeof e||e===s||e instanceof String&&t===s.includes?o:t}},{"../array/virtual/includes":153,"../string/virtual/includes":197}],170:[function(e,t,n){var r=e("../array/virtual/index-of"),o=Array.prototype;t.exports=function(e){var t=e.indexOf;return e===o||e instanceof Array&&t===o.indexOf?r:t}},{"../array/virtual/index-of":154}],171:[function(e,t,n){var r=e("../array/virtual/map"),o=Array.prototype;t.exports=function(e){var t=e.map;return e===o||e instanceof Array&&t===o.map?r:t}},{"../array/virtual/map":156}],172:[function(e,t,n){var r=e("../array/virtual/reduce"),o=Array.prototype;t.exports=function(e){var t=e.reduce;return e===o||e instanceof Array&&t===o.reduce?r:t}},{"../array/virtual/reduce":157}],173:[function(e,t,n){var r=e("../array/virtual/slice"),o=Array.prototype;t.exports=function(e){var t=e.slice;return e===o||e instanceof Array&&t===o.slice?r:t}},{"../array/virtual/slice":158}],174:[function(e,t,n){var r=e("../array/virtual/sort"),o=Array.prototype;t.exports=function(e){var t=e.sort;return e===o||e instanceof Array&&t===o.sort?r:t}},{"../array/virtual/sort":159}],175:[function(e,t,n){var r=e("../array/virtual/splice"),o=Array.prototype;t.exports=function(e){var t=e.splice;return e===o||e instanceof Array&&t===o.splice?r:t}},{"../array/virtual/splice":160}],176:[function(e,t,n){var r=e("../string/virtual/starts-with"),o=String.prototype;t.exports=function(e){var t=e.startsWith;return"string"==typeof e||e===o||e instanceof String&&t===o.startsWith?r:t}},{"../string/virtual/starts-with":198}],177:[function(e,t,n){e("../../modules/es.json.stringify");var r=e("../../internals/path");r.JSON||(r.JSON={stringify:JSON.stringify}),t.exports=function(e,t,n){return r.JSON.stringify.apply(null,arguments)}},{"../../internals/path":322,"../../modules/es.json.stringify":369}],178:[function(e,t,n){e("../../modules/es.map"),e("../../modules/es.object.to-string"),e("../../modules/es.string.iterator"),e("../../modules/web.dom-collections.iterator"),e=e("../../internals/path"),t.exports=e.Map},{"../../internals/path":322,"../../modules/es.map":371,"../../modules/es.object.to-string":385,"../../modules/es.string.iterator":396,"../../modules/web.dom-collections.iterator":450}],179:[function(e,t,n){e("../../modules/es.number.is-integer"),e=e("../../internals/path"),t.exports=e.Number.isInteger},{"../../internals/path":322,"../../modules/es.number.is-integer":373}],180:[function(e,t,n){e("../../modules/es.object.assign"),e=e("../../internals/path"),t.exports=e.Object.assign},{"../../internals/path":322,"../../modules/es.object.assign":374}],181:[function(e,t,n){e("../../modules/es.object.create");var r=e("../../internals/path").Object;t.exports=function(e,t){return r.create(e,t)}},{"../../internals/path":322,"../../modules/es.object.create":375}],182:[function(e,t,n){e("../../modules/es.object.define-properties");var r=e("../../internals/path").Object,t=t.exports=function(e,t){return r.defineProperties(e,t)};r.defineProperties.sham&&(t.sham=!0)},{"../../internals/path":322,"../../modules/es.object.define-properties":376}],183:[function(e,t,n){e("../../modules/es.object.define-property");var r=e("../../internals/path").Object,t=t.exports=function(e,t,n){return r.defineProperty(e,t,n)};r.defineProperty.sham&&(t.sham=!0)},{"../../internals/path":322,"../../modules/es.object.define-property":377}],184:[function(e,t,n){e("../../modules/es.object.entries"),e=e("../../internals/path"),t.exports=e.Object.entries},{"../../internals/path":322,"../../modules/es.object.entries":378}],185:[function(e,t,n){e("../../modules/es.object.freeze"),e=e("../../internals/path"),t.exports=e.Object.freeze},{"../../internals/path":322,"../../modules/es.object.freeze":379}],186:[function(e,t,n){e("../../modules/es.object.get-own-property-descriptor");var r=e("../../internals/path").Object,t=t.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)};r.getOwnPropertyDescriptor.sham&&(t.sham=!0)},{"../../internals/path":322,"../../modules/es.object.get-own-property-descriptor":380}],187:[function(e,t,n){e("../../modules/es.object.get-own-property-descriptors"),e=e("../../internals/path"),t.exports=e.Object.getOwnPropertyDescriptors},{"../../internals/path":322,"../../modules/es.object.get-own-property-descriptors":381}],188:[function(e,t,n){e("../../modules/es.symbol"),e=e("../../internals/path"),t.exports=e.Object.getOwnPropertySymbols},{"../../internals/path":322,"../../modules/es.symbol":403}],189:[function(e,t,n){e("../../modules/es.object.get-prototype-of"),e=e("../../internals/path"),t.exports=e.Object.getPrototypeOf},{"../../internals/path":322,"../../modules/es.object.get-prototype-of":382}],190:[function(e,t,n){e("../../modules/es.object.keys"),e=e("../../internals/path"),t.exports=e.Object.keys},{"../../internals/path":322,"../../modules/es.object.keys":383}],191:[function(e,t,n){e("../../modules/es.object.set-prototype-of"),e=e("../../internals/path"),t.exports=e.Object.setPrototypeOf},{"../../internals/path":322,"../../modules/es.object.set-prototype-of":384}],192:[function(e,t,n){e("../modules/es.parse-int"),e=e("../internals/path"),t.exports=e.parseInt},{"../internals/path":322,"../modules/es.parse-int":386}],193:[function(e,t,n){e("../../modules/es.aggregate-error"),e("../../modules/es.object.to-string"),e("../../modules/es.promise"),e("../../modules/es.promise.all-settled"),e("../../modules/es.promise.any"),e("../../modules/es.promise.finally"),e("../../modules/es.string.iterator"),e("../../modules/web.dom-collections.iterator"),e=e("../../internals/path"),t.exports=e.Promise},{"../../internals/path":322,"../../modules/es.aggregate-error":351,"../../modules/es.object.to-string":385,"../../modules/es.promise":390,"../../modules/es.promise.all-settled":387,"../../modules/es.promise.any":388,"../../modules/es.promise.finally":389,"../../modules/es.string.iterator":396,"../../modules/web.dom-collections.iterator":450}],194:[function(e,t,n){e("../../modules/es.reflect.construct"),e=e("../../internals/path"),t.exports=e.Reflect.construct},{"../../internals/path":322,"../../modules/es.reflect.construct":391}],195:[function(e,t,n){e("../../modules/es.reflect.get"),e=e("../../internals/path"),t.exports=e.Reflect.get},{"../../internals/path":322,"../../modules/es.reflect.get":392}],196:[function(e,t,n){e("../../modules/es.set"),e("../../modules/es.object.to-string"),e("../../modules/es.string.iterator"),e("../../modules/web.dom-collections.iterator"),e=e("../../internals/path"),t.exports=e.Set},{"../../internals/path":322,"../../modules/es.object.to-string":385,"../../modules/es.set":394,"../../modules/es.string.iterator":396,"../../modules/web.dom-collections.iterator":450}],197:[function(e,t,n){e("../../../modules/es.string.includes"),e=e("../../../internals/entry-virtual"),t.exports=e("String").includes},{"../../../internals/entry-virtual":265,"../../../modules/es.string.includes":395}],198:[function(e,t,n){e("../../../modules/es.string.starts-with"),e=e("../../../internals/entry-virtual"),t.exports=e("String").startsWith},{"../../../internals/entry-virtual":265,"../../../modules/es.string.starts-with":397}],199:[function(e,t,n){e("../../modules/es.array.concat"),e("../../modules/es.object.to-string"),e("../../modules/es.symbol"),e("../../modules/es.symbol.async-iterator"),e("../../modules/es.symbol.description"),e("../../modules/es.symbol.has-instance"),e("../../modules/es.symbol.is-concat-spreadable"),e("../../modules/es.symbol.iterator"),e("../../modules/es.symbol.match"),e("../../modules/es.symbol.match-all"),e("../../modules/es.symbol.replace"),e("../../modules/es.symbol.search"),e("../../modules/es.symbol.species"),e("../../modules/es.symbol.split"),e("../../modules/es.symbol.to-primitive"),e("../../modules/es.symbol.to-string-tag"),e("../../modules/es.symbol.unscopables"),e("../../modules/es.json.to-string-tag"),e("../../modules/es.math.to-string-tag"),e("../../modules/es.reflect.to-string-tag"),e=e("../../internals/path"),t.exports=e.Symbol},{"../../internals/path":322,"../../modules/es.array.concat":352,"../../modules/es.json.to-string-tag":370,"../../modules/es.math.to-string-tag":372,"../../modules/es.object.to-string":385,"../../modules/es.reflect.to-string-tag":393,"../../modules/es.symbol":403,"../../modules/es.symbol.async-iterator":398,"../../modules/es.symbol.description":399,"../../modules/es.symbol.has-instance":400,"../../modules/es.symbol.is-concat-spreadable":401,"../../modules/es.symbol.iterator":402,"../../modules/es.symbol.match":405,"../../modules/es.symbol.match-all":404,"../../modules/es.symbol.replace":406,"../../modules/es.symbol.search":407,"../../modules/es.symbol.species":408,"../../modules/es.symbol.split":409,"../../modules/es.symbol.to-primitive":410,"../../modules/es.symbol.to-string-tag":411,"../../modules/es.symbol.unscopables":412}],200:[function(e,t,n){e("../../modules/es.symbol.iterator"),e("../../modules/es.string.iterator"),e("../../modules/web.dom-collections.iterator"),e=e("../../internals/well-known-symbol-wrapped"),t.exports=e.f("iterator")},{"../../internals/well-known-symbol-wrapped":348,"../../modules/es.string.iterator":396,"../../modules/es.symbol.iterator":402,"../../modules/web.dom-collections.iterator":450}],201:[function(e,t,n){e("../../modules/es.object.to-string"),e("../../modules/es.weak-map"),e("../../modules/web.dom-collections.iterator"),e=e("../../internals/path"),t.exports=e.WeakMap},{"../../internals/path":322,"../../modules/es.object.to-string":385,"../../modules/es.weak-map":413,"../../modules/web.dom-collections.iterator":450}],202:[function(e,t,n){e=e("../../es/array/from"),t.exports=e},{"../../es/array/from":144}],203:[function(e,t,n){e=e("../../es/array/is-array"),t.exports=e},{"../../es/array/is-array":145}],204:[function(e,t,n){e("../modules/web.dom-collections.iterator"),e("../modules/es.string.iterator"),e=e("../internals/get-iterator-method"),t.exports=e},{"../internals/get-iterator-method":273,"../modules/es.string.iterator":396,"../modules/web.dom-collections.iterator":450}],205:[function(e,t,n){e("../modules/web.dom-collections.iterator"),e("../modules/es.string.iterator"),e=e("../internals/get-iterator"),t.exports=e},{"../internals/get-iterator":274,"../modules/es.string.iterator":396,"../modules/web.dom-collections.iterator":450}],206:[function(e,t,n){e=e("../../es/instance/bind"),t.exports=e},{"../../es/instance/bind":163}],207:[function(e,t,n){e=e("../../es/instance/index-of"),t.exports=e},{"../../es/instance/index-of":170}],208:[function(e,t,n){e=e("../../es/instance/slice"),t.exports=e},{"../../es/instance/slice":173}],209:[function(e,t,n){var r=e("../../es/map");e("../../modules/esnext.map.from"),e("../../modules/esnext.map.of"),e("../../modules/esnext.map.delete-all"),e("../../modules/esnext.map.emplace"),e("../../modules/esnext.map.every"),e("../../modules/esnext.map.filter"),e("../../modules/esnext.map.find"),e("../../modules/esnext.map.find-key"),e("../../modules/esnext.map.group-by"),e("../../modules/esnext.map.includes"),e("../../modules/esnext.map.key-by"),e("../../modules/esnext.map.key-of"),e("../../modules/esnext.map.map-keys"),e("../../modules/esnext.map.map-values"),e("../../modules/esnext.map.merge"),e("../../modules/esnext.map.reduce"),e("../../modules/esnext.map.some"),e("../../modules/esnext.map.update"),e("../../modules/esnext.map.upsert"),e("../../modules/esnext.map.update-or-insert"),t.exports=r},{"../../es/map":178,"../../modules/esnext.map.delete-all":415,"../../modules/esnext.map.emplace":416,"../../modules/esnext.map.every":417,"../../modules/esnext.map.filter":418,"../../modules/esnext.map.find":420,"../../modules/esnext.map.find-key":419,"../../modules/esnext.map.from":421,"../../modules/esnext.map.group-by":422,"../../modules/esnext.map.includes":423,"../../modules/esnext.map.key-by":424,"../../modules/esnext.map.key-of":425,"../../modules/esnext.map.map-keys":426,"../../modules/esnext.map.map-values":427,"../../modules/esnext.map.merge":428,"../../modules/esnext.map.of":429,"../../modules/esnext.map.reduce":430,"../../modules/esnext.map.some":431,"../../modules/esnext.map.update":433,"../../modules/esnext.map.update-or-insert":432,"../../modules/esnext.map.upsert":434}],210:[function(e,t,n){e=e("../../es/object/create"),t.exports=e},{"../../es/object/create":181}],211:[function(e,t,n){e=e("../../es/object/define-property"),t.exports=e},{"../../es/object/define-property":183}],212:[function(e,t,n){e=e("../../es/object/get-own-property-descriptor"),t.exports=e},{"../../es/object/get-own-property-descriptor":186}],213:[function(e,t,n){e=e("../../es/object/get-prototype-of"),t.exports=e},{"../../es/object/get-prototype-of":189}],214:[function(e,t,n){e=e("../../es/object/set-prototype-of"),t.exports=e},{"../../es/object/set-prototype-of":191}],215:[function(e,t,n){var r=e("../../es/promise");e("../../modules/esnext.aggregate-error"),e("../../modules/esnext.promise.all-settled"),e("../../modules/esnext.promise.try"),e("../../modules/esnext.promise.any"),t.exports=r},{"../../es/promise":193,"../../modules/esnext.aggregate-error":414,"../../modules/esnext.promise.all-settled":435,"../../modules/esnext.promise.any":436,"../../modules/esnext.promise.try":437}],216:[function(e,t,n){e=e("../../es/reflect/construct"),t.exports=e},{"../../es/reflect/construct":194}],217:[function(e,t,n){e=e("../../es/reflect/get"),t.exports=e},{"../../es/reflect/get":195}],218:[function(e,t,n){var r=e("../../es/symbol");e("../../modules/esnext.symbol.async-dispose"),e("../../modules/esnext.symbol.dispose"),e("../../modules/esnext.symbol.matcher"),e("../../modules/esnext.symbol.metadata"),e("../../modules/esnext.symbol.observable"),e("../../modules/esnext.symbol.pattern-match"),e("../../modules/esnext.symbol.replace-all"),t.exports=r},{"../../es/symbol":199,"../../modules/esnext.symbol.async-dispose":438,"../../modules/esnext.symbol.dispose":439,"../../modules/esnext.symbol.matcher":440,"../../modules/esnext.symbol.metadata":441,"../../modules/esnext.symbol.observable":442,"../../modules/esnext.symbol.pattern-match":443,"../../modules/esnext.symbol.replace-all":444}],219:[function(e,t,n){e=e("../../es/symbol/iterator"),t.exports=e},{"../../es/symbol/iterator":200}],220:[function(e,t,n){var r=e("../../es/weak-map");e("../../modules/esnext.weak-map.emplace"),e("../../modules/esnext.weak-map.from"),e("../../modules/esnext.weak-map.of"),e("../../modules/esnext.weak-map.delete-all"),e("../../modules/esnext.weak-map.upsert"),t.exports=r},{"../../es/weak-map":201,"../../modules/esnext.weak-map.delete-all":445,"../../modules/esnext.weak-map.emplace":446,"../../modules/esnext.weak-map.from":447,"../../modules/esnext.weak-map.of":448,"../../modules/esnext.weak-map.upsert":449}],221:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},{}],222:[function(e,t,n){var r=e("../internals/is-object");t.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},{"../internals/is-object":290}],223:[function(e,t,n){t.exports=function(){}},{}],224:[function(e,t,n){t.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},{}],225:[function(e,t,n){var r=e("../internals/is-object");t.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},{"../internals/is-object":290}],226:[function(e,t,n){"use strict";var r=e("../internals/array-iteration").forEach,e=e("../internals/array-method-is-strict")("forEach");t.exports=e?[].forEach:function(e){return r(this,e,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":229,"../internals/array-method-is-strict":231}],227:[function(e,t,n){"use strict";var h=e("../internals/function-bind-context"),f=e("../internals/to-object"),m=e("../internals/call-with-safe-iteration-closing"),b=e("../internals/is-array-iterator-method"),g=e("../internals/to-length"),v=e("../internals/create-property"),y=e("../internals/get-iterator-method");t.exports=function(e){var t,n,r,o,i,s,a=f(e),l="function"==typeof this?this:Array,u=arguments.length,c=1<u?arguments[1]:void 0,d=void 0!==c,e=y(a),p=0;if(d&&(c=h(c,2<u?arguments[2]:void 0,2)),null==e||l==Array&&b(e))for(n=new l(t=g(a.length));p<t;p++)s=d?c(a[p],p):a[p],v(n,p,s);else for(i=(o=e.call(a)).next,n=new l;!(r=i.call(o)).done;p++)s=d?m(o,c,[r.value,p],!0):r.value,v(n,p,s);return n.length=p,n}},{"../internals/call-with-safe-iteration-closing":235,"../internals/create-property":250,"../internals/function-bind-context":270,"../internals/get-iterator-method":273,"../internals/is-array-iterator-method":286,"../internals/to-length":342,"../internals/to-object":343}],228:[function(e,t,n){var l=e("../internals/to-indexed-object"),u=e("../internals/to-length"),c=e("../internals/to-absolute-index"),e=function(a){return function(e,t,n){var r,o=l(e),i=u(o.length),s=c(n,i);if(a&&t!=t){for(;s<i;)if((r=o[s++])!=r)return!0}else for(;s<i;s++)if((a||s in o)&&o[s]===t)return a||s||0;return!a&&-1}};t.exports={includes:e(!0),indexOf:e(!1)}},{"../internals/to-absolute-index":339,"../internals/to-indexed-object":340,"../internals/to-length":342}],229:[function(e,t,n){var w=e("../internals/function-bind-context"),x=e("../internals/indexed-object"),j=e("../internals/to-object"),C=e("../internals/to-length"),E=e("../internals/array-species-create"),_=[].push,e=function(p){var h=1==p,f=2==p,m=3==p,b=4==p,g=6==p,v=7==p,y=5==p||g;return function(e,t,n,r){for(var o,i,s=j(e),a=x(s),l=w(t,n,3),u=C(a.length),c=0,r=r||E,d=h?r(e,u):f||v?r(e,0):void 0;c<u;c++)if((y||c in a)&&(i=l(o=a[c],c,s),p))if(h)d[c]=i;else if(i)switch(p){case 3:return!0;case 5:return o;case 6:return c;case 2:_.call(d,o)}else switch(p){case 4:return!1;case 7:_.call(d,o)}return g?-1:m||b?b:d}};t.exports={forEach:e(0),map:e(1),filter:e(2),some:e(3),every:e(4),find:e(5),findIndex:e(6),filterOut:e(7)}},{"../internals/array-species-create":234,"../internals/function-bind-context":270,"../internals/indexed-object":282,"../internals/to-length":342,"../internals/to-object":343}],230:[function(e,t,n){var r=e("../internals/fails"),o=e("../internals/well-known-symbol"),i=e("../internals/engine-v8-version"),s=o("species");t.exports=function(t){return 51<=i||!r(function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},{"../internals/engine-v8-version":263,"../internals/fails":268,"../internals/well-known-symbol":349}],231:[function(e,t,n){"use strict";var r=e("../internals/fails");t.exports=function(e,t){var n=[][e];return!!n&&r(function(){n.call(null,t||function(){throw 1},1)})}},{"../internals/fails":268}],232:[function(e,t,n){var c=e("../internals/a-function"),d=e("../internals/to-object"),p=e("../internals/indexed-object"),h=e("../internals/to-length"),e=function(u){return function(e,t,n,r){c(t);var o=d(e),i=p(o),s=h(o.length),a=u?s-1:0,l=u?-1:1;if(n<2)for(;;){if(a in i){r=i[a],a+=l;break}if(a+=l,u?a<0:s<=a)throw TypeError("Reduce of empty array with no initial value")}for(;u?0<=a:a<s;a+=l)a in i&&(r=t(r,i[a],a,o));return r}};t.exports={left:e(!1),right:e(!0)}},{"../internals/a-function":221,"../internals/indexed-object":282,"../internals/to-length":342,"../internals/to-object":343}],233:[function(e,t,n){function o(e,t){var n=e.length,r=i(n/2);return n<8?function(e,t){for(var n,r,o=e.length,i=1;i<o;){for(n=e[r=i];r&&0<t(e[r-1],n);)e[r]=e[--r];r!==i++&&(e[r]=n)}return e}(e,t):function(e,t,n){for(var r=e.length,o=t.length,i=0,s=0,a=[];i<r||s<o;)i<r&&s<o?a.push(n(e[i],t[s])<=0?e[i++]:t[s++]):a.push(i<r?e[i++]:t[s++]);return a}(o(e.slice(0,r),t),o(e.slice(r),t),t)}var i=Math.floor;t.exports=o},{}],234:[function(e,t,n){var r=e("../internals/is-object"),o=e("../internals/is-array"),i=e("../internals/well-known-symbol")("species");t.exports=function(e,t){var n;return new(void 0===(n=o(e)&&("function"==typeof(n=e.constructor)&&(n===Array||o(n.prototype))||r(n)&&null===(n=n[i]))?void 0:n)?Array:n)(0===t?0:t)}},{"../internals/is-array":287,"../internals/is-object":290,"../internals/well-known-symbol":349}],235:[function(e,t,n){var o=e("../internals/an-object"),i=e("../internals/iterator-close");t.exports=function(e,t,n,r){try{return r?t(o(n)[0],n[1]):t(n)}catch(t){throw i(e),t}}},{"../internals/an-object":225,"../internals/iterator-close":294}],236:[function(e,t,n){var o=e("../internals/well-known-symbol")("iterator"),i=!1;try{var r=0,s={next:function(){return{done:!!r++}},return:function(){i=!0}};s[o]=function(){return this},Array.from(s,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var r={};r[o]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}},{"../internals/well-known-symbol":349}],237:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],238:[function(e,t,n){var r=e("../internals/to-string-tag-support"),o=e("../internals/classof-raw"),i=e("../internals/well-known-symbol")("toStringTag"),s="Arguments"==o(function(){return arguments}());t.exports=r?o:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?e:s?o(t):"Object"==(e=o(t))&&"function"==typeof t.callee?"Arguments":e}},{"../internals/classof-raw":237,"../internals/to-string-tag-support":345,"../internals/well-known-symbol":349}],239:[function(e,t,n){"use strict";var s=e("../internals/an-object"),a=e("../internals/a-function");t.exports=function(){for(var e,t=s(this),n=a(t.delete),r=!0,o=0,i=arguments.length;o<i;o++)e=n.call(t,arguments[o]),r=r&&e;return!!r}},{"../internals/a-function":221,"../internals/an-object":225}],240:[function(e,t,n){"use strict";var a=e("../internals/a-function"),l=e("../internals/function-bind-context"),u=e("../internals/iterate");t.exports=function(e){var t,n,r,o,i=arguments.length,s=1<i?arguments[1]:void 0;return a(this),(t=void 0!==s)&&a(s),null==e?new this:(n=[],t?(r=0,o=l(s,2<i?arguments[2]:void 0,2),u(e,function(e){n.push(o(e,r++))})):u(e,n.push,{that:n}),new this(n))}},{"../internals/a-function":221,"../internals/function-bind-context":270,"../internals/iterate":293}],241:[function(e,t,n){"use strict";t.exports=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}},{}],242:[function(e,t,n){"use strict";var u=e("../internals/object-define-property").f,c=e("../internals/object-create"),d=e("../internals/redefine-all"),p=e("../internals/function-bind-context"),h=e("../internals/an-instance"),f=e("../internals/iterate"),s=e("../internals/define-iterator"),a=e("../internals/set-species"),m=e("../internals/descriptors"),b=e("../internals/internal-metadata").fastKey,g=(e=e("../internals/internal-state")).set,v=e.getterFor;t.exports={getConstructor:function(e,n,r,o){function i(e,t,n){var r,o=l(e),i=s(e,t);return i?i.value=n:(o.last=i={index:r=b(t,!0),key:t,value:n,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=i),n&&(n.next=i),m?o.size++:e.size++,"F"!==r&&(o.index[r]=i)),e}function s(e,t){var n,r=l(e);if("F"!==(e=b(t)))return r.index[e];for(n=r.first;n;n=n.next)if(n.key==t)return n}var a=e(function(e,t){h(e,a,n),g(e,{type:n,index:c(null),first:void 0,last:void 0,size:0}),m||(e.size=0),null!=t&&f(t,e[o],{that:e,AS_ENTRIES:r})}),l=v(n);return d(a.prototype,{clear:function(){for(var e=l(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,m?e.size=0:this.size=0},delete:function(e){var t,n=l(this),r=s(this,e);return r&&(t=r.next,e=r.previous,delete n.index[r.index],r.removed=!0,e&&(e.next=t),t&&(t.previous=e),n.first==r&&(n.first=t),n.last==r&&(n.last=e),m?n.size--:this.size--),!!r},forEach:function(e){for(var t,n=l(this),r=p(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),d(a.prototype,r?{get:function(e){return(e=s(this,e))&&e.value},set:function(e,t){return i(this,0===e?0:e,t)}}:{add:function(e){return i(this,e=0===e?0:e,e)}}),m&&u(a.prototype,"size",{get:function(){return l(this).size}}),a},setStrong:function(e,t,n){var r=t+" Iterator",o=v(t),i=v(r);s(e,t,function(e,t){g(this,{type:r,target:e,state:o(e),kind:t,last:void 0})},function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:e.target=void 0,done:!0}},n?"entries":"values",!n,!0),a(t)}}},{"../internals/an-instance":224,"../internals/define-iterator":251,"../internals/descriptors":253,"../internals/function-bind-context":270,"../internals/internal-metadata":284,"../internals/internal-state":285,"../internals/iterate":293,"../internals/object-create":307,"../internals/object-define-property":309,"../internals/redefine-all":325,"../internals/set-species":330}],243:[function(e,t,n){"use strict";function l(e){return e.frozen||(e.frozen=new o)}function r(e,t){return s(e.entries,function(e){return e[0]===t})}function o(){this.entries=[]}var u=e("../internals/redefine-all"),c=e("../internals/internal-metadata").getWeakData,d=e("../internals/an-object"),p=e("../internals/is-object"),h=e("../internals/an-instance"),f=e("../internals/iterate"),i=e("../internals/array-iteration"),m=e("../internals/has"),b=(e=e("../internals/internal-state")).set,g=e.getterFor,s=i.find,a=i.findIndex,v=0;o.prototype={get:function(e){if(e=r(this,e))return e[1]},has:function(e){return!!r(this,e)},set:function(e,t){var n=r(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(t){var e=a(this.entries,function(e){return e[0]===t});return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(e,n,r,o){function i(e,t,n){var r=a(e),o=c(d(t),!0);return!0===o?l(r).set(t,n):o[r.id]=n,e}var s=e(function(e,t){h(e,s,n),b(e,{type:n,id:v++,frozen:void 0}),null!=t&&f(t,e[o],{that:e,AS_ENTRIES:r})}),a=g(n);return u(s.prototype,{delete:function(e){var t=a(this);if(!p(e))return!1;var n=c(e);return!0===n?l(t).delete(e):n&&m(n,t.id)&&delete n[t.id]},has:function(e){var t=a(this);if(!p(e))return!1;var n=c(e);return!0===n?l(t).has(e):n&&m(n,t.id)}}),u(s.prototype,r?{get:function(e){var t=a(this);if(p(e)){var n=c(e);return!0===n?l(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return i(this,e,t)}}:{add:function(e){return i(this,e,!0)}}),s}}},{"../internals/an-instance":224,"../internals/an-object":225,"../internals/array-iteration":229,"../internals/has":277,"../internals/internal-metadata":284,"../internals/internal-state":285,"../internals/is-object":290,"../internals/iterate":293,"../internals/redefine-all":325}],244:[function(e,t,n){"use strict";var d=e("./export"),p=e("../internals/global"),h=e("../internals/internal-metadata"),f=e("../internals/fails"),m=e("../internals/create-non-enumerable-property"),b=e("../internals/iterate"),g=e("../internals/an-instance"),v=e("../internals/is-object"),y=e("../internals/set-to-string-tag"),w=e("../internals/object-define-property").f,x=e("../internals/array-iteration").forEach,j=e("../internals/descriptors"),C=(e=e("../internals/internal-state")).set,E=e.getterFor;t.exports=function(n,e,t){var i,s,r=-1!==n.indexOf("Map"),a=-1!==n.indexOf("Weak"),o=r?"set":"add",l=p[n],u=l&&l.prototype,c={};return j&&"function"==typeof l&&(a||u.forEach&&!f(function(){(new l).entries().next()}))?(i=e(function(e,t){C(g(e,i,n),{type:n,collection:new l}),null!=t&&b(t,e[o],{that:e,AS_ENTRIES:r})}),s=E(n),x(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(r){var o="add"==r||"set"==r;r in u&&(!a||"clear"!=r)&&m(i.prototype,r,function(e,t){var n=s(this).collection;return o||!a||v(e)?(t=n[r](0===e?0:e,t),o?this:t):"get"==r&&void 0})}),a||w(i.prototype,"size",{configurable:!0,get:function(){return s(this).collection.size}})):(i=t.getConstructor(e,n,r,o),h.REQUIRED=!0),y(i,n,!1,!0),c[n]=i,d({global:!0,forced:!0},c),a||t.setStrong(i,n,r),i}},{"../internals/an-instance":224,"../internals/array-iteration":229,"../internals/create-non-enumerable-property":248,"../internals/descriptors":253,"../internals/fails":268,"../internals/global":276,"../internals/internal-metadata":284,"../internals/internal-state":285,"../internals/is-object":290,"../internals/iterate":293,"../internals/object-define-property":309,"../internals/set-to-string-tag":331,"./export":267}],245:[function(e,t,n){var r=e("../internals/well-known-symbol")("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,"/./"[t](n)}catch(e){}}return!1}},{"../internals/well-known-symbol":349}],246:[function(e,t,n){e=e("../internals/fails"),t.exports=!e(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},{"../internals/fails":268}],247:[function(e,t,n){"use strict";function r(){return this}var o=e("../internals/iterators-core").IteratorPrototype,i=e("../internals/object-create"),s=e("../internals/create-property-descriptor"),a=e("../internals/set-to-string-tag"),l=e("../internals/iterators");t.exports=function(e,t,n){return t+=" Iterator",e.prototype=i(o,{next:s(1,n)}),a(e,t,!1,!0),l[t]=r,e}},{"../internals/create-property-descriptor":249,"../internals/iterators":296,"../internals/iterators-core":295,"../internals/object-create":307,"../internals/set-to-string-tag":331}],248:[function(e,t,n){var r=e("../internals/descriptors"),o=e("../internals/object-define-property"),i=e("../internals/create-property-descriptor");t.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},{"../internals/create-property-descriptor":249,"../internals/descriptors":253,"../internals/object-define-property":309}],249:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],250:[function(e,t,n){"use strict";var r=e("../internals/to-primitive"),o=e("../internals/object-define-property"),i=e("../internals/create-property-descriptor");t.exports=function(e,t,n){(t=r(t))in e?o.f(e,t,i(0,n)):e[t]=n}},{"../internals/create-property-descriptor":249,"../internals/object-define-property":309,"../internals/to-primitive":344}],251:[function(e,t,n){"use strict";function m(){return this}var b=e("../internals/export"),g=e("../internals/create-iterator-constructor"),v=e("../internals/object-get-prototype-of"),y=e("../internals/object-set-prototype-of"),w=e("../internals/set-to-string-tag"),x=e("../internals/create-non-enumerable-property"),j=e("../internals/redefine"),r=e("../internals/well-known-symbol"),C=e("../internals/is-pure"),E=e("../internals/iterators"),_=(e=e("../internals/iterators-core")).IteratorPrototype,R=e.BUGGY_SAFARI_ITERATORS,k=r("iterator"),S="values";t.exports=function(e,t,n,r,o,i,s){function a(e){if(e===o&&f)return f;if(!R&&e in p)return p[e];switch(e){case"keys":case S:case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}}g(n,t,r);var l,u,c=t+" Iterator",d=!1,p=e.prototype,h=p[k]||p["@@iterator"]||o&&p[o],f=!R&&h||a(o);if((r="Array"==t&&p.entries||h)&&(e=v(r.call(new e)),_!==Object.prototype&&e.next&&(C||v(e)===_||(y?y(e,_):"function"!=typeof e[k]&&x(e,k,m)),w(e,c,!0,!0),C&&(E[c]=m))),o==S&&h&&h.name!==S&&(d=!0,f=function(){return h.call(this)}),C&&!s||p[k]===f||x(p,k,f),E[t]=f,o)if(l={values:a(S),keys:i?f:a("keys"),entries:a("entries")},s)for(u in l)!R&&!d&&u in p||j(p,u,l[u]);else b({target:t,proto:!0,forced:R||d},l);return l}},{"../internals/create-iterator-constructor":247,"../internals/create-non-enumerable-property":248,"../internals/export":267,"../internals/is-pure":291,"../internals/iterators":296,"../internals/iterators-core":295,"../internals/object-get-prototype-of":314,"../internals/object-set-prototype-of":318,"../internals/redefine":326,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":349}],252:[function(e,t,n){var r=e("../internals/path"),o=e("../internals/has"),i=e("../internals/well-known-symbol-wrapped"),s=e("../internals/object-define-property").f;t.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||s(t,e,{value:i.f(e)})}},{"../internals/has":277,"../internals/object-define-property":309,"../internals/path":322,"../internals/well-known-symbol-wrapped":348}],253:[function(e,t,n){e=e("../internals/fails"),t.exports=!e(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":268}],254:[function(e,t,n){var r=e("../internals/global"),e=e("../internals/is-object"),o=r.document,i=e(o)&&e(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"../internals/global":276,"../internals/is-object":290}],255:[function(e,t,n){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],256:[function(e,t,n){e=e("../internals/engine-user-agent").match(/firefox\/(\d+)/i),t.exports=!!e&&+e[1]},{"../internals/engine-user-agent":262}],257:[function(e,t,n){t.exports="object"==typeof window},{}],258:[function(e,t,n){e=e("../internals/engine-user-agent"),t.exports=/MSIE|Trident/.test(e)},{"../internals/engine-user-agent":262}],259:[function(e,t,n){e=e("../internals/engine-user-agent"),t.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(e)},{"../internals/engine-user-agent":262}],260:[function(e,t,n){var r=e("../internals/classof-raw"),e=e("../internals/global");t.exports="process"==r(e.process)},{"../internals/classof-raw":237,"../internals/global":276}],261:[function(e,t,n){e=e("../internals/engine-user-agent"),t.exports=/web0s(?!.*chrome)/i.test(e)},{"../internals/engine-user-agent":262}],262:[function(e,t,n){e=e("../internals/get-built-in"),t.exports=e("navigator","userAgent")||""},{"../internals/get-built-in":272}],263:[function(e,t,n){var r,o,i=e("../internals/global"),e=e("../internals/engine-user-agent");(i=(i=(i=i.process)&&i.versions)&&i.v8)?o=(r=i.split("."))[0]<4?1:r[0]+r[1]:e&&(!(r=e.match(/Edge\/(\d+)/))||74<=r[1])&&(r=e.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},{"../internals/engine-user-agent":262,"../internals/global":276}],264:[function(e,t,n){e=e("../internals/engine-user-agent").match(/AppleWebKit\/(\d+)\./),t.exports=!!e&&+e[1]},{"../internals/engine-user-agent":262}],265:[function(e,t,n){var r=e("../internals/path");t.exports=function(e){return r[e+"Prototype"]}},{"../internals/path":322}],266:[function(e,t,n){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],267:[function(e,t,n){"use strict";var f=e("../internals/global"),m=e("../internals/object-get-own-property-descriptor").f,b=e("../internals/is-forced"),g=e("../internals/path"),v=e("../internals/function-bind-context"),y=e("../internals/create-non-enumerable-property"),w=e("../internals/has");t.exports=function(e,t){var n,r,o,i,s,a=e.target,l=e.global,u=e.stat,c=e.proto,d=l?f:u?f[a]:(f[a]||{}).prototype,p=l?g:g[a]||(g[a]={}),h=p.prototype;for(n in t)i=!b(l?n:a+(u?".":"#")+n,e.forced)&&d&&w(d,n),r=p[n],i&&(o=e.noTargetGet?(s=m(d,n))&&s.value:d[n]),s=i&&o?o:t[n],i&&typeof r==typeof s||(i=e.bind&&i?v(s,f):e.wrap&&i?function(r){function e(e,t,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,t)}return new r(e,t,n)}return r.apply(this,arguments)}return e.prototype=r.prototype,e}(s):c&&"function"==typeof s?v(Function.call,s):s,(e.sham||s&&s.sham||r&&r.sham)&&y(i,"sham",!0),p[n]=i,c&&(w(g,i=a+"Prototype")||y(g,i,{}),g[i][n]=s,e.real&&h&&!h[n]&&y(h,n,s)))}},{"../internals/create-non-enumerable-property":248,"../internals/function-bind-context":270,"../internals/global":276,"../internals/has":277,"../internals/is-forced":288,"../internals/object-get-own-property-descriptor":310,"../internals/path":322}],268:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],269:[function(e,t,n){e=e("../internals/fails"),t.exports=!e(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":268}],270:[function(e,t,n){var i=e("../internals/a-function");t.exports=function(r,o,e){if(i(r),void 0===o)return r;switch(e){case 0:return function(){return r.call(o)};case 1:return function(e){return r.call(o,e)};case 2:return function(e,t){return r.call(o,e,t)};case 3:return function(e,t,n){return r.call(o,e,t,n)}}return function(){return r.apply(o,arguments)}}},{"../internals/a-function":221}],271:[function(e,t,n){"use strict";var i=e("../internals/a-function"),s=e("../internals/is-object"),a=[].slice,l={};t.exports=Function.bind||function(t){var n=i(this),r=a.call(arguments,1),o=function(){var e=r.concat(a.call(arguments));return this instanceof o?function(e,t,n){if(!(t in l)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";l[t]=Function("C,a","return new C("+r.join(",")+")")}return l[t](e,n)}(n,e.length,e):n.apply(t,e)};return s(n.prototype)&&(o.prototype=n.prototype),o}},{"../internals/a-function":221,"../internals/is-object":290}],272:[function(e,t,n){function r(e){return"function"==typeof e?e:void 0}var o=e("../internals/path"),i=e("../internals/global");t.exports=function(e,t){return arguments.length<2?r(o[e])||r(i[e]):o[e]&&o[e][t]||i[e]&&i[e][t]}},{"../internals/global":276,"../internals/path":322}],273:[function(e,t,n){var r=e("../internals/classof"),o=e("../internals/iterators"),i=e("../internals/well-known-symbol")("iterator");t.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},{"../internals/classof":238,"../internals/iterators":296,"../internals/well-known-symbol":349}],274:[function(e,t,n){var r=e("../internals/an-object"),o=e("../internals/get-iterator-method");t.exports=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},{"../internals/an-object":225,"../internals/get-iterator-method":273}],275:[function(e,t,n){var r=e("../internals/is-pure"),e=e("../internals/get-iterator");t.exports=r?e:function(e){return Map.prototype.entries.call(e)}},{"../internals/get-iterator":274,"../internals/is-pure":291}],276:[function(e,n,t){!function(t){!function(){function e(e){return e&&e.Math==Math&&e}n.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof t&&t)||function(){return this}()||Function("return this")()}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],277:[function(e,t,n){var r=e("../internals/to-object"),o={}.hasOwnProperty;t.exports=Object.hasOwn||function(e,t){return o.call(r(e),t)}},{"../internals/to-object":343}],278:[function(e,t,n){t.exports={}},{}],279:[function(e,t,n){var r=e("../internals/global");t.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},{"../internals/global":276}],280:[function(e,t,n){e=e("../internals/get-built-in"),t.exports=e("document","documentElement")},{"../internals/get-built-in":272}],281:[function(e,t,n){var r=e("../internals/descriptors"),o=e("../internals/fails"),i=e("../internals/document-create-element");t.exports=!r&&!o(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":253,"../internals/document-create-element":254,"../internals/fails":268}],282:[function(e,t,n){var r=e("../internals/fails"),o=e("../internals/classof-raw"),i="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},{"../internals/classof-raw":237,"../internals/fails":268}],283:[function(e,t,n){var e=e("../internals/shared-store"),r=Function.toString;"function"!=typeof e.inspectSource&&(e.inspectSource=function(e){return r.call(e)}),t.exports=e.inspectSource},{"../internals/shared-store":333}],284:[function(e,t,n){function r(e){a(e,c,{value:{objectID:"O"+d++,weakData:{}}})}var o=e("../internals/hidden-keys"),i=e("../internals/is-object"),s=e("../internals/has"),a=e("../internals/object-define-property").f,l=e("../internals/uid"),u=e("../internals/freezing"),c=l("meta"),d=0,p=Object.isExtensible||function(){return!0},h=t.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,c)){if(!p(e))return"F";if(!t)return"E";r(e)}return e[c].objectID},getWeakData:function(e,t){if(!s(e,c)){if(!p(e))return!0;if(!t)return!1;r(e)}return e[c].weakData},onFreeze:function(e){return u&&h.REQUIRED&&p(e)&&!s(e,c)&&r(e),e}};o[c]=!0},{"../internals/freezing":269,"../internals/has":277,"../internals/hidden-keys":278,"../internals/is-object":290,"../internals/object-define-property":309,"../internals/uid":346}],285:[function(e,t,n){var r,o,i,s,a,l,u,c=e("../internals/native-weak-map"),d=e("../internals/global"),p=e("../internals/is-object"),h=e("../internals/create-non-enumerable-property"),f=e("../internals/has"),m=e("../internals/shared-store"),b=e("../internals/shared-key"),e=e("../internals/hidden-keys"),g="Object already initialized",d=d.WeakMap,v=c||m.state?(r=m.state||(m.state=new d),o=r.get,i=r.has,s=r.set,a=function(e,t){if(i.call(r,e))throw new TypeError(g);return t.facade=e,s.call(r,e,t),t},l=function(e){return o.call(r,e)||{}},function(e){return i.call(r,e)}):(e[u=b("state")]=!0,a=function(e,t){if(f(e,u))throw new TypeError(g);return t.facade=e,h(e,u,t),t},l=function(e){return f(e,u)?e[u]:{}},function(e){return f(e,u)});t.exports={set:a,get:l,has:v,enforce:function(e){return v(e)?l(e):a(e,{})},getterFor:function(n){return function(e){var t;if(!p(e)||(t=l(e)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return t}}}},{"../internals/create-non-enumerable-property":248,"../internals/global":276,"../internals/has":277,"../internals/hidden-keys":278,"../internals/is-object":290,"../internals/native-weak-map":302,"../internals/shared-key":332,"../internals/shared-store":333}],286:[function(e,t,n){var r=e("../internals/well-known-symbol"),o=e("../internals/iterators"),i=r("iterator"),s=Array.prototype;t.exports=function(e){return void 0!==e&&(o.Array===e||s[i]===e)}},{"../internals/iterators":296,"../internals/well-known-symbol":349}],287:[function(e,t,n){var r=e("../internals/classof-raw");t.exports=Array.isArray||function(e){return"Array"==r(e)}},{"../internals/classof-raw":237}],288:[function(e,t,n){var r=e("../internals/fails"),o=/#|\.prototype\./,i=(e=function(e,t){return(e=s[i(e)])==l||e!=a&&("function"==typeof t?r(t):!!t)}).normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=e.data={},a=e.NATIVE="N",l=e.POLYFILL="P";t.exports=e},{"../internals/fails":268}],289:[function(e,t,n){var r=e("../internals/is-object"),o=Math.floor;t.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},{"../internals/is-object":290}],290:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],291:[function(e,t,n){t.exports=!0},{}],292:[function(e,t,n){var r=e("../internals/is-object"),o=e("../internals/classof-raw"),i=e("../internals/well-known-symbol")("match");t.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},{"../internals/classof-raw":237,"../internals/is-object":290,"../internals/well-known-symbol":349}],293:[function(e,t,n){function b(e,t){this.stopped=e,this.result=t}var g=e("../internals/an-object"),v=e("../internals/is-array-iterator-method"),y=e("../internals/to-length"),w=e("../internals/function-bind-context"),x=e("../internals/get-iterator-method"),j=e("../internals/iterator-close");t.exports=function(e,t,n){function r(e){return i&&j(i),new b(!0,e)}function o(e){return p?(g(e),f?m(e[0],e[1],r):m(e[0],e[1])):f?m(e,r):m(e)}var i,s,a,l,u,c,d=n&&n.that,p=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_ITERATOR),f=!(!n||!n.INTERRUPTED),m=w(t,d,1+p+f);if(h)i=e;else{if("function"!=typeof(h=x(e)))throw TypeError("Target is not iterable");if(v(h)){for(s=0,a=y(e.length);s<a;s++)if((l=o(e[s]))&&l instanceof b)return l;return new b(!1)}i=h.call(e)}for(u=i.next;!(c=u.call(i)).done;){try{l=o(c.value)}catch(e){throw j(i),e}if("object"==typeof l&&l&&l instanceof b)return l}return new b(!1)}},{"../internals/an-object":225,"../internals/function-bind-context":270,"../internals/get-iterator-method":273,"../internals/is-array-iterator-method":286,"../internals/iterator-close":294,"../internals/to-length":342}],294:[function(e,t,n){var r=e("../internals/an-object");t.exports=function(e){var t=e.return;if(void 0!==t)return r(t.call(e)).value}},{"../internals/an-object":225}],295:[function(e,t,n){"use strict";var r,o=e("../internals/fails"),i=e("../internals/object-get-prototype-of"),s=e("../internals/create-non-enumerable-property"),a=e("../internals/has"),l=e("../internals/well-known-symbol"),u=e("../internals/is-pure"),c=l("iterator"),e=!1;[].keys&&("next"in(l=[].keys())?(l=i(i(l)))!==Object.prototype&&(r=l):e=!0),(o=null==r||o(function(){var e={};return r[c].call(e)!==e}))&&(r={}),u&&!o||a(r,c)||s(r,c,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:e}},{"../internals/create-non-enumerable-property":248,"../internals/fails":268,"../internals/has":277,"../internals/is-pure":291,"../internals/object-get-prototype-of":314,"../internals/well-known-symbol":349}],296:[function(e,t,n){arguments[4][278][0].apply(n,arguments)},{dup:278}],297:[function(e,t,n){"use strict";var r=e("../internals/an-object");t.exports=function(e,t){var n=r(this),t=n.has(e)&&"update"in t?t.update(n.get(e),e,n):t.insert(e,n);return n.set(e,t),t}},{"../internals/an-object":225}],298:[function(e,t,n){"use strict";var i=e("../internals/an-object");t.exports=function(e,t){var n,r=i(this),o=2<arguments.length?arguments[2]:void 0;if("function"!=typeof t&&"function"!=typeof o)throw TypeError("At least one callback required");return r.has(e)?(n=r.get(e),"function"==typeof t&&(n=t(n),r.set(e,n))):"function"==typeof o&&(n=o(),r.set(e,n)),n}},{"../internals/an-object":225}],299:[function(e,t,n){var r,o,i,s,a,l,u,c,d=e("../internals/global"),p=e("../internals/object-get-own-property-descriptor").f,h=e("../internals/task").set,f=e("../internals/engine-is-ios"),m=e("../internals/engine-is-webos-webkit"),b=e("../internals/engine-is-node"),g=d.MutationObserver||d.WebKitMutationObserver,v=d.document,y=d.process,e=d.Promise;(p=(p=p(d,"queueMicrotask"))&&p.value)||(r=function(){var e,t;for(b&&(e=y.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?s():i=void 0,e}}i=void 0,e&&e.enter()},s=f||b||m||!g||!v?e&&e.resolve?((u=e.resolve(void 0)).constructor=e,c=u.then,function(){c.call(u,r)}):b?function(){y.nextTick(r)}:function(){h.call(d,r)}:(a=!0,l=v.createTextNode(""),new g(r).observe(l,{characterData:!0}),function(){l.data=a=!a})),t.exports=p||function(e){e={fn:e,next:void 0},i&&(i.next=e),o||(o=e,s()),i=e}},{"../internals/engine-is-ios":259,"../internals/engine-is-node":260,"../internals/engine-is-webos-webkit":261,"../internals/global":276,"../internals/object-get-own-property-descriptor":310,"../internals/task":338}],300:[function(e,t,n){e=e("../internals/global"),t.exports=e.Promise},{"../internals/global":276}],301:[function(e,t,n){var r=e("../internals/engine-v8-version"),e=e("../internals/fails");t.exports=!!Object.getOwnPropertySymbols&&!e(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41})},{"../internals/engine-v8-version":263,"../internals/fails":268}],302:[function(e,t,n){var r=e("../internals/global"),e=e("../internals/inspect-source"),r=r.WeakMap;t.exports="function"==typeof r&&/native code/.test(e(r))},{"../internals/global":276,"../internals/inspect-source":283}],303:[function(e,t,n){"use strict";function r(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=o(n),this.reject=o(r)}var o=e("../internals/a-function");t.exports.f=function(e){return new r(e)}},{"../internals/a-function":221}],304:[function(e,t,n){var r=e("../internals/is-regexp");t.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},{"../internals/is-regexp":292}],305:[function(e,t,n){var r=e("../internals/global"),o=e("../internals/string-trim").trim,e=e("../internals/whitespaces"),i=r.parseInt,s=/^[+-]?0[Xx]/,e=8!==i(e+"08")||22!==i(e+"0x16");t.exports=e?function(e,t){return e=o(String(e)),i(e,t>>>0||(s.test(e)?16:10))}:i},{"../internals/global":276,"../internals/string-trim":337,"../internals/whitespaces":350}],306:[function(e,t,n){"use strict";var p=e("../internals/descriptors"),r=e("../internals/fails"),h=e("../internals/object-keys"),f=e("../internals/object-get-own-property-symbols"),m=e("../internals/object-property-is-enumerable"),b=e("../internals/to-object"),g=e("../internals/indexed-object"),o=Object.assign,i=Object.defineProperty;t.exports=!o||r(function(){if(p&&1!==o({b:1},o(i({},"a",{enumerable:!0,get:function(){i(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=o({},e)[n]||h(o({},t)).join("")!=r})?function(e,t){for(var n=b(e),r=arguments.length,o=1,i=f.f,s=m.f;o<r;)for(var a,l=g(arguments[o++]),u=i?h(l).concat(i(l)):h(l),c=u.length,d=0;d<c;)a=u[d++],p&&!s.call(l,a)||(n[a]=l[a]);return n}:o},{"../internals/descriptors":253,"../internals/fails":268,"../internals/indexed-object":282,"../internals/object-get-own-property-symbols":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":343}],307:[function(e,t,n){function r(){}function o(e){return"<script>"+e+"</"+h+">"}var i,s=e("../internals/an-object"),a=e("../internals/object-define-properties"),l=e("../internals/enum-bug-keys"),u=e("../internals/hidden-keys"),c=e("../internals/html"),d=e("../internals/document-create-element"),e=e("../internals/shared-key"),p="prototype",h="script",f=e("IE_PROTO"),m=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e;m=i?function(e){e.write(o("")),e.close();var t=e.parentWindow.Object;return e=null,t}(i):((e=d("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(e=e.contentWindow.document).open(),e.write(o("document.F=Object")),e.close(),e.F);for(var t=l.length;t--;)delete m[p][l[t]];return m()};u[f]=!0,t.exports=Object.create||function(e,t){var n;return null!==e?(r[p]=s(e),n=new r,r[p]=null,n[f]=e):n=m(),void 0===t?n:a(n,t)}},{"../internals/an-object":225,"../internals/document-create-element":254,"../internals/enum-bug-keys":266,"../internals/hidden-keys":278,"../internals/html":280,"../internals/object-define-properties":308,"../internals/shared-key":332}],308:[function(e,t,n){var r=e("../internals/descriptors"),s=e("../internals/object-define-property"),a=e("../internals/an-object"),l=e("../internals/object-keys");t.exports=r?Object.defineProperties:function(e,t){a(e);for(var n,r=l(t),o=r.length,i=0;i<o;)s.f(e,n=r[i++],t[n]);return e}},{"../internals/an-object":225,"../internals/descriptors":253,"../internals/object-define-property":309,"../internals/object-keys":316}],309:[function(e,t,n){var r=e("../internals/descriptors"),o=e("../internals/ie8-dom-define"),i=e("../internals/an-object"),s=e("../internals/to-primitive"),a=Object.defineProperty;n.f=r?a:function(e,t,n){if(i(e),t=s(t,!0),i(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},{"../internals/an-object":225,"../internals/descriptors":253,"../internals/ie8-dom-define":281,"../internals/to-primitive":344}],310:[function(e,t,n){var r=e("../internals/descriptors"),o=e("../internals/object-property-is-enumerable"),i=e("../internals/create-property-descriptor"),s=e("../internals/to-indexed-object"),a=e("../internals/to-primitive"),l=e("../internals/has"),u=e("../internals/ie8-dom-define"),c=Object.getOwnPropertyDescriptor;n.f=r?c:function(e,t){if(e=s(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(l(e,t))return i(!o.f.call(e,t),e[t])}},{"../internals/create-property-descriptor":249,"../internals/descriptors":253,"../internals/has":277,"../internals/ie8-dom-define":281,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":340,"../internals/to-primitive":344}],311:[function(e,t,n){var r=e("../internals/to-indexed-object"),o=e("../internals/object-get-own-property-names").f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return s&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return s.slice()}}(e):o(r(e))}},{"../internals/object-get-own-property-names":312,"../internals/to-indexed-object":340}],312:[function(e,t,n){var r=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},{"../internals/enum-bug-keys":266,"../internals/object-keys-internal":315}],313:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],314:[function(e,t,n){var r=e("../internals/has"),o=e("../internals/to-object"),i=e("../internals/shared-key"),e=e("../internals/correct-prototype-getter"),s=i("IE_PROTO"),a=Object.prototype;t.exports=e?Object.getPrototypeOf:function(e){return e=o(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{"../internals/correct-prototype-getter":246,"../internals/has":277,"../internals/shared-key":332,"../internals/to-object":343}],315:[function(e,t,n){var s=e("../internals/has"),a=e("../internals/to-indexed-object"),l=e("../internals/array-includes").indexOf,u=e("../internals/hidden-keys");t.exports=function(e,t){var n,r=a(e),o=0,i=[];for(n in r)!s(u,n)&&s(r,n)&&i.push(n);for(;t.length>o;)s(r,n=t[o++])&&(~l(i,n)||i.push(n));return i}},{"../internals/array-includes":228,"../internals/has":277,"../internals/hidden-keys":278,"../internals/to-indexed-object":340}],316:[function(e,t,n){var r=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys");t.exports=Object.keys||function(e){return r(e,o)}},{"../internals/enum-bug-keys":266,"../internals/object-keys-internal":315}],317:[function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);n.f=i?function(e){return!!(e=o(this,e))&&e.enumerable}:r},{}],318:[function(e,t,n){var o=e("../internals/an-object"),i=e("../internals/a-possible-prototype");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,e={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),r=e instanceof Array}catch(e){}return function(e,t){return o(e),i(t),r?n.call(e,t):e.__proto__=t,e}}():void 0)},{"../internals/a-possible-prototype":222,"../internals/an-object":225}],319:[function(e,t,n){var l=e("../internals/descriptors"),u=e("../internals/object-keys"),c=e("../internals/to-indexed-object"),d=e("../internals/object-property-is-enumerable").f,e=function(a){return function(e){for(var t,n=c(e),r=u(n),o=r.length,i=0,s=[];i<o;)t=r[i++],l&&!d.call(n,t)||s.push(a?[t,n[t]]:n[t]);return s}};t.exports={entries:e(!0),values:e(!1)}},{"../internals/descriptors":253,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":340}],320:[function(e,t,n){"use strict";var r=e("../internals/to-string-tag-support"),o=e("../internals/classof");t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},{"../internals/classof":238,"../internals/to-string-tag-support":345}],321:[function(e,t,n){var r=e("../internals/get-built-in"),o=e("../internals/object-get-own-property-names"),i=e("../internals/object-get-own-property-symbols"),s=e("../internals/an-object");t.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=i.f;return n?t.concat(n(e)):t}},{"../internals/an-object":225,"../internals/get-built-in":272,"../internals/object-get-own-property-names":312,"../internals/object-get-own-property-symbols":313}],322:[function(e,t,n){arguments[4][278][0].apply(n,arguments)},{dup:278}],323:[function(e,t,n){t.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},{}],324:[function(e,t,n){var r=e("../internals/an-object"),o=e("../internals/is-object"),i=e("../internals/new-promise-capability");t.exports=function(e,t){return r(e),o(t)&&t.constructor===e?t:((0,(e=i.f(e)).resolve)(t),e.promise)}},{"../internals/an-object":225,"../internals/is-object":290,"../internals/new-promise-capability":303}],325:[function(e,t,n){var o=e("../internals/redefine");t.exports=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:o(e,r,t[r],n);return e}},{"../internals/redefine":326}],326:[function(e,t,n){var o=e("../internals/create-non-enumerable-property");t.exports=function(e,t,n,r){r&&r.enumerable?e[t]=n:o(e,t,n)}},{"../internals/create-non-enumerable-property":248}],327:[function(e,t,n){t.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},{}],328:[function(e,t,n){t.exports=function(e,t){return e===t||e!=e&&t!=t}},{}],329:[function(e,t,n){var r=e("../internals/global"),o=e("../internals/create-non-enumerable-property");t.exports=function(t,n){try{o(r,t,n)}catch(e){r[t]=n}return n}},{"../internals/create-non-enumerable-property":248,"../internals/global":276}],330:[function(e,t,n){"use strict";var r=e("../internals/get-built-in"),o=e("../internals/object-define-property"),i=e("../internals/well-known-symbol"),s=e("../internals/descriptors"),a=i("species");t.exports=function(e){var t=r(e),e=o.f;s&&t&&!t[a]&&e(t,a,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":253,"../internals/get-built-in":272,"../internals/object-define-property":309,"../internals/well-known-symbol":349}],331:[function(e,t,n){var o=e("../internals/to-string-tag-support"),i=e("../internals/object-define-property").f,s=e("../internals/create-non-enumerable-property"),a=e("../internals/has"),l=e("../internals/object-to-string"),u=e("../internals/well-known-symbol")("toStringTag");t.exports=function(e,t,n,r){e&&(e=n?e:e.prototype,a(e,u)||i(e,u,{configurable:!0,value:t}),r&&!o&&s(e,"toString",l))}},{"../internals/create-non-enumerable-property":248,"../internals/has":277,"../internals/object-define-property":309,"../internals/object-to-string":320,"../internals/to-string-tag-support":345,"../internals/well-known-symbol":349}],332:[function(e,t,n){var r=e("../internals/shared"),o=e("../internals/uid"),i=r("keys");t.exports=function(e){return i[e]||(i[e]=o(e))}},{"../internals/shared":334,"../internals/uid":346}],333:[function(e,t,n){var r=e("../internals/global"),o=e("../internals/set-global"),e=r[e="__core-js_shared__"]||o(e,{});t.exports=e},{"../internals/global":276,"../internals/set-global":329}],334:[function(e,t,n){var r=e("../internals/is-pure"),o=e("../internals/shared-store");(t.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.15.2",mode:r?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":291,"../internals/shared-store":333}],335:[function(e,t,n){var r=e("../internals/an-object"),o=e("../internals/a-function"),i=e("../internals/well-known-symbol")("species");t.exports=function(e,t){var n;return void 0===(e=r(e).constructor)||null==(n=r(e)[i])?t:o(n)}},{"../internals/a-function":221,"../internals/an-object":225,"../internals/well-known-symbol":349}],336:[function(e,t,n){var s=e("../internals/to-integer"),a=e("../internals/require-object-coercible"),e=function(i){return function(e,t){var n,r=String(a(e)),o=s(t),e=r.length;return o<0||e<=o?i?"":void 0:(t=r.charCodeAt(o))<55296||56319<t||o+1===e||(n=r.charCodeAt(o+1))<56320||57343<n?i?r.charAt(o):t:i?r.slice(o,o+2):n-56320+(t-55296<<10)+65536}};t.exports={codeAt:e(!1),charAt:e(!0)}},{"../internals/require-object-coercible":327,"../internals/to-integer":341}],337:[function(e,t,n){var r=e("../internals/require-object-coercible"),e="["+e("../internals/whitespaces")+"]",o=RegExp("^"+e+e+"*"),i=RegExp(e+e+"*$"),e=function(t){return function(e){return e=String(r(e)),1&t&&(e=e.replace(o,"")),2&t?e.replace(i,""):e}};t.exports={start:e(1),end:e(2),trim:e(3)}},{"../internals/require-object-coercible":327,"../internals/whitespaces":350}],338:[function(e,t,n){function r(e){var t;x.hasOwnProperty(e)&&(t=x[e],delete x[e],t())}function o(e){return function(){r(e)}}function i(e){r(e.data)}var s,a=e("../internals/global"),l=e("../internals/fails"),u=e("../internals/function-bind-context"),c=e("../internals/html"),d=e("../internals/document-create-element"),p=e("../internals/engine-is-ios"),h=e("../internals/engine-is-node"),f=a.location,m=a.setImmediate,b=a.clearImmediate,g=a.process,v=a.MessageChannel,y=a.Dispatch,w=0,x={},j="onreadystatechange",e=function(e){a.postMessage(e+"",f.protocol+"//"+f.host)};m&&b||(m=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return x[++w]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},s(w),w},b=function(e){delete x[e]},h?s=function(e){g.nextTick(o(e))}:y&&y.now?s=function(e){y.now(o(e))}:v&&!p?(v=(p=new v).port2,p.port1.onmessage=i,s=u(v.postMessage,v,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&f&&"file:"!==f.protocol&&!l(e)?(s=e,a.addEventListener("message",i,!1)):s=j in d("script")?function(e){c.appendChild(d("script"))[j]=function(){c.removeChild(this),r(e)}}:function(e){setTimeout(o(e),0)}),t.exports={set:m,clear:b}},{"../internals/document-create-element":254,"../internals/engine-is-ios":259,"../internals/engine-is-node":260,"../internals/fails":268,"../internals/function-bind-context":270,"../internals/global":276,"../internals/html":280}],339:[function(e,t,n){var r=e("../internals/to-integer"),o=Math.max,i=Math.min;t.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},{"../internals/to-integer":341}],340:[function(e,t,n){var r=e("../internals/indexed-object"),o=e("../internals/require-object-coercible");t.exports=function(e){return r(o(e))}},{"../internals/indexed-object":282,"../internals/require-object-coercible":327}],341:[function(e,t,n){var r=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(0<e?o:r)(e)}},{}],342:[function(e,t,n){var r=e("../internals/to-integer"),o=Math.min;t.exports=function(e){return 0<e?o(r(e),9007199254740991):0}},{"../internals/to-integer":341}],343:[function(e,t,n){var r=e("../internals/require-object-coercible");t.exports=function(e){return Object(r(e))}},{"../internals/require-object-coercible":327}],344:[function(e,t,n){var o=e("../internals/is-object");t.exports=function(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!o(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":290}],345:[function(e,t,n){var r={};r[e("../internals/well-known-symbol")("toStringTag")]="z",t.exports="[object z]"===String(r)},{"../internals/well-known-symbol":349}],346:[function(e,t,n){var r=0,o=Math.random();t.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+o).toString(36)}},{}],347:[function(e,t,n){e=e("../internals/native-symbol"),t.exports=e&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":301}],348:[function(e,t,n){e=e("../internals/well-known-symbol"),n.f=e},{"../internals/well-known-symbol":349}],349:[function(e,t,n){var r=e("../internals/global"),o=e("../internals/shared"),i=e("../internals/has"),s=e("../internals/uid"),a=e("../internals/native-symbol"),e=e("../internals/use-symbol-as-uid"),l=o("wks"),u=r.Symbol,c=e?u:u&&u.withoutSetter||s;t.exports=function(e){return i(l,e)&&(a||"string"==typeof l[e])||(a&&i(u,e)?l[e]=u[e]:l[e]=c("Symbol."+e)),l[e]}},{"../internals/global":276,"../internals/has":277,"../internals/native-symbol":301,"../internals/shared":334,"../internals/uid":346,"../internals/use-symbol-as-uid":347}],350:[function(e,t,n){t.exports="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff"},{}],351:[function(e,t,n){"use strict";function r(e,t){var n=this;return n instanceof r?(s&&(n=s(new Error(void 0),i(n))),void 0!==t&&l(n,"message",String(t)),c(e,(t=[]).push,{that:t}),l(n,"errors",t),n):new r(e,t)}var o=e("../internals/export"),i=e("../internals/object-get-prototype-of"),s=e("../internals/object-set-prototype-of"),a=e("../internals/object-create"),l=e("../internals/create-non-enumerable-property"),u=e("../internals/create-property-descriptor"),c=e("../internals/iterate");r.prototype=a(Error.prototype,{constructor:u(5,r),message:u(5,""),name:u(5,"AggregateError")}),o({global:!0},{AggregateError:r})},{"../internals/create-non-enumerable-property":248,"../internals/create-property-descriptor":249,"../internals/export":267,"../internals/iterate":293,"../internals/object-create":307,"../internals/object-get-prototype-of":314,"../internals/object-set-prototype-of":318}],352:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/fails"),u=e("../internals/is-array"),c=e("../internals/is-object"),d=e("../internals/to-object"),p=e("../internals/to-length"),h=e("../internals/create-property"),f=e("../internals/array-species-create"),i=e("../internals/array-method-has-species-support"),s=e("../internals/well-known-symbol"),e=e("../internals/engine-v8-version"),m=s("isConcatSpreadable"),b=9007199254740991,g="Maximum allowed index exceeded",o=51<=e||!o(function(){var e=[];return e[m]=!1,e.concat()[0]!==e}),i=i("concat");r({target:"Array",proto:!0,forced:!o||!i},{concat:function(e){for(var t,n,r,o=d(this),i=f(o,0),s=0,a=-1,l=arguments.length;a<l;a++)if(function(e){if(c(e)){var t=e[m];return void 0!==t?t:u(e)}}(r=-1===a?o:arguments[a])){if(n=p(r.length),b<s+n)throw TypeError(g);for(t=0;t<n;t++,s++)t in r&&h(i,s,r[t])}else{if(b<=s)throw TypeError(g);h(i,s++,r)}return i.length=s,i}})},{"../internals/array-method-has-species-support":230,"../internals/array-species-create":234,"../internals/create-property":250,"../internals/engine-v8-version":263,"../internals/export":267,"../internals/fails":268,"../internals/is-array":287,"../internals/is-object":290,"../internals/to-length":342,"../internals/to-object":343,"../internals/well-known-symbol":349}],353:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/array-iteration").every;r({target:"Array",proto:!0,forced:!e("../internals/array-method-is-strict")("every")},{every:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":229,"../internals/array-method-is-strict":231,"../internals/export":267}],354:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/array-iteration").filter;r({target:"Array",proto:!0,forced:!e("../internals/array-method-has-species-support")("filter")},{filter:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":229,"../internals/array-method-has-species-support":230,"../internals/export":267}],355:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/array-iteration").findIndex,i=e("../internals/add-to-unscopables"),s=!0;(e="findIndex")in[]&&Array(1)[e](function(){s=!1}),r({target:"Array",proto:!0,forced:s},{findIndex:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),i(e)},{"../internals/add-to-unscopables":223,"../internals/array-iteration":229,"../internals/export":267}],356:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/array-iteration").find,e=e("../internals/add-to-unscopables"),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),r({target:"Array",proto:!0,forced:i},{find:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),e("find")},{"../internals/add-to-unscopables":223,"../internals/array-iteration":229,"../internals/export":267}],357:[function(e,t,n){"use strict";var r=e("../internals/export"),e=e("../internals/array-for-each");r({target:"Array",proto:!0,forced:[].forEach!=e},{forEach:e})},{"../internals/array-for-each":226,"../internals/export":267}],358:[function(e,t,n){var r=e("../internals/export"),o=e("../internals/array-from");r({target:"Array",stat:!0,forced:!e("../internals/check-correctness-of-iteration")(function(e){Array.from(e)})},{from:o})},{"../internals/array-from":227,"../internals/check-correctness-of-iteration":236,"../internals/export":267}],359:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/array-includes").includes,e=e("../internals/add-to-unscopables");r({target:"Array",proto:!0},{includes:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),e("includes")},{"../internals/add-to-unscopables":223,"../internals/array-includes":228,"../internals/export":267}],360:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/array-includes").indexOf,e=e("../internals/array-method-is-strict"),i=[].indexOf,s=!!i&&1/[1].indexOf(1,-0)<0,e=e("indexOf");r({target:"Array",proto:!0,forced:s||!e},{indexOf:function(e){return s?i.apply(this,arguments)||0:o(this,e,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":228,"../internals/array-method-is-strict":231,"../internals/export":267}],361:[function(e,t,n){e("../internals/export")({target:"Array",stat:!0},{isArray:e("../internals/is-array")})},{"../internals/export":267,"../internals/is-array":287}],362:[function(e,t,n){"use strict";var r=e("../internals/to-indexed-object"),o=e("../internals/add-to-unscopables"),i=e("../internals/iterators"),s=e("../internals/internal-state"),e=e("../internals/define-iterator"),a="Array Iterator",l=s.set,u=s.getterFor(a);t.exports=e(Array,"Array",function(e,t){l(this,{type:a,target:r(e),index:0,kind:t})},function(){var e=u(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?{value:e.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},{"../internals/add-to-unscopables":223,"../internals/define-iterator":251,"../internals/internal-state":285,"../internals/iterators":296,"../internals/to-indexed-object":340}],363:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/array-iteration").map;r({target:"Array",proto:!0,forced:!e("../internals/array-method-has-species-support")("map")},{map:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":229,"../internals/array-method-has-species-support":230,"../internals/export":267}],364:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/array-reduce").left,i=e("../internals/array-method-is-strict"),s=e("../internals/engine-v8-version"),e=e("../internals/engine-is-node");r({target:"Array",proto:!0,forced:!i("reduce")||!e&&79<s&&s<83},{reduce:function(e){return o(this,e,arguments.length,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-method-is-strict":231,"../internals/array-reduce":232,"../internals/engine-is-node":260,"../internals/engine-v8-version":263,"../internals/export":267}],365:[function(e,t,n){"use strict";var r=e("../internals/export"),u=e("../internals/is-object"),c=e("../internals/is-array"),d=e("../internals/to-absolute-index"),p=e("../internals/to-length"),h=e("../internals/to-indexed-object"),f=e("../internals/create-property"),o=e("../internals/well-known-symbol"),e=e("../internals/array-method-has-species-support")("slice"),m=o("species"),b=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!e},{slice:function(e,t){var n,r,o,i=h(this),s=p(i.length),a=d(e,s),l=d(void 0===t?s:t,s);if(c(i)&&((n="function"==typeof(n=i.constructor)&&(n===Array||c(n.prototype))||u(n)&&null===(n=n[m])?void 0:n)===Array||void 0===n))return b.call(i,a,l);for(r=new(void 0===n?Array:n)(g(l-a,0)),o=0;a<l;a++,o++)a in i&&f(r,o,i[a]);return r.length=o,r}})},{"../internals/array-method-has-species-support":230,"../internals/create-property":250,"../internals/export":267,"../internals/is-array":287,"../internals/is-object":290,"../internals/to-absolute-index":339,"../internals/to-indexed-object":340,"../internals/to-length":342,"../internals/well-known-symbol":349}],366:[function(e,t,n){"use strict";var r=e("../internals/export"),a=e("../internals/a-function"),l=e("../internals/to-object"),u=e("../internals/to-length"),o=e("../internals/fails"),c=e("../internals/array-sort"),i=e("../internals/array-method-is-strict"),s=e("../internals/engine-ff-version"),d=e("../internals/engine-is-ie-or-edge"),p=e("../internals/engine-v8-version"),h=e("../internals/engine-webkit-version"),f=[],m=f.sort,b=o(function(){f.sort(void 0)}),e=o(function(){f.sort(null)}),i=i("sort"),g=!o(function(){if(p)return p<70;if(!(s&&3<s)){if(d)return!0;if(h)return h<603;for(var e,t,n,r="",o=65;o<76;o++){switch(e=String.fromCharCode(o),o){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(n=0;n<47;n++)f.push({k:e+n,v:t})}for(f.sort(function(e,t){return t.v-e.v}),n=0;n<f.length;n++)e=f[n].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}});r({target:"Array",proto:!0,forced:b||!e||!i||!g},{sort:function(e){void 0!==e&&a(e);var t=l(this);if(g)return void 0===e?m.call(t):m.call(t,e);for(var n,r,o=[],i=u(t.length),s=0;s<i;s++)s in t&&o.push(t[s]);for(n=(o=c(o,(r=e,function(e,t){return void 0===t?-1:void 0===e?1:void 0!==r?+r(e,t)||0:String(e)>String(t)?1:-1}))).length,s=0;s<n;)t[s]=o[s++];for(;s<i;)delete t[s++];return t}})},{"../internals/a-function":221,"../internals/array-method-is-strict":231,"../internals/array-sort":233,"../internals/engine-ff-version":256,"../internals/engine-is-ie-or-edge":258,"../internals/engine-v8-version":263,"../internals/engine-webkit-version":264,"../internals/export":267,"../internals/fails":268,"../internals/to-length":342,"../internals/to-object":343}],367:[function(e,t,n){"use strict";var r=e("../internals/export"),d=e("../internals/to-absolute-index"),p=e("../internals/to-integer"),h=e("../internals/to-length"),f=e("../internals/to-object"),m=e("../internals/array-species-create"),b=e("../internals/create-property"),e=e("../internals/array-method-has-species-support")("splice"),g=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!e},{splice:function(e,t){var n,r,o,i,s,a,l=f(this),u=h(l.length),c=d(e,u),e=arguments.length;if(0===e?n=r=0:r=1===e?(n=0,u-c):(n=e-2,v(g(p(t),0),u-c)),9007199254740991<u+n-r)throw TypeError("Maximum allowed length exceeded");for(o=m(l,r),i=0;i<r;i++)(s=c+i)in l&&b(o,i,l[s]);if(n<(o.length=r)){for(i=c;i<u-r;i++)a=i+n,(s=i+r)in l?l[a]=l[s]:delete l[a];for(i=u;u-r+n<i;i--)delete l[i-1]}else if(r<n)for(i=u-r;c<i;i--)a=i+n-1,(s=i+r-1)in l?l[a]=l[s]:delete l[a];for(i=0;i<n;i++)l[i+c]=arguments[i+2];return l.length=u-r+n,o}})},{"../internals/array-method-has-species-support":230,"../internals/array-species-create":234,"../internals/create-property":250,"../internals/export":267,"../internals/to-absolute-index":339,"../internals/to-integer":341,"../internals/to-length":342,"../internals/to-object":343}],368:[function(e,t,n){e("../internals/export")({target:"Function",proto:!0},{bind:e("../internals/function-bind")})},{"../internals/export":267,"../internals/function-bind":271}],369:[function(e,t,n){function o(e,t,n){var r=n.charAt(t-1),t=n.charAt(t+1);return l.test(e)&&!u.test(t)||u.test(e)&&!l.test(r)?"\\u"+e.charCodeAt(0).toString(16):e}var r=e("../internals/export"),i=e("../internals/get-built-in"),e=e("../internals/fails"),s=i("JSON","stringify"),a=/[\uD800-\uDFFF]/g,l=/^[\uD800-\uDBFF]$/,u=/^[\uDC00-\uDFFF]$/,e=e(function(){return'"\\udf06\\ud834"'!==s("\udf06\ud834")||'"\\udead"'!==s("\udead")});s&&r({target:"JSON",stat:!0,forced:e},{stringify:function(e,t,n){var r=s.apply(null,arguments);return"string"==typeof r?r.replace(a,o):r}})},{"../internals/export":267,"../internals/fails":268,"../internals/get-built-in":272}],370:[function(e,t,n){var r=e("../internals/global");e("../internals/set-to-string-tag")(r.JSON,"JSON",!0)},{"../internals/global":276,"../internals/set-to-string-tag":331}],371:[function(e,t,n){"use strict";var r=e("../internals/collection"),e=e("../internals/collection-strong");t.exports=r("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},e)},{"../internals/collection":244,"../internals/collection-strong":242}],372:[function(e,t,n){},{}],373:[function(e,t,n){e("../internals/export")({target:"Number",stat:!0},{isInteger:e("../internals/is-integer")})},{"../internals/export":267,"../internals/is-integer":289}],374:[function(e,t,n){var r=e("../internals/export"),e=e("../internals/object-assign");r({target:"Object",stat:!0,forced:Object.assign!==e},{assign:e})},{"../internals/export":267,"../internals/object-assign":306}],375:[function(e,t,n){e("../internals/export")({target:"Object",stat:!0,sham:!e("../internals/descriptors")},{create:e("../internals/object-create")})},{"../internals/descriptors":253,"../internals/export":267,"../internals/object-create":307}],376:[function(e,t,n){var r=e("../internals/export"),o=e("../internals/descriptors");r({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperties:e("../internals/object-define-properties")})},{"../internals/descriptors":253,"../internals/export":267,"../internals/object-define-properties":308}],377:[function(e,t,n){var r=e("../internals/export"),o=e("../internals/descriptors");r({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperty:e("../internals/object-define-property").f})},{"../internals/descriptors":253,"../internals/export":267,"../internals/object-define-property":309}],378:[function(e,t,n){var r=e("../internals/export"),o=e("../internals/object-to-array").entries;r({target:"Object",stat:!0},{entries:function(e){return o(e)}})},{"../internals/export":267,"../internals/object-to-array":319}],379:[function(e,t,n){var r=e("../internals/export"),o=e("../internals/freezing"),i=e("../internals/fails"),s=e("../internals/is-object"),a=e("../internals/internal-metadata").onFreeze,l=Object.freeze;r({target:"Object",stat:!0,forced:i(function(){l(1)}),sham:!o},{freeze:function(e){return l&&s(e)?l(a(e)):e}})},{"../internals/export":267,"../internals/fails":268,"../internals/freezing":269,"../internals/internal-metadata":284,"../internals/is-object":290}],380:[function(e,t,n){var r=e("../internals/export"),o=e("../internals/fails"),i=e("../internals/to-indexed-object"),s=e("../internals/object-get-own-property-descriptor").f,e=e("../internals/descriptors"),o=o(function(){s(1)});r({target:"Object",stat:!0,forced:!e||o,sham:!e},{getOwnPropertyDescriptor:function(e,t){return s(i(e),t)}})},{"../internals/descriptors":253,"../internals/export":267,"../internals/fails":268,"../internals/object-get-own-property-descriptor":310,"../internals/to-indexed-object":340}],381:[function(e,t,n){var r=e("../internals/export"),o=e("../internals/descriptors"),l=e("../internals/own-keys"),u=e("../internals/to-indexed-object"),c=e("../internals/object-get-own-property-descriptor"),d=e("../internals/create-property");r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){for(var t,n,r=u(e),o=c.f,i=l(r),s={},a=0;i.length>a;)void 0!==(n=o(r,t=i[a++]))&&d(s,t,n);return s}})},{"../internals/create-property":250,"../internals/descriptors":253,"../internals/export":267,"../internals/object-get-own-property-descriptor":310,"../internals/own-keys":321,"../internals/to-indexed-object":340}],382:[function(e,t,n){var r=e("../internals/export"),o=e("../internals/fails"),i=e("../internals/to-object"),s=e("../internals/object-get-prototype-of"),e=e("../internals/correct-prototype-getter");r({target:"Object",stat:!0,forced:o(function(){s(1)}),sham:!e},{getPrototypeOf:function(e){return s(i(e))}})},{"../internals/correct-prototype-getter":246,"../internals/export":267,"../internals/fails":268,"../internals/object-get-prototype-of":314,"../internals/to-object":343}],383:[function(e,t,n){var r=e("../internals/export"),o=e("../internals/to-object"),i=e("../internals/object-keys");r({target:"Object",stat:!0,forced:e("../internals/fails")(function(){i(1)})},{keys:function(e){return i(o(e))}})},{"../internals/export":267,"../internals/fails":268,"../internals/object-keys":316,"../internals/to-object":343}],384:[function(e,t,n){e("../internals/export")({target:"Object",stat:!0},{setPrototypeOf:e("../internals/object-set-prototype-of")})},{"../internals/export":267,"../internals/object-set-prototype-of":318}],385:[function(e,t,n){arguments[4][372][0].apply(n,arguments)},{dup:372}],386:[function(e,t,n){var r=e("../internals/export"),e=e("../internals/number-parse-int");r({global:!0,forced:parseInt!=e},{parseInt:e})},{"../internals/export":267,"../internals/number-parse-int":305}],387:[function(e,t,n){"use strict";var r=e("../internals/export"),u=e("../internals/a-function"),o=e("../internals/new-promise-capability"),i=e("../internals/perform"),c=e("../internals/iterate");r({target:"Promise",stat:!0},{allSettled:function(e){var a=this,t=o.f(a),l=t.resolve,n=t.reject,r=i(function(){var r=u(a.resolve),o=[],i=0,s=1;c(e,function(e){var t=i++,n=!1;o.push(void 0),s++,r.call(a,e).then(function(e){n||(n=!0,o[t]={status:"fulfilled",value:e},--s||l(o))},function(e){n||(n=!0,o[t]={status:"rejected",reason:e},--s||l(o))})}),--s||l(o)});return r.error&&n(r.value),t.promise}})},{"../internals/a-function":221,"../internals/export":267,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323}],388:[function(e,t,n){"use strict";var r=e("../internals/export"),d=e("../internals/a-function"),p=e("../internals/get-built-in"),o=e("../internals/new-promise-capability"),i=e("../internals/perform"),h=e("../internals/iterate"),f="No one promise resolved";r({target:"Promise",stat:!0},{any:function(e){var l=this,t=o.f(l),u=t.resolve,c=t.reject,n=i(function(){var r=d(l.resolve),o=[],i=0,s=1,a=!1;h(e,function(e){var t=i++,n=!1;o.push(void 0),s++,r.call(l,e).then(function(e){n||a||(a=!0,u(e))},function(e){n||a||(n=!0,o[t]=e,--s||c(new(p("AggregateError"))(o,f)))})}),--s||c(new(p("AggregateError"))(o,f))});return n.error&&c(n.value),t.promise}})},{"../internals/a-function":221,"../internals/export":267,"../internals/get-built-in":272,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323}],389:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/is-pure"),i=e("../internals/native-promise-constructor"),s=e("../internals/fails"),a=e("../internals/get-built-in"),l=e("../internals/species-constructor"),u=e("../internals/promise-resolve"),e=e("../internals/redefine");r({target:"Promise",proto:!0,real:!0,forced:!!i&&s(function(){i.prototype.finally.call({then:function(){}},function(){})})},{finally:function(t){var n=l(this,a("Promise")),e="function"==typeof t;return this.then(e?function(e){return u(n,t()).then(function(){return e})}:t,e?function(e){return u(n,t()).then(function(){throw e})}:t)}}),o||"function"!=typeof i||(o=a("Promise").prototype.finally,i.prototype.finally!==o&&e(i.prototype,"finally",o,{unsafe:!0}))},{"../internals/export":267,"../internals/fails":268,"../internals/get-built-in":272,"../internals/is-pure":291,"../internals/native-promise-constructor":300,"../internals/promise-resolve":324,"../internals/redefine":326,"../internals/species-constructor":335}],390:[function(e,t,n){"use strict";function f(e){var t;return!(!E(e)||"function"!=typeof(t=e.then))&&t}function o(d,p){var h;d.notified||(d.notified=!0,h=d.reactions,M(function(){for(var e=d.value,t=1==d.state,n=0;h.length>n;){var r,o,i,s=h[n++],a=t?s.ok:s.fail,l=s.resolve,u=s.reject,c=s.domain;try{a?(t||(2===d.rejection&&b(d),d.rejection=1),!0===a?r=e:(c&&c.enter(),r=a(e),c&&(c.exit(),i=!0)),r===s.promise?u(X("Promise-chain cycle")):(o=f(r))?o.call(r,l,u):l(r)):u(e)}catch(e){c&&!i&&c.exit(),u(e)}}d.reactions=[],d.notified=!1,p&&!d.rejection&&m(d)}))}function i(e,t,n){var r,o;te?((r=Y.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),h.dispatchEvent(r)):r={promise:t,reason:n},!ne&&(o=h["on"+e])?o(r):e===re&&L("Unhandled promise rejection",n)}function s(t,n,r){return function(e){t(n,e,r)}}function a(e,t,n){e.done||(e.done=!0,(e=n||e).value=t,e.state=2,o(e,!0))}function m(r){P.call(h,function(){var e,t=r.facade,n=r.value;if(ie(r)&&(e=I(function(){W?Q.emit("unhandledRejection",n,t):i(re,t,n)}),r.rejection=W||ie(r)?2:1,e.error))throw e.value})}function b(t){P.call(h,function(){var e=t.facade;W?Q.emit("rejectionHandled",e):i("rejectionhandled",e,t.value)})}var r,l,u,c,d=e("../internals/export"),p=e("../internals/is-pure"),h=e("../internals/global"),g=e("../internals/get-built-in"),v=e("../internals/native-promise-constructor"),y=e("../internals/redefine"),w=e("../internals/redefine-all"),x=e("../internals/object-set-prototype-of"),j=e("../internals/set-to-string-tag"),C=e("../internals/set-species"),E=e("../internals/is-object"),_=e("../internals/a-function"),R=e("../internals/an-instance"),k=e("../internals/inspect-source"),S=e("../internals/iterate"),T=e("../internals/check-correctness-of-iteration"),A=e("../internals/species-constructor"),P=e("../internals/task").set,M=e("../internals/microtask"),D=e("../internals/promise-resolve"),L=e("../internals/host-report-errors"),O=e("../internals/new-promise-capability"),I=e("../internals/perform"),N=e("../internals/internal-state"),F=e("../internals/is-forced"),H=e("../internals/well-known-symbol"),z=e("../internals/engine-is-browser"),W=e("../internals/engine-is-node"),B=e("../internals/engine-v8-version"),q=H("species"),V="Promise",U=N.get,G=N.set,K=N.getterFor(V),N=v&&v.prototype,J=v,$=N,X=h.TypeError,Y=h.document,Q=h.process,Z=O.f,ee=Z,te=!!(Y&&Y.createEvent&&h.dispatchEvent),ne="function"==typeof PromiseRejectionEvent,re="unhandledrejection",oe=!1,T=(F=F(V,function(){var e=(n=k(J))!==String(J);if(!e&&66===B)return!0;if(p&&!$.finally)return!0;if(51<=B&&/native code/.test(n))return!1;var t=new J(function(e){e(1)}),n=function(e){e(function(){},function(){})};return(t.constructor={})[q]=n,!(oe=t.then(function(){})instanceof n)||!e&&z&&!ne}))||!T(function(e){J.all(e).catch(function(){})}),ie=function(e){return 1!==e.rejection&&!e.parent},se=function(n,e,t){if(!n.done){n.done=!0,t&&(n=t);try{if(n.facade===e)throw X("Promise can't be resolved itself");var r=f(e);r?M(function(){var t={done:!1};try{r.call(e,s(se,t,n),s(a,t,n))}catch(e){a(t,e,n)}}):(n.value=e,n.state=1,o(n,!1))}catch(e){a({done:!1},e,n)}}};if(F&&($=(J=function(e){R(this,J,V),_(e),r.call(this);var t=U(this);try{e(s(se,t),s(a,t))}catch(e){a(t,e)}}).prototype,(r=function(e){G(this,{type:V,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=w($,{then:function(e,t){var n=K(this),r=Z(A(this,J));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=W?Q.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&o(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),l=function(){var e=new r,t=U(e);this.promise=e,this.resolve=s(se,t),this.reject=s(a,t)},O.f=Z=function(e){return e===J||e===u?new l:ee(e)},!p&&"function"==typeof v&&N!==Object.prototype)){c=N.then,oe||(y(N,"then",function(e,t){var n=this;return new J(function(e,t){c.call(n,e,t)}).then(e,t)},{unsafe:!0}),y(N,"catch",$.catch,{unsafe:!0}));try{delete N.constructor}catch(e){}x&&x(N,$)}d({global:!0,wrap:!0,forced:F},{Promise:J}),j(J,V,!1,!0),C(V),u=g(V),d({target:V,stat:!0,forced:F},{reject:function(e){var t=Z(this);return t.reject.call(void 0,e),t.promise}}),d({target:V,stat:!0,forced:p||F},{resolve:function(e){return D(p&&this===u?J:this,e)}}),d({target:V,stat:!0,forced:T},{all:function(e){var a=this,t=Z(a),l=t.resolve,u=t.reject,n=I(function(){var r=_(a.resolve),o=[],i=0,s=1;S(e,function(e){var t=i++,n=!1;o.push(void 0),s++,r.call(a,e).then(function(e){n||(n=!0,o[t]=e,--s||l(o))},u)}),--s||l(o)});return n.error&&u(n.value),t.promise},race:function(e){var n=this,r=Z(n),o=r.reject,t=I(function(){var t=_(n.resolve);S(e,function(e){t.call(n,e).then(r.resolve,o)})});return t.error&&o(t.value),r.promise}})},{"../internals/a-function":221,"../internals/an-instance":224,"../internals/check-correctness-of-iteration":236,"../internals/engine-is-browser":257,"../internals/engine-is-node":260,"../internals/engine-v8-version":263,"../internals/export":267,"../internals/get-built-in":272,"../internals/global":276,"../internals/host-report-errors":279,"../internals/inspect-source":283,"../internals/internal-state":285,"../internals/is-forced":288,"../internals/is-object":290,"../internals/is-pure":291,"../internals/iterate":293,"../internals/microtask":299,"../internals/native-promise-constructor":300,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-resolve":324,"../internals/redefine":326,"../internals/redefine-all":325,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":338,"../internals/well-known-symbol":349}],391:[function(e,t,n){var r=e("../internals/export"),o=e("../internals/get-built-in"),i=e("../internals/a-function"),s=e("../internals/an-object"),a=e("../internals/is-object"),l=e("../internals/object-create"),u=e("../internals/function-bind"),e=e("../internals/fails"),c=o("Reflect","construct"),d=e(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),p=!e(function(){c(function(){})});r({target:"Reflect",stat:!0,forced:e=d||p,sham:e},{construct:function(e,t){i(e),s(t);var n=arguments.length<3?e:i(arguments[2]);if(p&&!d)return c(e,t,n);if(e!=n)return r=n.prototype,n=l(a(r)?r:Object.prototype),r=Function.apply.call(e,n,t),a(r)?r:n;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(u.apply(e,r))}})},{"../internals/a-function":221,"../internals/an-object":225,"../internals/export":267,"../internals/fails":268,"../internals/function-bind":271,"../internals/get-built-in":272,"../internals/is-object":290,"../internals/object-create":307}],392:[function(e,t,n){var r=e("../internals/export"),i=e("../internals/is-object"),s=e("../internals/an-object"),a=e("../internals/has"),l=e("../internals/object-get-own-property-descriptor"),u=e("../internals/object-get-prototype-of");r({target:"Reflect",stat:!0},{get:function e(t,n){var r,o=arguments.length<3?t:arguments[2];return s(t)===o?t[n]:(r=l.f(t,n))?a(r,"value")?r.value:void 0===r.get?void 0:r.get.call(o):i(r=u(t))?e(r,n,o):void 0}})},{"../internals/an-object":225,"../internals/export":267,"../internals/has":277,"../internals/is-object":290,"../internals/object-get-own-property-descriptor":310,"../internals/object-get-prototype-of":314}],393:[function(e,t,n){arguments[4][372][0].apply(n,arguments)},{dup:372}],394:[function(e,t,n){"use strict";var r=e("../internals/collection"),e=e("../internals/collection-strong");t.exports=r("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},e)},{"../internals/collection":244,"../internals/collection-strong":242}],395:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/not-a-regexp"),i=e("../internals/require-object-coercible");r({target:"String",proto:!0,forced:!e("../internals/correct-is-regexp-logic")("includes")},{includes:function(e){return!!~String(i(this)).indexOf(o(e),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":245,"../internals/export":267,"../internals/not-a-regexp":304,"../internals/require-object-coercible":327}],396:[function(e,t,n){"use strict";var r=e("../internals/string-multibyte").charAt,o=e("../internals/internal-state"),e=e("../internals/define-iterator"),i="String Iterator",s=o.set,a=o.getterFor(i);e(String,"String",function(e){s(this,{type:i,string:String(e),index:0})},function(){var e=a(this),t=e.string,n=e.index;return n>=t.length?{value:void 0,done:!0}:(n=r(t,n),e.index+=n.length,{value:n,done:!1})})},{"../internals/define-iterator":251,"../internals/internal-state":285,"../internals/string-multibyte":336}],397:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/object-get-own-property-descriptor").f,i=e("../internals/to-length"),s=e("../internals/not-a-regexp"),a=e("../internals/require-object-coercible"),l=e("../internals/correct-is-regexp-logic"),e=e("../internals/is-pure"),u="".startsWith,c=Math.min,l=l("startsWith");r({target:"String",proto:!0,forced:!(!e&&!l&&(o=o(String.prototype,"startsWith"))&&!o.writable||l)},{startsWith:function(e){var t=String(a(this));s(e);var n=i(c(1<arguments.length?arguments[1]:void 0,t.length)),e=String(e);return u?u.call(t,e,n):t.slice(n,n+e.length)===e}})},{"../internals/correct-is-regexp-logic":245,"../internals/export":267,"../internals/is-pure":291,"../internals/not-a-regexp":304,"../internals/object-get-own-property-descriptor":310,"../internals/require-object-coercible":327,"../internals/to-length":342}],398:[function(e,t,n){e("../internals/define-well-known-symbol")("asyncIterator")},{"../internals/define-well-known-symbol":252}],399:[function(e,t,n){arguments[4][372][0].apply(n,arguments)},{dup:372}],400:[function(e,t,n){e("../internals/define-well-known-symbol")("hasInstance")},{"../internals/define-well-known-symbol":252}],401:[function(e,t,n){e("../internals/define-well-known-symbol")("isConcatSpreadable")},{"../internals/define-well-known-symbol":252}],402:[function(e,t,n){e("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":252}],403:[function(e,t,n){"use strict";function r(e,t){var n=ne[e]=E(X[G]);return K(n,{type:U,tag:e,description:t}),p||(n.description=t),n}function o(t,e){y(t);var n=x(e),e=_(n).concat(a(n));return q(e,function(e){p&&!s.call(n,e)||i(t,e,n[e])}),t}function i(e,t,n){return e===$&&i(re,t,n),y(e),t=j(t,!0),y(n),b(ne,t)?(n.enumerable?(b(e,V)&&e[V][t]&&(e[V][t]=!1),n=E(n,{enumerable:C(0,!1)})):(b(e,V)||Z(e,V,C(1,{})),e[V][t]=!0),ae(e,t,n)):Z(e,t,n)}function s(e){var t=j(e,!0),e=te.call(this,t);return!(this===$&&b(ne,t)&&!b(re,t))&&(!(e||!b(this,t)||!b(ne,t)||b(this,V)&&this[V][t])||e)}function a(e){var t=e===$,e=ee(t?re:x(e)),n=[];return q(e,function(e){!b(ne,e)||t&&!b($,e)||n.push(ne[e])}),n}var l=e("../internals/export"),u=e("../internals/global"),c=e("../internals/get-built-in"),d=e("../internals/is-pure"),p=e("../internals/descriptors"),h=e("../internals/native-symbol"),f=e("../internals/use-symbol-as-uid"),m=e("../internals/fails"),b=e("../internals/has"),g=e("../internals/is-array"),v=e("../internals/is-object"),y=e("../internals/an-object"),w=e("../internals/to-object"),x=e("../internals/to-indexed-object"),j=e("../internals/to-primitive"),C=e("../internals/create-property-descriptor"),E=e("../internals/object-create"),_=e("../internals/object-keys"),R=e("../internals/object-get-own-property-names"),k=e("../internals/object-get-own-property-names-external"),S=e("../internals/object-get-own-property-symbols"),T=e("../internals/object-get-own-property-descriptor"),A=e("../internals/object-define-property"),P=e("../internals/object-property-is-enumerable"),M=e("../internals/create-non-enumerable-property"),D=e("../internals/redefine"),L=e("../internals/shared"),O=e("../internals/shared-key"),I=e("../internals/hidden-keys"),N=e("../internals/uid"),F=e("../internals/well-known-symbol"),H=e("../internals/well-known-symbol-wrapped"),z=e("../internals/define-well-known-symbol"),W=e("../internals/set-to-string-tag"),B=e("../internals/internal-state"),q=e("../internals/array-iteration").forEach,V=O("hidden"),U="Symbol",G="prototype",O=F("toPrimitive"),K=B.set,J=B.getterFor(U),$=Object[G],X=u.Symbol,Y=c("JSON","stringify"),Q=T.f,Z=A.f,ee=k.f,te=P.f,ne=L("symbols"),re=L("op-symbols"),oe=L("string-to-symbol-registry"),ie=L("symbol-to-string-registry"),L=L("wks"),se=!(u=u.QObject)||!u[G]||!u[G].findChild,ae=p&&m(function(){return 7!=E(Z({},"a",{get:function(){return Z(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=Q($,t);r&&delete $[t],Z(e,t,n),r&&e!==$&&Z($,t,r)}:Z,le=f?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof X},u=function(e,t){var n=x(e),e=j(t,!0);if(n!==$||!b(ne,e)||b(re,e))return!(t=Q(n,e))||!b(ne,e)||b(n,V)&&n[V][e]||(t.enumerable=!0),t},f=function(e){var e=ee(x(e)),t=[];return q(e,function(e){b(ne,e)||b(I,e)||t.push(e)}),t};h||(D((X=function(){if(this instanceof X)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=N(e),n=function(e){this===$&&n.call(re,e),b(this,V)&&b(this[V],t)&&(this[V][t]=!1),ae(this,t,C(1,e))};return p&&se&&ae($,t,{configurable:!0,set:n}),r(t,e)})[G],"toString",function(){return J(this).tag}),D(X,"withoutSetter",function(e){return r(N(e),e)}),P.f=s,A.f=i,T.f=u,R.f=k.f=f,S.f=a,H.f=function(e){return r(F(e),e)},p&&(Z(X[G],"description",{configurable:!0,get:function(){return J(this).description}}),d||D($,"propertyIsEnumerable",s,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:X}),q(_(L),function(e){z(e)}),l({target:U,stat:!0,forced:!h},{for:function(e){var t=String(e);return b(oe,t)?oe[t]:(e=X(t),oe[t]=e,ie[e]=t,e)},keyFor:function(e){if(!le(e))throw TypeError(e+" is not a symbol");if(b(ie,e))return ie[e]},useSetter:function(){se=!0},useSimple:function(){se=!1}}),l({target:"Object",stat:!0,forced:!h,sham:!p},{create:function(e,t){return void 0===t?E(e):o(E(e),t)},defineProperty:i,defineProperties:o,getOwnPropertyDescriptor:u}),l({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:f,getOwnPropertySymbols:a}),l({target:"Object",stat:!0,forced:m(function(){S.f(1)})},{getOwnPropertySymbols:function(e){return S.f(w(e))}}),Y&&l({target:"JSON",stat:!0,forced:!h||m(function(){var e=X();return"[null]"!=Y([e])||"{}"!=Y({a:e})||"{}"!=Y(Object(e))})},{stringify:function(e,t,n){for(var r,o=[e],i=1;i<arguments.length;)o.push(arguments[i++]);if((v(r=t)||void 0!==e)&&!le(e))return g(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!le(t))return t}),o[1]=t,Y.apply(null,o)}}),X[G][O]||M(X[G],O,X[G].valueOf),W(X,U),I[V]=!0},{"../internals/an-object":225,"../internals/array-iteration":229,"../internals/create-non-enumerable-property":248,"../internals/create-property-descriptor":249,"../internals/define-well-known-symbol":252,"../internals/descriptors":253,"../internals/export":267,"../internals/fails":268,"../internals/get-built-in":272,"../internals/global":276,"../internals/has":277,"../internals/hidden-keys":278,"../internals/internal-state":285,"../internals/is-array":287,"../internals/is-object":290,"../internals/is-pure":291,"../internals/native-symbol":301,"../internals/object-create":307,"../internals/object-define-property":309,"../internals/object-get-own-property-descriptor":310,"../internals/object-get-own-property-names":312,"../internals/object-get-own-property-names-external":311,"../internals/object-get-own-property-symbols":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/redefine":326,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/to-indexed-object":340,"../internals/to-object":343,"../internals/to-primitive":344,"../internals/uid":346,"../internals/use-symbol-as-uid":347,"../internals/well-known-symbol":349,"../internals/well-known-symbol-wrapped":348}],404:[function(e,t,n){e("../internals/define-well-known-symbol")("matchAll")},{"../internals/define-well-known-symbol":252}],405:[function(e,t,n){e("../internals/define-well-known-symbol")("match")},{"../internals/define-well-known-symbol":252}],406:[function(e,t,n){e("../internals/define-well-known-symbol")("replace")},{"../internals/define-well-known-symbol":252}],407:[function(e,t,n){e("../internals/define-well-known-symbol")("search")},{"../internals/define-well-known-symbol":252}],408:[function(e,t,n){e("../internals/define-well-known-symbol")("species")},{"../internals/define-well-known-symbol":252}],409:[function(e,t,n){e("../internals/define-well-known-symbol")("split")},{"../internals/define-well-known-symbol":252}],410:[function(e,t,n){e("../internals/define-well-known-symbol")("toPrimitive")},{"../internals/define-well-known-symbol":252}],411:[function(e,t,n){e("../internals/define-well-known-symbol")("toStringTag")},{"../internals/define-well-known-symbol":252}],412:[function(e,t,n){e("../internals/define-well-known-symbol")("unscopables")},{"../internals/define-well-known-symbol":252}],413:[function(e,t,n){"use strict";var r,o,i,s,a,l=e("../internals/global"),u=e("../internals/redefine-all"),c=e("../internals/internal-metadata"),d=e("../internals/collection"),p=e("../internals/collection-weak"),h=e("../internals/is-object"),f=e("../internals/internal-state").enforce,m=e("../internals/native-weak-map"),e=!l.ActiveXObject&&"ActiveXObject"in l,b=Object.isExtensible,l=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},d=t.exports=d("WeakMap",l,p);m&&e&&(r=p.getConstructor(l,"WeakMap",!0),c.REQUIRED=!0,d=d.prototype,o=d.delete,i=d.has,s=d.get,a=d.set,u(d,{delete:function(e){if(!h(e)||b(e))return o.call(this,e);var t=f(this);return t.frozen||(t.frozen=new r),o.call(this,e)||t.frozen.delete(e)},has:function(e){if(!h(e)||b(e))return i.call(this,e);var t=f(this);return t.frozen||(t.frozen=new r),i.call(this,e)||t.frozen.has(e)},get:function(e){if(!h(e)||b(e))return s.call(this,e);var t=f(this);return t.frozen||(t.frozen=new r),i.call(this,e)?s.call(this,e):t.frozen.get(e)},set:function(e,t){var n;return h(e)&&!b(e)?((n=f(this)).frozen||(n.frozen=new r),i.call(this,e)?a.call(this,e,t):n.frozen.set(e,t)):a.call(this,e,t),this}}))},{"../internals/collection":244,"../internals/collection-weak":243,"../internals/global":276,"../internals/internal-metadata":284,"../internals/internal-state":285,"../internals/is-object":290,"../internals/native-weak-map":302,"../internals/redefine-all":325}],414:[function(e,t,n){e("./es.aggregate-error")},{"./es.aggregate-error":351}],415:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/is-pure"),i=e("../internals/collection-delete-all");r({target:"Map",proto:!0,real:!0,forced:o},{deleteAll:function(){return i.apply(this,arguments)}})},{"../internals/collection-delete-all":239,"../internals/export":267,"../internals/is-pure":291}],416:[function(e,t,n){"use strict";e("../internals/export")({target:"Map",proto:!0,real:!0,forced:e("../internals/is-pure")},{emplace:e("../internals/map-emplace")})},{"../internals/export":267,"../internals/is-pure":291,"../internals/map-emplace":297}],417:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/is-pure"),i=e("../internals/an-object"),s=e("../internals/function-bind-context"),a=e("../internals/get-map-iterator"),l=e("../internals/iterate");r({target:"Map",proto:!0,real:!0,forced:o},{every:function(e){var r=i(this),t=a(r),o=s(e,1<arguments.length?arguments[1]:void 0,3);return!l(t,function(e,t,n){if(!o(t,e,r))return n()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},{"../internals/an-object":225,"../internals/export":267,"../internals/function-bind-context":270,"../internals/get-map-iterator":275,"../internals/is-pure":291,"../internals/iterate":293}],418:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/is-pure"),s=e("../internals/get-built-in"),a=e("../internals/an-object"),l=e("../internals/a-function"),u=e("../internals/function-bind-context"),c=e("../internals/species-constructor"),d=e("../internals/get-map-iterator"),p=e("../internals/iterate");r({target:"Map",proto:!0,real:!0,forced:o},{filter:function(e){var n=a(this),t=d(n),r=u(e,1<arguments.length?arguments[1]:void 0,3),o=new(c(n,s("Map"))),i=l(o.set);return p(t,function(e,t){r(t,e,n)&&i.call(o,e,t)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),o}})},{"../internals/a-function":221,"../internals/an-object":225,"../internals/export":267,"../internals/function-bind-context":270,"../internals/get-built-in":272,"../internals/get-map-iterator":275,"../internals/is-pure":291,"../internals/iterate":293,"../internals/species-constructor":335}],419:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/is-pure"),i=e("../internals/an-object"),s=e("../internals/function-bind-context"),a=e("../internals/get-map-iterator"),l=e("../internals/iterate");r({target:"Map",proto:!0,real:!0,forced:o},{findKey:function(e){var r=i(this),t=a(r),o=s(e,1<arguments.length?arguments[1]:void 0,3);return l(t,function(e,t,n){if(o(t,e,r))return n(e)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},{"../internals/an-object":225,"../internals/export":267,"../internals/function-bind-context":270,"../internals/get-map-iterator":275,"../internals/is-pure":291,"../internals/iterate":293}],420:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/is-pure"),i=e("../internals/an-object"),s=e("../internals/function-bind-context"),a=e("../internals/get-map-iterator"),l=e("../internals/iterate");r({target:"Map",proto:!0,real:!0,forced:o},{find:function(e){var r=i(this),t=a(r),o=s(e,1<arguments.length?arguments[1]:void 0,3);return l(t,function(e,t,n){if(o(t,e,r))return n(t)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},{"../internals/an-object":225,"../internals/export":267,"../internals/function-bind-context":270,"../internals/get-map-iterator":275,"../internals/is-pure":291,"../internals/iterate":293}],421:[function(e,t,n){e("../internals/export")({target:"Map",stat:!0},{from:e("../internals/collection-from")})},{"../internals/collection-from":240,"../internals/export":267}],422:[function(e,t,n){"use strict";var r=e("../internals/export"),a=e("../internals/iterate"),l=e("../internals/a-function");r({target:"Map",stat:!0},{groupBy:function(e,n){var r=new this;l(n);var o=l(r.has),i=l(r.get),s=l(r.set);return a(e,function(e){var t=n(e);o.call(r,t)?i.call(r,t).push(e):s.call(r,t,[e])}),r}})},{"../internals/a-function":221,"../internals/export":267,"../internals/iterate":293}],423:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/is-pure"),i=e("../internals/an-object"),s=e("../internals/get-map-iterator"),a=e("../internals/same-value-zero"),l=e("../internals/iterate");r({target:"Map",proto:!0,real:!0,forced:o},{includes:function(r){return l(s(i(this)),function(e,t,n){if(a(t,r))return n()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},{"../internals/an-object":225,"../internals/export":267,"../internals/get-map-iterator":275,"../internals/is-pure":291,"../internals/iterate":293,"../internals/same-value-zero":328}],424:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/iterate"),i=e("../internals/a-function");r({target:"Map",stat:!0},{keyBy:function(e,t){var n=new this;i(t);var r=i(n.set);return o(e,function(e){r.call(n,t(e),e)}),n}})},{"../internals/a-function":221,"../internals/export":267,"../internals/iterate":293}],425:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/is-pure"),i=e("../internals/an-object"),s=e("../internals/get-map-iterator"),a=e("../internals/iterate");r({target:"Map",proto:!0,real:!0,forced:o},{keyOf:function(r){return a(s(i(this)),function(e,t,n){if(t===r)return n(e)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},{"../internals/an-object":225,"../internals/export":267,"../internals/get-map-iterator":275,"../internals/is-pure":291,"../internals/iterate":293}],426:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/is-pure"),s=e("../internals/get-built-in"),a=e("../internals/an-object"),l=e("../internals/a-function"),u=e("../internals/function-bind-context"),c=e("../internals/species-constructor"),d=e("../internals/get-map-iterator"),p=e("../internals/iterate");r({target:"Map",proto:!0,real:!0,forced:o},{mapKeys:function(e){var n=a(this),t=d(n),r=u(e,1<arguments.length?arguments[1]:void 0,3),o=new(c(n,s("Map"))),i=l(o.set);return p(t,function(e,t){i.call(o,r(t,e,n),t)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),o}})},{"../internals/a-function":221,"../internals/an-object":225,"../internals/export":267,"../internals/function-bind-context":270,"../internals/get-built-in":272,"../internals/get-map-iterator":275,"../internals/is-pure":291,"../internals/iterate":293,"../internals/species-constructor":335}],427:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/is-pure"),s=e("../internals/get-built-in"),a=e("../internals/an-object"),l=e("../internals/a-function"),u=e("../internals/function-bind-context"),c=e("../internals/species-constructor"),d=e("../internals/get-map-iterator"),p=e("../internals/iterate");r({target:"Map",proto:!0,real:!0,forced:o},{mapValues:function(e){var n=a(this),t=d(n),r=u(e,1<arguments.length?arguments[1]:void 0,3),o=new(c(n,s("Map"))),i=l(o.set);return p(t,function(e,t){i.call(o,e,r(t,e,n))},{AS_ENTRIES:!0,IS_ITERATOR:!0}),o}})},{"../internals/a-function":221,"../internals/an-object":225,"../internals/export":267,"../internals/function-bind-context":270,"../internals/get-built-in":272,"../internals/get-map-iterator":275,"../internals/is-pure":291,"../internals/iterate":293,"../internals/species-constructor":335}],428:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/is-pure"),i=e("../internals/an-object"),s=e("../internals/a-function"),a=e("../internals/iterate");r({target:"Map",proto:!0,real:!0,forced:o},{merge:function(e){for(var t=i(this),n=s(t.set),r=0;r<arguments.length;)a(arguments[r++],n,{that:t,AS_ENTRIES:!0});return t}})},{"../internals/a-function":221,"../internals/an-object":225,"../internals/export":267,"../internals/is-pure":291,"../internals/iterate":293}],429:[function(e,t,n){e("../internals/export")({target:"Map",stat:!0},{of:e("../internals/collection-of")})},{"../internals/collection-of":241,"../internals/export":267}],430:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/is-pure"),s=e("../internals/an-object"),a=e("../internals/a-function"),l=e("../internals/get-map-iterator"),u=e("../internals/iterate");r({target:"Map",proto:!0,real:!0,forced:o},{reduce:function(n){var r=s(this),e=l(r),o=arguments.length<2,i=o?void 0:arguments[1];if(a(n),u(e,function(e,t){i=o?(o=!1,t):n(i,t,e,r)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),o)throw TypeError("Reduce of empty map with no initial value");return i}})},{"../internals/a-function":221,"../internals/an-object":225,"../internals/export":267,"../internals/get-map-iterator":275,"../internals/is-pure":291,"../internals/iterate":293}],431:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/is-pure"),i=e("../internals/an-object"),s=e("../internals/function-bind-context"),a=e("../internals/get-map-iterator"),l=e("../internals/iterate");r({target:"Map",proto:!0,real:!0,forced:o},{some:function(e){var r=i(this),t=a(r),o=s(e,1<arguments.length?arguments[1]:void 0,3);return l(t,function(e,t,n){if(o(t,e,r))return n()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},{"../internals/an-object":225,"../internals/export":267,"../internals/function-bind-context":270,"../internals/get-map-iterator":275,"../internals/is-pure":291,"../internals/iterate":293}],432:[function(e,t,n){"use strict";e("../internals/export")({target:"Map",proto:!0,real:!0,forced:e("../internals/is-pure")},{updateOrInsert:e("../internals/map-upsert")})},{"../internals/export":267,"../internals/is-pure":291,"../internals/map-upsert":298}],433:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/is-pure"),i=e("../internals/an-object"),s=e("../internals/a-function");r({target:"Map",proto:!0,real:!0,forced:o},{update:function(e,t){var n=i(this),r=arguments.length;s(t);var o=n.has(e);if(!o&&r<3)throw TypeError("Updating absent value");return r=o?n.get(e):s(2<r?arguments[2]:void 0)(e,n),n.set(e,t(r,e,n)),n}})},{"../internals/a-function":221,"../internals/an-object":225,"../internals/export":267,"../internals/is-pure":291}],434:[function(e,t,n){"use strict";e("../internals/export")({target:"Map",proto:!0,real:!0,forced:e("../internals/is-pure")},{upsert:e("../internals/map-upsert")})},{"../internals/export":267,"../internals/is-pure":291,"../internals/map-upsert":298}],435:[function(e,t,n){e("./es.promise.all-settled.js")},{"./es.promise.all-settled.js":387}],436:[function(e,t,n){e("./es.promise.any")},{"./es.promise.any":388}],437:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/new-promise-capability"),i=e("../internals/perform");r({target:"Promise",stat:!0},{try:function(e){var t=o.f(this);return((e=i(e)).error?t.reject:t.resolve)(e.value),t.promise}})},{"../internals/export":267,"../internals/new-promise-capability":303,"../internals/perform":323}],438:[function(e,t,n){e("../internals/define-well-known-symbol")("asyncDispose")},{"../internals/define-well-known-symbol":252}],439:[function(e,t,n){e("../internals/define-well-known-symbol")("dispose")},{"../internals/define-well-known-symbol":252}],440:[function(e,t,n){e("../internals/define-well-known-symbol")("matcher")},{"../internals/define-well-known-symbol":252}],441:[function(e,t,n){e("../internals/define-well-known-symbol")("metadata")},{"../internals/define-well-known-symbol":252}],442:[function(e,t,n){e("../internals/define-well-known-symbol")("observable")},{"../internals/define-well-known-symbol":252}],443:[function(e,t,n){e("../internals/define-well-known-symbol")("patternMatch")},{"../internals/define-well-known-symbol":252}],444:[function(e,t,n){e("../internals/define-well-known-symbol")("replaceAll")},{"../internals/define-well-known-symbol":252}],445:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/is-pure"),i=e("../internals/collection-delete-all");r({target:"WeakMap",proto:!0,real:!0,forced:o},{deleteAll:function(){return i.apply(this,arguments)}})},{"../internals/collection-delete-all":239,"../internals/export":267,"../internals/is-pure":291}],446:[function(e,t,n){"use strict";e("../internals/export")({target:"WeakMap",proto:!0,real:!0,forced:e("../internals/is-pure")},{emplace:e("../internals/map-emplace")})},{"../internals/export":267,"../internals/is-pure":291,"../internals/map-emplace":297}],447:[function(e,t,n){e("../internals/export")({target:"WeakMap",stat:!0},{from:e("../internals/collection-from")})},{"../internals/collection-from":240,"../internals/export":267}],448:[function(e,t,n){e("../internals/export")({target:"WeakMap",stat:!0},{of:e("../internals/collection-of")})},{"../internals/collection-of":241,"../internals/export":267}],449:[function(e,t,n){"use strict";e("../internals/export")({target:"WeakMap",proto:!0,real:!0,forced:e("../internals/is-pure")},{upsert:e("../internals/map-upsert")})},{"../internals/export":267,"../internals/is-pure":291,"../internals/map-upsert":298}],450:[function(e,t,n){e("./es.array.iterator");var r,o=e("../internals/dom-iterables"),i=e("../internals/global"),s=e("../internals/classof"),a=e("../internals/create-non-enumerable-property"),l=e("../internals/iterators"),u=e("../internals/well-known-symbol")("toStringTag");for(r in o){var c=i[r];(c=c&&c.prototype)&&s(c)!==u&&a(c,u,r),l[r]=l.Array}},{"../internals/classof":238,"../internals/create-non-enumerable-property":248,"../internals/dom-iterables":255,"../internals/global":276,"../internals/iterators":296,"../internals/well-known-symbol":349,"./es.array.iterator":362}],451:[function(e,t,n){var r=e("../internals/export"),o=e("../internals/global"),i=e("../internals/engine-user-agent"),s=[].slice,e=function(o){return function(e,t){var n=2<arguments.length,r=n?s.call(arguments,2):void 0;return o(n?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,t)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(i)},{setTimeout:e(o.setTimeout),setInterval:e(o.setInterval)})},{"../internals/engine-user-agent":262,"../internals/export":267,"../internals/global":276}],452:[function(e,t,n){arguments[4][202][0].apply(n,arguments)},{"../../es/array/from":144,dup:202}],453:[function(e,t,n){arguments[4][203][0].apply(n,arguments)},{"../../es/array/is-array":145,dup:203}],454:[function(e,t,n){e=e("../../../es/array/virtual/entries"),t.exports=e},{"../../../es/array/virtual/entries":147}],455:[function(e,t,n){e=e("../../../es/array/virtual/for-each"),t.exports=e},{"../../../es/array/virtual/for-each":152}],456:[function(e,t,n){e=e("../../../es/array/virtual/keys"),t.exports=e},{"../../../es/array/virtual/keys":155}],457:[function(e,t,n){e=e("../../../es/array/virtual/values"),t.exports=e},{"../../../es/array/virtual/values":161}],458:[function(e,t,n){arguments[4][206][0].apply(n,arguments)},{"../../es/instance/bind":163,dup:206}],459:[function(e,t,n){e=e("../../es/instance/concat"),t.exports=e},{"../../es/instance/concat":164}],460:[function(e,t,n){e("../../modules/web.dom-collections.iterator");var r=e("../array/virtual/entries"),o=e("../../internals/classof"),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};t.exports=function(e){var t=e.entries;return e===i||e instanceof Array&&t===i.entries||s.hasOwnProperty(o(e))?r:t}},{"../../internals/classof":238,"../../modules/web.dom-collections.iterator":450,"../array/virtual/entries":454}],461:[function(e,t,n){e=e("../../es/instance/every"),t.exports=e},{"../../es/instance/every":165}],462:[function(e,t,n){e=e("../../es/instance/filter"),t.exports=e},{"../../es/instance/filter":166}],463:[function(e,t,n){e=e("../../es/instance/find-index"),t.exports=e},{"../../es/instance/find-index":167}],464:[function(e,t,n){e=e("../../es/instance/find"),t.exports=e},{"../../es/instance/find":168}],465:[function(e,t,n){e("../../modules/web.dom-collections.iterator");var r=e("../array/virtual/for-each"),o=e("../../internals/classof"),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};t.exports=function(e){var t=e.forEach;return e===i||e instanceof Array&&t===i.forEach||s.hasOwnProperty(o(e))?r:t}},{"../../internals/classof":238,"../../modules/web.dom-collections.iterator":450,"../array/virtual/for-each":455}],466:[function(e,t,n){e=e("../../es/instance/includes"),t.exports=e},{"../../es/instance/includes":169}],467:[function(e,t,n){arguments[4][207][0].apply(n,arguments)},{"../../es/instance/index-of":170,dup:207}],468:[function(e,t,n){e("../../modules/web.dom-collections.iterator");var r=e("../array/virtual/keys"),o=e("../../internals/classof"),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};t.exports=function(e){var t=e.keys;return e===i||e instanceof Array&&t===i.keys||s.hasOwnProperty(o(e))?r:t}},{"../../internals/classof":238,"../../modules/web.dom-collections.iterator":450,"../array/virtual/keys":456}],469:[function(e,t,n){e=e("../../es/instance/map"),t.exports=e},{"../../es/instance/map":171}],470:[function(e,t,n){e=e("../../es/instance/reduce"),t.exports=e},{"../../es/instance/reduce":172}],471:[function(e,t,n){arguments[4][208][0].apply(n,arguments)},{"../../es/instance/slice":173,dup:208}],472:[function(e,t,n){e=e("../../es/instance/sort"),t.exports=e},{"../../es/instance/sort":174}],473:[function(e,t,n){e=e("../../es/instance/splice"),t.exports=e},{"../../es/instance/splice":175}],474:[function(e,t,n){e=e("../../es/instance/starts-with"),t.exports=e},{"../../es/instance/starts-with":176}],475:[function(e,t,n){e("../../modules/web.dom-collections.iterator");var r=e("../array/virtual/values"),o=e("../../internals/classof"),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};t.exports=function(e){var t=e.values;return e===i||e instanceof Array&&t===i.values||s.hasOwnProperty(o(e))?r:t}},{"../../internals/classof":238,"../../modules/web.dom-collections.iterator":450,"../array/virtual/values":457}],476:[function(e,t,n){e=e("../../es/json/stringify"),t.exports=e},{"../../es/json/stringify":177}],477:[function(e,t,n){e=e("../../es/map"),t.exports=e},{"../../es/map":178}],478:[function(e,t,n){e=e("../../es/number/is-integer"),t.exports=e},{"../../es/number/is-integer":179}],479:[function(e,t,n){e=e("../../es/object/assign"),t.exports=e},{"../../es/object/assign":180}],480:[function(e,t,n){arguments[4][210][0].apply(n,arguments)},{"../../es/object/create":181,dup:210}],481:[function(e,t,n){e=e("../../es/object/define-properties"),t.exports=e},{"../../es/object/define-properties":182}],482:[function(e,t,n){arguments[4][211][0].apply(n,arguments)},{"../../es/object/define-property":183,dup:211}],483:[function(e,t,n){e=e("../../es/object/entries"),t.exports=e},{"../../es/object/entries":184}],484:[function(e,t,n){e=e("../../es/object/freeze"),t.exports=e},{"../../es/object/freeze":185}],485:[function(e,t,n){arguments[4][212][0].apply(n,arguments)},{"../../es/object/get-own-property-descriptor":186,dup:212}],486:[function(e,t,n){e=e("../../es/object/get-own-property-descriptors"),t.exports=e},{"../../es/object/get-own-property-descriptors":187}],487:[function(e,t,n){e=e("../../es/object/get-own-property-symbols"),t.exports=e},{"../../es/object/get-own-property-symbols":188}],488:[function(e,t,n){arguments[4][213][0].apply(n,arguments)},{"../../es/object/get-prototype-of":189,dup:213}],489:[function(e,t,n){e=e("../../es/object/keys"),t.exports=e},{"../../es/object/keys":190}],490:[function(e,t,n){e=e("../es/parse-int"),t.exports=e},{"../es/parse-int":192}],491:[function(e,t,n){e=e("../../es/promise"),t.exports=e},{"../../es/promise":193}],492:[function(e,t,n){arguments[4][216][0].apply(n,arguments)},{"../../es/reflect/construct":194,dup:216}],493:[function(e,t,n){e("../modules/web.timers"),e=e("../internals/path"),t.exports=e.setInterval},{"../internals/path":322,"../modules/web.timers":451}],494:[function(e,t,n){e("../modules/web.timers"),e=e("../internals/path"),t.exports=e.setTimeout},{"../internals/path":322,"../modules/web.timers":451}],495:[function(e,t,n){e=e("../../es/set"),t.exports=e},{"../../es/set":196}],496:[function(e,t,n){e=e("../../es/symbol"),t.exports=e},{"../../es/symbol":199}],497:[function(e,t,n){e=e("../../es/weak-map"),t.exports=e},{"../../es/weak-map":201}],498:[function(e,t,n){t.exports=e("regenerator-runtime")},{"regenerator-runtime":511}],499:[function(e,t,n){},{}],500:[function(e,t,n){var r=function(r){return function(){var e=r,t=e.lib.BlockCipher,n=e.algo,u=[],c=[],d=[],p=[],h=[],f=[],m=[],b=[],g=[],v=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=0,r=0,t=0;t<256;t++){var o=r^r<<1^r<<2^r<<3^r<<4;u[n]=o=o>>>8^255&o^99;var i=e[c[o]=n],s=e[i],a=e[s],l=257*e[o]^16843008*o;d[n]=l<<24|l>>>8,p[n]=l<<16|l>>>16,h[n]=l<<8|l>>>24,f[n]=l,m[o]=(l=16843009*a^65537*s^257*i^16843008*n)<<24|l>>>8,b[o]=l<<16|l>>>16,g[o]=l<<8|l>>>24,v[o]=l,n?(n=i^e[e[e[a^i]]],r^=e[e[r]]):n=r=1}}();var y=[0,1,2,4,8,16,32,64,128,27,54],n=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*(1+(this._nRounds=6+n)),o=this._keySchedule=[],i=0;i<r;i++)i<n?o[i]=t[i]:(l=o[i-1],i%n?6<n&&i%n==4&&(l=u[l>>>24]<<24|u[l>>>16&255]<<16|u[l>>>8&255]<<8|u[255&l]):(l=u[(l=l<<8|l>>>24)>>>24]<<24|u[l>>>16&255]<<16|u[l>>>8&255]<<8|u[255&l],l^=y[i/n|0]<<24),o[i]=o[i-n]^l);for(var s=this._invKeySchedule=[],a=0;a<r;a++){var i=r-a,l=a%4?o[i]:o[i-4];s[a]=a<4||i<=4?l:m[u[l>>>24]]^b[u[l>>>16&255]]^g[u[l>>>8&255]]^v[u[255&l]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,d,p,h,f,u)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,m,b,g,v,c),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,o,i,s,a){for(var l=this._nRounds,u=e[t]^n[0],c=e[t+1]^n[1],d=e[t+2]^n[2],p=e[t+3]^n[3],h=4,f=1;f<l;f++)var m=r[u>>>24]^o[c>>>16&255]^i[d>>>8&255]^s[255&p]^n[h++],b=r[c>>>24]^o[d>>>16&255]^i[p>>>8&255]^s[255&u]^n[h++],g=r[d>>>24]^o[p>>>16&255]^i[u>>>8&255]^s[255&c]^n[h++],v=r[p>>>24]^o[u>>>16&255]^i[c>>>8&255]^s[255&d]^n[h++],u=m,c=b,d=g,p=v;m=(a[u>>>24]<<24|a[c>>>16&255]<<16|a[d>>>8&255]<<8|a[255&p])^n[h++],b=(a[c>>>24]<<24|a[d>>>16&255]<<16|a[p>>>8&255]<<8|a[255&u])^n[h++],g=(a[d>>>24]<<24|a[p>>>16&255]<<16|a[u>>>8&255]<<8|a[255&c])^n[h++],v=(a[p>>>24]<<24|a[u>>>16&255]<<16|a[c>>>8&255]<<8|a[255&d])^n[h++],e[t]=m,e[t+1]=b,e[t+2]=g,e[t+3]=v},keySize:8});e.AES=t._createHelper(n)}(),r.AES};"object"==typeof n?t.exports=n=r(e("./core"),e("./enc-base64"),e("./md5"),e("./evpkdf"),e("./cipher-core")):r(this.CryptoJS)},{"./cipher-core":501,"./core":502,"./enc-base64":503,"./evpkdf":505,"./md5":507}],501:[function(e,t,n){var r=function(m){m.lib.Cipher||function(){var e=(h=m).lib,t=e.Base,s=e.WordArray,n=e.BufferedBlockAlgorithm,r=((u=h.enc).Utf8,u.Base64),o=h.algo.EvpKDF,i=e.Cipher=n.extend({cfg:t.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){n.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(r){return{encrypt:function(e,t,n){return a(t).encrypt(r,e,t,n)},decrypt:function(e,t,n){return a(t).decrypt(r,e,t,n)}}}});function a(e){return"string"==typeof e?f:p}e.StreamCipher=i.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=h.mode={},u=e.BlockCipherMode=t.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),u=l.CBC=((l=u.extend()).Encryptor=l.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;c.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),l.Decryptor=l.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,o=e.slice(t,t+r);n.decryptBlock(e,t),c.call(this,e,t,r),this._prevBlock=o}}),l);function c(e,t,n){var r,o=this._iv;o?(r=o,this._iv=void 0):r=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=r[i]}var l=(h.pad={}).Pkcs7={pad:function(e,t){for(var n=(t=4*t)-e.sigBytes%t,r=n<<24|n<<16|n<<8|n,o=[],i=0;i<n;i+=4)o.push(r);t=s.create(o,n),e.concat(t)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},d=(e.BlockCipher=i.extend({cfg:i.cfg.extend({mode:u,padding:l}),reset:function(){var e;i.reset.call(this);var t=(n=this.cfg).iv,n=n.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,t&&t.words):(this._mode=e.call(n,this,t&&t.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),e.CipherParams=t.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),l=(h.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return(t=(e=e.salt)?s.create([1398893684,1701076831]).concat(e).concat(t):t).toString(r)},parse:function(e){var t,n=r.parse(e);return 1398893684==(e=n.words)[0]&&1701076831==e[1]&&(t=s.create(e.slice(2,4)),e.splice(0,4),n.sigBytes-=16),d.create({ciphertext:n,salt:t})}},p=e.SerializableCipher=t.extend({cfg:t.extend({format:l}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var t=(o=e.createEncryptor(n,r)).finalize(t),o=o.cfg;return d.create({ciphertext:t,key:n,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),h=(h.kdf={}).OpenSSL={execute:function(e,t,n,r){return r=r||s.random(8),e=o.create({keySize:t+n}).compute(e,r),n=s.create(e.words.slice(t),4*n),e.sigBytes=4*t,d.create({key:e,iv:n,salt:r})}},f=e.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:h}),encrypt:function(e,t,n,r){return n=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize),r.iv=n.iv,(r=p.encrypt.call(this,e,t,n.key,r)).mixIn(n),r},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n=r.kdf.execute(n,e.keySize,e.ivSize,t.salt),r.iv=n.iv,p.decrypt.call(this,e,t,n.key,r)}})}()};"object"==typeof n?t.exports=n=r(e("./core"),e("./evpkdf")):r(this.CryptoJS)},{"./core":502,"./evpkdf":505}],502:[function(m,t,n){!function(f){!function(){var e=function(){return function(u){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),!(r=!(r=!(r="undefined"!=typeof globalThis&&globalThis.crypto?globalThis.crypto:r)&&"undefined"!=typeof window&&window.msCrypto?window.msCrypto:r)&&void 0!==f&&f.crypto?f.crypto:r)&&"function"==typeof m)try{r=m("crypto")}catch(e){}var n=Object.create||function(e){return t.prototype=e,e=new t,t.prototype=null,e};function t(){}var e={},o=e.lib={},i=o.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=o.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var s=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=s<<24-(r+i)%4*8}else for(var a=0;a<o;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=o,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=u.ceil(t/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}());return new c.init(t,e)}}),s=e.enc={},a=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new c.init(n,t/2)}},l=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new c.init(n,t)}},d=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},p=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t,n=this._data,r=n.words,o=n.sigBytes,i=this.blockSize,s=o/(4*i),a=(s=e?u.ceil(s):u.max((0|s)-this._minBufferSize,0))*i,o=u.min(4*a,o);if(a){for(var l=0;l<a;l+=i)this._doProcessBlock(r,l);t=r.splice(0,a),n.sigBytes-=o}return new c.init(t,o)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(o.Hasher=p.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(e,t){return new n.init(t).finalize(e)}},_createHmacHelper:function(n){return function(e,t){return new h.HMAC.init(n,t).finalize(e)}}}),e.algo={});return e}(Math)};"object"==typeof n?t.exports=n=e():this.CryptoJS=e()}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{crypto:void 0}],503:[function(e,t,n){var r=function(e){var l=e.lib.WordArray;return e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var o=[],i=0;i<n;i+=3)for(var s=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<n;a++)o.push(r.charAt(s>>>6*(3-a)&63));var l=r.charAt(64);if(l)for(;o.length%4;)o.push(l);return o.join("")},parse:function(e){var t=e.length,n=this._map;if(!(r=this._reverseMap))for(var r=this._reverseMap=[],o=0;o<n.length;o++)r[n.charCodeAt(o)]=o;var i=n.charAt(64);return!i||-1!==(i=e.indexOf(i))&&(t=i),function(e,t,n){for(var r,o,i=[],s=0,a=0;a<t;a++)a%4&&(r=n[e.charCodeAt(a-1)]<<a%4*2,o=n[e.charCodeAt(a)]>>>6-a%4*2,o|=r,i[s>>>2]|=o<<24-s%4*8,s++);return l.create(i,s)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64};"object"==typeof n?t.exports=n=r(e("./core")):r(this.CryptoJS)},{"./core":502}],504:[function(e,t,n){var r=function(e){return e.enc.Utf8};"object"==typeof n?t.exports=n=r(e("./core")):r(this.CryptoJS)},{"./core":502}],505:[function(e,t,n){var r=function(e){var t,r,n=(t=e).lib,o=n.Base,c=n.WordArray,i=t.algo;return n=i.MD5,r=i.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:n,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,o=r.hasher.create(),i=c.create(),s=i.words,a=r.keySize,l=r.iterations;s.length<a;){n&&o.update(n),n=o.update(e).finalize(t),o.reset();for(var u=1;u<l;u++)n=o.finalize(n),o.reset();i.concat(n)}return i.sigBytes=4*a,i}}),t.EvpKDF=function(e,t,n){return r.create(n).compute(e,t)},e.EvpKDF};"object"==typeof n?t.exports=n=r(e("./core"),e("./sha1"),e("./hmac")):r(this.CryptoJS)},{"./core":502,"./hmac":506,"./sha1":508}],506:[function(e,t,n){var r=function(e){var t=e.lib.Base,a=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=a.parse(t));var n=e.blockSize,r=4*n;(t=t.sigBytes>r?e.finalize(t):t).clamp();for(var e=this._oKey=t.clone(),t=this._iKey=t.clone(),o=e.words,i=t.words,s=0;s<n;s++)o[s]^=1549556828,i[s]^=909522486;e.sigBytes=t.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,e=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(e))}})};"object"==typeof n?t.exports=n=r(e("./core")):r(this.CryptoJS)},{"./core":502}],507:[function(e,t,n){var r=function(e){return l=Math,n=(o=(t=e).lib).WordArray,r=o.Hasher,o=t.algo,A=[],function(){for(var e=0;e<64;e++)A[e]=4294967296*l.abs(l.sin(e+1))|0}(),o=o.MD5=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,o=e[r];e[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,s=e[t+0],a=e[t+1],l=e[t+2],u=e[t+3],c=e[t+4],d=e[t+5],p=e[t+6],h=e[t+7],f=e[t+8],m=e[t+9],b=e[t+10],g=e[t+11],v=e[t+12],y=e[t+13],w=e[t+14],x=e[t+15],j=R(i[0],_=i[1],E=i[2],C=i[3],s,7,A[0]),C=R(C,j,_,E,a,12,A[1]),E=R(E,C,j,_,l,17,A[2]),_=R(_,E,C,j,u,22,A[3]),j=R(j,_,E,C,c,7,A[4]),C=R(C,j,_,E,d,12,A[5]),E=R(E,C,j,_,p,17,A[6]),_=R(_,E,C,j,h,22,A[7]);j=R(j,_,E,C,f,7,A[8]),C=R(C,j,_,E,m,12,A[9]),E=R(E,C,j,_,b,17,A[10]),_=R(_,E,C,j,g,22,A[11]),j=R(j,_,E,C,v,7,A[12]),C=R(C,j,_,E,y,12,A[13]),E=R(E,C,j,_,w,17,A[14]),j=k(j,_=R(_,E,C,j,x,22,A[15]),E,C,a,5,A[16]),C=k(C,j,_,E,p,9,A[17]),E=k(E,C,j,_,g,14,A[18]),_=k(_,E,C,j,s,20,A[19]),j=k(j,_,E,C,d,5,A[20]),C=k(C,j,_,E,b,9,A[21]),E=k(E,C,j,_,x,14,A[22]),_=k(_,E,C,j,c,20,A[23]),j=k(j,_,E,C,m,5,A[24]),C=k(C,j,_,E,w,9,A[25]),E=k(E,C,j,_,u,14,A[26]),_=k(_,E,C,j,f,20,A[27]),j=k(j,_,E,C,y,5,A[28]),C=k(C,j,_,E,l,9,A[29]),E=k(E,C,j,_,h,14,A[30]),j=S(j,_=k(_,E,C,j,v,20,A[31]),E,C,d,4,A[32]),C=S(C,j,_,E,f,11,A[33]),E=S(E,C,j,_,g,16,A[34]),_=S(_,E,C,j,w,23,A[35]),j=S(j,_,E,C,a,4,A[36]),C=S(C,j,_,E,c,11,A[37]),E=S(E,C,j,_,h,16,A[38]),_=S(_,E,C,j,b,23,A[39]),j=S(j,_,E,C,y,4,A[40]),C=S(C,j,_,E,s,11,A[41]),E=S(E,C,j,_,u,16,A[42]),_=S(_,E,C,j,p,23,A[43]),j=S(j,_,E,C,m,4,A[44]),C=S(C,j,_,E,v,11,A[45]),E=S(E,C,j,_,x,16,A[46]),j=T(j,_=S(_,E,C,j,l,23,A[47]),E,C,s,6,A[48]),C=T(C,j,_,E,h,10,A[49]),E=T(E,C,j,_,w,15,A[50]),_=T(_,E,C,j,d,21,A[51]),j=T(j,_,E,C,v,6,A[52]),C=T(C,j,_,E,u,10,A[53]),E=T(E,C,j,_,b,15,A[54]),_=T(_,E,C,j,a,21,A[55]),j=T(j,_,E,C,f,6,A[56]),C=T(C,j,_,E,x,10,A[57]),E=T(E,C,j,_,p,15,A[58]),_=T(_,E,C,j,y,21,A[59]),j=T(j,_,E,C,c,6,A[60]),C=T(C,j,_,E,g,10,A[61]),E=T(E,C,j,_,l,15,A[62]),_=T(_,E,C,j,m,21,A[63]),i[0]=i[0]+j|0,i[1]=i[1]+_|0,i[2]=i[2]+E|0,i[3]=i[3]+C|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32;var o=l.floor(n/4294967296),n=n;t[15+(64+r>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t[14+(64+r>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=(t=this._hash).words,s=0;s<4;s++){var a=i[s];i[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return t},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),t.MD5=r._createHelper(o),t.HmacMD5=r._createHmacHelper(o),e.MD5;function R(e,t,n,r,o,i,s){return((s=e+(t&n|~t&r)+o+s)<<i|s>>>32-i)+t}function k(e,t,n,r,o,i,s){return((s=e+(t&r|n&~r)+o+s)<<i|s>>>32-i)+t}function S(e,t,n,r,o,i,s){return((s=e+(t^n^r)+o+s)<<i|s>>>32-i)+t}function T(e,t,n,r,o,i,s){return((s=e+(n^(t|~r))+o+s)<<i|s>>>32-i)+t}var l,t,n,r,o,A};"object"==typeof n?t.exports=n=r(e("./core")):r(this.CryptoJS)},{"./core":502}],508:[function(e,t,n){var r=function(e){var t,c,n=(t=e).lib,r=n.WordArray,o=n.Hasher;return n=t.algo,c=[],n=n.SHA1=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],l=0;l<80;l++){l<16?c[l]=0|e[t+l]:(u=c[l-3]^c[l-8]^c[l-14]^c[l-16],c[l]=u<<1|u>>>31);var u=(r<<5|r>>>27)+a+c[l];u+=l<20?1518500249+(o&i|~o&s):l<40?1859775393+(o^i^s):l<60?(o&i|o&s|i&s)-1894007588:(o^i^s)-899497514,a=s,s=i,i=o<<30|o>>>2,o=r,r=u}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(64+r>>>9<<4)]=Math.floor(n/4294967296),t[15+(64+r>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA1=o._createHelper(n),t.HmacSHA1=o._createHmacHelper(n),e.SHA1};"object"==typeof n?t.exports=n=r(e("./core")):r(this.CryptoJS)},{"./core":502}],509:[function(e,t,n){var a=Object.create||function(e){function t(){}return t.prototype=e,new t},s=Object.keys||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return t},r=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function o(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=a(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}((t.exports=o).EventEmitter=o).prototype._events=void 0,o.prototype._maxListeners=void 0;var i,l=10;try{var u={};Object.defineProperty&&Object.defineProperty(u,"x",{value:0}),i=0===u.x}catch(e){i=!1}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var o,i;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');return(o=e._events)?(o.newListener&&(e.emit("newListener",t,n.listener||n),o=e._events),i=o[t]):(o=e._events=a(null),e._eventsCount=0),i?("function"==typeof i?i=o[t]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),i.warned||(r=c(e))&&0<r&&i.length>r&&(i.warned=!0,(r=new Error("Possible EventEmitter memory leak detected. "+i.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.')).name="MaxListenersExceededWarning",r.emitter=e,r.type=t,r.count=i.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",r.name,r.message))):(i=o[t]=n,++e._eventsCount),e}function p(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function h(e,t,n){return(t=r.call(p,e={fired:!1,wrapFn:void 0,target:e,type:t,listener:n})).listener=n,e.wrapFn=t}function f(e,t,n){return(e=e._events)&&(t=e[t])?"function"==typeof t?n?[t.listener||t]:[t]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):b(t,t.length):[]}function m(e){var t=this._events;if(t){if("function"==typeof(e=t[e]))return 1;if(e)return e.length}return 0}function b(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}i?Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');l=e}}):o.defaultMaxListeners=l,o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){var t,n,r,o,i="error"===e,s=this._events;if(s)i=i&&null==s.error;else if(!i)return!1;if(i){if((t=1<arguments.length?arguments[1]:t)instanceof Error)throw t;throw(i=new Error('Unhandled "error" event. ('+t+")")).context=t,i}if(!(n=s[e]))return!1;var a,l="function"==typeof n;switch(a=arguments.length){case 1:!function(e,t){if(l)e.call(t);else for(var n=e.length,r=b(e,n),o=0;o<n;++o)r[o].call(t)}(n,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var o=e.length,i=b(e,o),s=0;s<o;++s)i[s].call(n,r)}(n,l,this,arguments[1]);break;case 3:!function(e,t,n,r,o){if(t)e.call(n,r,o);else for(var i=e.length,s=b(e,i),a=0;a<i;++a)s[a].call(n,r,o)}(n,l,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,r,o,i){if(t)e.call(n,r,o,i);else for(var s=e.length,a=b(e,s),l=0;l<s;++l)a[l].call(n,r,o,i)}(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(r=new Array(a-1),o=1;o<a;o++)r[o-1]=arguments[o];!function(e,t,n){if(l)e.apply(t,n);else for(var r=e.length,o=b(e,r),i=0;i<r;++i)o[i].apply(t,n)}(n,this,r)}return!0},o.prototype.on=o.prototype.addListener=function(e,t){return d(this,e,t,!1)},o.prototype.prependListener=function(e,t){return d(this,e,t,!0)},o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,h(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,h(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,o,i,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=a(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;0<=i;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e){for(var t=o,n=t+1,r=e.length;n<r;t+=1,n+=1)e[t]=e[n];e.pop()}(n),1===n.length&&(r[e]=n[0]),r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.removeAllListeners=function(e){var t,n=this._events;if(!n)return this;if(!n.removeListener)return 0===arguments.length?(this._events=a(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=a(null):delete n[e]),this;if(0===arguments.length){for(var r,o=s(n),i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=a(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(i=t.length-1;0<=i;i--)this.removeListener(e,t[i]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},o.prototype.listenerCount=m,o.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],510:[function(e,t,n){"use strict";function i(n){return new Promise(function(e,t){n.oncomplete=n.onsuccess=function(){return e(n.result)},n.onabort=n.onerror=function(){return t(n.error)}})}function r(e,r){var t=indexedDB.open(e);t.onupgradeneeded=function(){return t.result.createObjectStore(r)};var o=i(t);return function(t,n){return o.then(function(e){return n(e.transaction(r,t).objectStore(r))})}}var o;function s(){return o=o||r("keyval-store","keyval")}function a(e,t){return e("readonly",function(e){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},i(e.transaction)})}Object.defineProperty(n,"__esModule",{value:!0}),n.clear=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:s())("readwrite",function(e){return e.clear(),i(e.transaction)})},n.createStore=r,n.del=function(t){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:s())("readwrite",function(e){return e.delete(t),i(e.transaction)})},n.entries=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s(),t=[];return a(e,function(e){return t.push([e.key,e.value])}).then(function(){return t})},n.get=function(t){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:s())("readonly",function(e){return i(e.get(t))})},n.getMany=function(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:s())("readonly",function(t){return Promise.all(e.map(function(e){return i(t.get(e))}))})},n.keys=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s(),t=[];return a(e,function(e){return t.push(e.key)}).then(function(){return t})},n.promisifyRequest=i,n.set=function(t,n){return(2<arguments.length&&void 0!==arguments[2]?arguments[2]:s())("readwrite",function(e){return e.put(n,t),i(e.transaction)})},n.setMany=function(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:s())("readwrite",function(t){return e.forEach(function(e){return t.put(e[1],e[0])}),i(t.transaction)})},n.update=function(r,o){return(2<arguments.length&&void 0!==arguments[2]?arguments[2]:s())("readwrite",function(n){return new Promise(function(e,t){n.get(r).onsuccess=function(){try{n.put(o(this.result),r),e(i(n.transaction))}catch(e){t(e)}}})})},n.values=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s(),t=[];return a(e,function(e){return t.push(e.value)}).then(function(){return t})}},{}],511:[function(e,t,n){t=function(s){"use strict";var l,e=Object.prototype,u=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function a(e,t,n,r){var o,i,s,a,t=t&&t.prototype instanceof b?t:b,t=Object.create(t.prototype),r=new E(r||[]);return t._invoke=(o=e,i=n,s=r,a=d,function(e,t){if(a===h)throw new Error("Generator is already running");if(a===f){if("throw"===e)throw t;return R()}for(s.method=e,s.arg=t;;){var n=s.delegate;if(n){var r=function e(t,n){var r=t.iterator[n.method];if(r!==l)return"throw"===(r=c(r,t.iterator,n.arg)).type?(n.method="throw",n.arg=r.arg,n.delegate=null,m):(r=r.arg)?r.done?(n[t.resultName]=r.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=l),n.delegate=null,m):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m);if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=l,e(t,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}(n,s);if(r){if(r===m)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(a===d)throw a=f,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(a=h,"normal"===(r=c(o,i,s)).type){if(a=s.done?f:p,r.arg!==m)return{value:r.arg,done:s.done}}else"throw"===r.type&&(a=f,s.method="throw",s.arg=r.arg)}}),t}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}s.wrap=a;var d="suspendedStart",p="suspendedYield",h="executing",f="completed",m={};function b(){}function i(){}function g(){}var v={};v[r]=function(){return this},(t=(t=Object.getPrototypeOf)&&t(t(_([]))))&&t!==e&&u.call(t,r)&&(v=t);var y=g.prototype=b.prototype=Object.create(v);function w(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function x(s,a){var t;this._invoke=function(n,r){function e(){return new a(function(e,t){!function t(e,n,r,o){if("throw"!==(e=c(s[e],s,n)).type){var i=e.arg;return(n=i.value)&&"object"==typeof n&&u.call(n,"__await")?a.resolve(n.__await).then(function(e){t("next",e,r,o)},function(e){t("throw",e,r,o)}):a.resolve(n).then(function(e){i.value=e,r(i)},function(e){return t("throw",e,r,o)})}o(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function _(t){if(t){if(e=t[r])return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e,n=-1;return(e=function e(){for(;++n<t.length;)if(u.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=l,e.done=!0,e}).next=e}}return{next:R}}function R(){return{value:l,done:!0}}return(i.prototype=y.constructor=g).constructor=i,g[o]=i.displayName="GeneratorFunction",s.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===i||"GeneratorFunction"===(e.displayName||e.name))},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(y),e},s.awrap=function(e){return{__await:e}},w(x.prototype),x.prototype[n]=function(){return this},s.AsyncIterator=x,s.async=function(e,t,n,r,o){void 0===o&&(o=Promise);var i=new x(a(e,t,n,r),o);return s.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(y),y[o]="Generator",y[r]=function(){return this},y.toString=function(){return"[object Generator]"},s.keys=function(n){var e,r=[];for(e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},s.values=_,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=l)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return i.type="throw",i.arg=n,r.next=e,t&&(r.method="next",r.arg=l),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var s=u.call(o,"catchLoc"),a=u.call(o,"finallyLoc");if(s&&a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&u.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var i=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r,o=n.completion;return"throw"===o.type&&(r=o.arg,C(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=l),m}},s}("object"==typeof t?t.exports:{});try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},{}],512:[function(e,t,n){for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);t.exports=function(e,t){return t=t||0,[r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],"-",r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]],r[e[t++]]].join("")}},{}],513:[function(e,t,n){var r,o,i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);i?(r=new Uint8Array(16),t.exports=function(){return i(r),r}):(o=new Array(16),t.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o})},{}],514:[function(e,t,n){var s=e("./lib/rng"),a=e("./lib/bytesToUuid");t.exports=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[r+i]=o[i];return t||a(o)}},{"./lib/bytesToUuid":512,"./lib/rng":513}]},{},[18])(18)});var our_topics=["æç±","ææ","èå¬","ææç»è¥","å¤«å¦»","å®¶åº­","åºè½¨","å©å§»","å©å¤æ","åå±","ä¸¤æ§","ç·äºº","å©åª³","ç¬¬ä¸è","æ°é²æ","æè¶£","ä¸ä¸"],regex_topics=new RegExp("("+our_topics.join("|")+"){1}");function addStyle(e){const t=document.createElement("style");t.textContent=e,document.head.append(t)}addStyle(`
  .tabulator-cell > a {
    text-decoration: none;
  }
  .tabulator-cell > a:link {
    color: #000;
  }
  .tabulator-cell > a:visited {
    color: #095484;
  }
  .tabulator-cell > a:hover {
    color: #8ebf42;
  }
  .tabulator-cell > a:active {
    color: #800000;
  }
  .tabulator-frozen {
    z-index:1000 !important;
  }
`);var groupCAC=function(e){var t,n=[e["eCPM-CAC"],e["ä¸ªäººè§é¢-90å¤©-CAC"],e["æå¾è§é¢-90å¤©-CAC"],e["è§é¢å¸¦è´§-90å¤©-CAC"]],r=1500,o=0;for(t in n){var i=n[t];"number"!=typeof i||isNaN(i)?o++:r<=i&&(r=i)}e=1500*Math.ceil(r/1500);return 1500==e&&4===o||6e3<=e?"é¢ä¼°ï¿¥4500ä»¥ä¸":"é¢ä¼°ï¿¥"+e+"ä»¥å"};function toPercent2(e){return(Math.round(1e4*e)/100).toFixed(2)+"%"}function toPercent1(e){return(Math.round(1e4*e)/100).toFixed(1)+"%"}document.addEventListener("DOMContentLoaded",function(){var e=new Tabulator("#table",{virtualDom:!0,height:"100%",groupToggleElement:"header",layout:"fitDataFill",tooltipsHeader:!0,columns:columns,groupBy:function(e){var t=e["RAW-XingTuSpreadInfo"]?Number(e["RAW-XingTuSpreadInfo"].item_num):void 0,n=Number(e["è§é¢å¸¦è´§æ°é-90å¤©"]),r=[];return t&&n?r.push("ææå¾ä¹æå¸¦è´§è§é¢ã(å¨åå®¹åç®æ äººç¾¤å¹éçåºç¡ä¸ï¼å¯»æ¾é¢æµè·å®¢ææ¬å¯æ§ãéå®è½åå¼ºçè¾¾äººã)"):t?r.push("åªææå¾è§é¢ï¼æ²¡æå¸¦è´§è§é¢ã(ä¸»è¦èæ¥ç®æ äººç¾¤å¨æ­æ¾è§åº¦çè·å®¢ææ¬ã)"):n?r.push("åªæå¸¦è´§è§é¢ã(å¨åå®¹åç®æ äººç¾¤å¹éçåºç¡ä¸ï¼å¯»æ¾é¢æµè·å®¢ææ¬å¯æ§ãéå®è½åå¼ºçè¾¾äººã)"):r.push("åªæä¸ªäººè§é¢ãï¼å¯»æ¾åå®¹åç®æ äººç¾¤å¹éï¼åæ¶æ­æ¾éè¾ä¸ºæä¿éã)"),r.push(groupCAC(e)),r},groupStartOpen:function(e,t,n,r){return 0<=e[1].indexOf("1500")},placeholder:"åç¹å»æå¼æ°æ®æä»¶ï¼å è½½æ°æ®æä»¶ä¸­"});document.getElementById("file-load-trigger").addEventListener("click",function(){e.setDataFromLocalFile()})});var image_formatter=function(r,o,e){e(function(){var e,t=r.getValue(),n="";for(e in o)n+=e+":"+o[e]+";";t='<img src="'+t+'" style="'+n+'" referrerpolicy="no-referrer"></img>';$(r.getElement()).html(t)})},name_link_formatter=function(t,e,n){n(function(){var e=t.getValue(),e='<a href="'+t.getData().url+'" target="_blank">'+e+"</a>";$(t.getElement()).html(e)})},xt_play_mid_formatter=function(t,e,n){n(function(){var e=(e=t.getValue())&&(Number(e)/1e4).toFixed(2)+"w";$(t.getElement()).text(e)})},_fmt_topic_ratio=function(e){var t=e&&toPercent1(e);return.5<=e?t='<span style="border-radius:6px;background-color:#d9534f;color:white;padding:1px 3px 1px 3px;font-size:12px">'+t+"</span>":.25<=e?t='<span style="border-radius:6px;background-color:#f0ad4e;color:white;padding:1px 3px 1px 3px;font-size:12px">'+t+"</span>":0<e&&(t='<span style="border-radius:6px;background-color:yellow;color:black;padding:1px 3px 1px 3px;font-size:12px">'+t+"</span>"),t},topic_formatter=function(t,e,n){n(function(){var e=t.getValue(),e=_fmt_topic_ratio(e);$(t.getElement()).html(e)})},xt_cac_formatter=function(t,e,n){n(function(){var e=t.getValue();void 0!==e&&(e="ï¿¥"+e),$(t.getElement()).text(e)})},xt_cpe60_formatter=function(t,e,n){n(function(){var e=t.getValue();$(t.getElement()).text(e.expect_cpe.cpe_21_60)})},distbarFormatter=function(e,t,n){n(function(){$(e.getElement()).sparkline(e.getValue(),{width:"100%",type:"bar",barWidth:8,disableTooltips:!1})})},distpieFormatter=function(e,t,n){n(function(){$(e.getElement()).sparkline(e.getValue(),{width:"100%",type:"pie",sliceColors:["white","whitesmoke","lightcoral","firebrick","silver","darkgray"],disableTooltips:!1})})},femalePieFormatter=function(e,t,n){n(function(){$(e.getElement()).sparkline(e.getValue(),{width:"100%",type:"pie",disableTooltips:!1})})},pvbarFormatter=function(r,e,t){t(function(){var e,t=r.getValue().latest_item_info,n=[];for(e in t)n.push(Number(t[e].play));$(r.getElement()).sparkline(n,{width:"100%",type:"bar",barWidth:3,disableTooltips:!1})})},pvboxFormatter=function(r,e,t){t(function(){var e,t=r.getValue().latest_item_info,n=[];for(e in t)n.push(Number(t[e].play));$(r.getElement()).sparkline(n,{width:"100%",type:"box"})})},svbarFormatter=function(r,e,t){t(function(){var e,t=r.getValue().latest_star_item_info,n=[];for(e in t)n.push(Number(t[e].play));$(r.getElement()).sparkline(n,{width:"100%",type:"bar",barWidth:3,disableTooltips:!1})})},svboxFormatter=function(r,e,t){t(function(){var e,t=r.getValue().latest_star_item_info,n=[];for(e in t)n.push(Number(t[e].play));$(r.getElement()).sparkline(n,{width:"100%",type:"box"})})},prodv_m_plays_formatter=function(t,e,n){n(function(){var e=t.getValue();e&&(e+="w"),$(t.getElement()).text(e)})},vbarFormatter=function(r,e,t){t(function(){var e,t=r.getValue(),n=[];for(e in t)n.push(Number(t[e].video.basic_info.stats.watch_cnt));$(r.getElement()).sparkline(n,{width:"100%",type:"bar",barWidth:2,disableTooltips:!1})})};function __sort_n__(e,t){return e-t}function mediumOf(e){if(e.sort(__sort_n__),e.length)return e.length%2==0?(e[e.length/2]+e[e.length/2-1])/2:e[parseInt(e.length/2)]}var sale_plays_formatter=function(t,e,n){n(function(){var e=(e=t.getValue())&&"ï¿¥"+e;$(t.getElement()).text(e)})},saleboxFormatter=function(r,e,t){t(function(){var e,t=r.getValue(),n=[];for(e in t)n.push(Math.round(1e4*Number(t[e].sale.pay_amt)/Number(t[e].video.basic_info.stats.watch_cnt)));$(r.getElement()).sparkline(n,{width:"100%",type:"box",raw:!1})})},vboxFormatter=function(r,e,t){t(function(){var e,t=r.getValue(),n=[];for(e in t)n.push(Number(t[e].video.basic_info.stats.watch_cnt));$(r.getElement()).sparkline(n,{width:"100%",type:"box"})})},columns=[{title:"æ°æ®é¢å¤ç",frozen:!0,columns:[{title:"JSON-è§ä¼åå¸",field:"RAW-AuthorWatchedDistribution",visible:!1,mutator:function(e,t,n,r){return e&&JSON.parse(e)}},{title:"JSON-90å¤©ä¸ªäººè§é¢",field:"RAW-AuthorSpreadInfo-90d",visible:!1,mutator:function(e,t,n,r){return e&&JSON.parse(e).data}},{title:"JSON-è§é¢æ­æ¾",field:"RAW-GetAuthorShowItemsV2",visible:!1,mutator:function(e,t,n,r){return e&&JSON.parse(e).data}},{title:"JSON-90å¤©æå¾",field:"RAW-XingTuSpreadInfo",visible:!1,mutator:function(e,t,n,r){return e&&JSON.parse(e).data}},{title:"å¤´åå¾ååç¼©",field:"avatar",visible:!1,mutator:function(e,t,n,r){return e=e&&e.replace("1080x1080","100x100")}},{title:"eCPMï¼60sï¼",visible:!1,field:"RAW-XingTuSpreadInfo-eCPM60",mutator:function(e,t,n,r){t=t["RAW-XingTuSpreadInfo"]?t["RAW-XingTuSpreadInfo"].expect_cpm.cpm_21_60:void 0;return t=t&&Number(t)/100},sorter:"number"},{title:"eCPEï¼60sï¼",visible:!1,field:"RAW-XingTuSpreadInfo-eCPE60",mutator:function(e,t,n,r){t=t["RAW-XingTuSpreadInfo"]?t["RAW-XingTuSpreadInfo"].expect_cpe.cpe_21_60:void 0;return t=t&&Number(t)/100},sorter:"number"},{title:"å¹´é¾",field:"RAW-AuthorWatchedDistribution-AGE",mutator:function(e,t,n,r){var o,i=[];for(o in t=t["RAW-AuthorWatchedDistribution"].data.distributions[0].distribution_list)i.push(Number(t[o].distribution_value));return i},visible:!1},{title:"â",field:"RAW-AuthorWatchedDistribution-GENDER",mutator:function(e,t,n,r){var o,i=0,s=0;for(o in t=t["RAW-AuthorWatchedDistribution"].data.distributions[1].distribution_list)"male"==t[o].distribution_key?i=Number(t[o].distribution_value):"female"==t[o].distribution_key&&(s=Number(t[o].distribution_value));return[i,s]},visible:!1},{title:"1/ç®æ äººç¾¤æ¯ä¾",visible:!1,field:"ç®æ äººç¾¤æ¯ä¾",mutator:function(e,t,n,r){var[o,i]=t["RAW-AuthorWatchedDistribution-GENDER"],t=t["RAW-AuthorWatchedDistribution-AGE"];return(o+i)/i/((t[2]+t[3])/((t[0]||0)+(t[1]||0)+(t[2]||0)+(t[3]||0)+(t[4]||0)+(t[5]||0)))},sorter:"number"},{title:"å¸¦è´§ä¸æ¬¡éå®ä¸­å¼",field:"è§é¢å¸¦è´§ææ-90å¤©-ä¸æ¬¡æ­æ¾éå®",visible:!1,mutator:function(e,t,n,r){var o,i=[];for(o in t=t["è§é¢å¸¦è´§ææ-90å¤©"]){var s=Math.round(1e4*Number(t[o].sale.pay_amt)/Number(t[o].video.basic_info.stats.watch_cnt));i.push(s)}return mediumOf(i)},sorter:"number"},{title:"ç¨eCPMä¼°ç®CAC",field:"eCPM-CAC",visible:!1,mutator:function(e,t,n,r){var o=Number(t["RAW-XingTuSpreadInfo-eCPM60"]);if(!isNaN(o))return o?Math.round(o*t["ç®æ äººç¾¤æ¯ä¾"]*3):void 0},sorter:"number"}]},{title:"è¾¾äºº",frozen:!0,columns:[{title:"å¤´å",field:"avatar",formatter:image_formatter,formatterParams:{height:"50px",width:"50px"},width:62,height:66,headerSort:!1},{title:"å§å",field:"name",headerSort:!1,headerFilter:"input",headerFilterPlaceholder:"æç´¢",headerFilterFunc:"keywords",headerFilterParams:{initial:""},formatter:name_link_formatter,tooltip:!0,width:100},{title:"æ¥ä»·",field:"price_60s",sorter:"number",width:90,headerFilter:"input",headerFilterPlaceholder:"<=",headerFilterFunc:"<=",headerFilterParams:{initial:""},mutator:function(e,t,n,r){return e&&Number(e.replace("ï¿¥","").replace(",",""))},formatter:function(r,e,t){t(function(){var e=r.getValue(),t=r.getData(),n=t["RAW-XingTuSpreadInfo-eCPM60"],t=t["eCPM-CAC"],e="<span>ï¿¥"+e+"</span>";n&&(e+='<br/><span style="font-size:6px;color:gray">é¢ä¼°:</span><span style="font-size:8px;color:gray">'+t+'</span><br/><span style="font-size:6px;color:gray">eCPM:</span><span style="font-size:8px;color:gray">'+Math.round(n)+"</span>"),$(r.getElement()).html(e)})}}]},{title:"è¯¦æ",columns:[{title:"ID",field:"id",headerSort:!1,tooltip:!0,width:40},{title:"ç®ä»",headerSort:!1,field:"intro-item",tooltip:!0,width:100}]},{title:"ç²ä¸",columns:[{title:"æ»é",field:"followers",width:65,sorter:"number"},{title:"æ¶¨ç²ç",field:"followers_growth_rate_30d",width:60,sorter:"number"}]},{title:"è§ä¼",columns:[{title:"å¹´é¾",field:"RAW-AuthorWatchedDistribution-AGE",headerSort:!1,formatter:distbarFormatter},{title:"ð¯",field:"RAW-AuthorWatchedDistribution-AGE",width:26,headerSort:!1,formatter:distpieFormatter},{title:"â",field:"RAW-AuthorWatchedDistribution-GENDER",headerSort:!1,width:26,formatter:femalePieFormatter}]},{title:"ç®æ è¯é¢å¹éåº¦",columns:[{title:"åå®¹æ ç­¾",field:"author_content_style_tags",tooltip:!0,mutator:function(e,t,n,r){return Array.from(new Set(e))},headerSort:!1,headerFilter:"input",headerFilterPlaceholder:"æç´¢",headerFilterFunc:"keywords",headerFilterParams:{initial:""},width:80},{title:"ä¸ªäºº",field:"RAW-GetAuthorShowItemsV2-P",width:64,mutator:function(e,t,n,r){var o,i,s=0;for(i in t=t["RAW-GetAuthorShowItemsV2"].latest_item_info){var a=t[i].title;regex_topics.test(a)&&(void 0===s?s=1:s+=1)}return o=s||0<t.length?s/t.length:o},formatter:topic_formatter,sorter:"number"},{title:"æå¾",field:"RAW-GetAuthorShowItemsV2-S",width:64,mutator:function(e,t,n,r){var o,i,s=0;for(i in t=t["RAW-GetAuthorShowItemsV2"].latest_star_item_info){var a=t[i].title;regex_topics.test(a)&&(void 0===s?s=1:s+=1)}return o=s||0<t.length?s/t.length:o},formatter:topic_formatter,sorter:"number"},{title:"å¸¦è´§",field:"è§é¢å¸¦è´§ææ-90å¤©-T",width:64,mutator:function(e,t,n,r){var o,i,s=0;for(i in t=t["è§é¢å¸¦è´§ææ-90å¤©"]){var a=t[i].video.basic_info.title;regex_topics.test(a)&&(void 0===s?s=1:s+=1)}return o=s||0<t.length?s/t.length:o},formatter:topic_formatter}]},{title:"ä¸ªäººè§é¢",columns:[{title:"90å¤©",field:"spread-personal-video-count-90d",mutator:function(e,t,n,r){return e&&Number(e.replace("ä¸ª",""))},mutatorParams:{},sorter:"number"},{title:"ä¸­ä½",field:"spread-personal-medium-exposures-90d",sorter:"number"},{title:"è·å®¢ææ¬",field:"ä¸ªäººè§é¢-90å¤©-CAC",mutator:function(e,t,n,r){var o,i,s,a=t["RAW-AuthorSpreadInfo-90d"].play_mid;return a&&(a=Number(a)/5e3,i=t.price_60s,s=t.price_20s,i?o=Math.round(i/a):s&&(o=Math.round(s/a)),o=o&&Math.round(o*t["ç®æ äººç¾¤æ¯ä¾"])),o},formatter:xt_cac_formatter,sorter:"number"},{title:"è¿15æ¡ç¨³å®æ§",width:100,field:"RAW-GetAuthorShowItemsV2",formatter:pvbarFormatter,headerSort:!1},{title:"ç¨³å®",width:80,field:"RAW-GetAuthorShowItemsV2",formatter:pvboxFormatter,headerSort:!1}]},{title:"æå¾è§é¢",columns:[{title:"90å¤©",field:"RAW-XingTuSpreadInfo-è§é¢æ°é",mutator:function(e,t,n,r){return t["RAW-XingTuSpreadInfo"]?t["RAW-XingTuSpreadInfo"].item_num:void 0},sorter:"number"},{title:"ä¸­ä½",field:"RAW-XingTuSpreadInfo-ä¸­ä½æ­æ¾",mutator:function(e,t,n,r){return t["RAW-XingTuSpreadInfo"]?t["RAW-XingTuSpreadInfo"].play_mid:void 0},formatter:xt_play_mid_formatter,sorter:"number"},{title:"è·å®¢ææ¬",field:"æå¾è§é¢-90å¤©-CAC",mutator:function(e,t,n,r){var o;if(i=t["RAW-XingTuSpreadInfo"]?t["RAW-XingTuSpreadInfo"].play_mid:void 0){var i=Number(i)/5e3,s=t.price_60s,a=t.price_20s;return s?o=Math.round(s/i):a&&(o=Math.round(a/i)),o=o&&Math.round(o*t["ç®æ äººç¾¤æ¯ä¾"])}},formatter:xt_cac_formatter,sorter:"number"},{title:"è¿15æ¡ç¨³å®æ§",width:100,headerSort:!1,field:"RAW-GetAuthorShowItemsV2",formatter:svbarFormatter},{title:"ç¨³å®",width:80,headerSort:!1,field:"RAW-GetAuthorShowItemsV2",formatter:svboxFormatter},{title:"æ%ä¸ª",field:"RAW-XingTuSpreadInfo-Xintu-Personal-Ratio",mutator:function(e,t,n,r){var o=t["RAW-XingTuSpreadInfo"]?Number(t["RAW-XingTuSpreadInfo"].play_mid):Number(void 0),t=t["spread-personal-medium-exposures-90d"];0<t.indexOf("w")&&(t=1e4*Number(t.replace("w","")));var i,t=Number(t);return i=!isNaN(o)&&!isNaN(t)?o/t:i},sorter:"number",formatter:function(n,e,t){t(function(){var e,t=n.getValue();void 0!==t&&(e=toPercent1(t)),.4<=t?e="<span style='color:red'>"+e+"</span>":.2<=t&&(e="<span style='color:orange'>"+e+"</span>"),$(n.getElement()).html(e)})}}]},{title:"å¸¦è´§è§é¢",columns:[{title:"90å¤©",field:"è§é¢å¸¦è´§æ°é-90å¤©"},{title:"ä¸­ä½",field:"è§é¢å¸¦è´§ææ-90å¤©-ä¸­ä½æ­æ¾",width:80,mutator:function(e,t,n,r){var o,i,s=[];for(i in t=t["è§é¢å¸¦è´§ææ-90å¤©"])s.push(Number(t[i].video.basic_info.stats.watch_cnt));return o=s.length?(mediumOf(s)/1e4).toFixed(2):o},formatter:prodv_m_plays_formatter},{title:"è·å®¢ææ¬",field:"è§é¢å¸¦è´§-90å¤©-CAC",mutator:function(e,t,n,r){var o,i,s,a=1e4*t["è§é¢å¸¦è´§ææ-90å¤©-ä¸­ä½æ­æ¾"];return a&&(s=179/(i=(i=t["è§é¢å¸¦è´§ææ-90å¤©-ä¸æ¬¡æ­æ¾éå®"]||100)<30?30:i)*1e4,a=Number(a)/s,i=t.price_60s,s=t.price_20s,i?o=Math.round(i/a):s&&(o=Math.round(s/a)),o=o&&Math.round(o*t["ç®æ äººç¾¤æ¯ä¾"])),o},formatter:xt_cac_formatter,sorter:"number"},{title:"æ­æ¾éç¨³å®æ§",field:"è§é¢å¸¦è´§ææ-90å¤©",headerSort:!1,width:160,formatter:vbarFormatter},{title:"ç¨³å®æ§",field:"è§é¢å¸¦è´§ææ-90å¤©",width:80,headerSort:!1,formatter:vboxFormatter},{title:"æé«éå®é¢",field:"æä½³éå®é¢",sorter:"number"},{title:"æä½³å¸¦è´§",field:"æä½³å¸¦è´§",width:66,headerSort:!1,tooltip:!0}]},{title:"æ¯ä¸æ¬¡æ­æ¾éå®",columns:[{title:"ä¸­å¼",field:"è§é¢å¸¦è´§ææ-90å¤©-ä¸æ¬¡æ­æ¾éå®",width:80,formatter:sale_plays_formatter,sorter:"number"},{title:"åå¸",field:"è§é¢å¸¦è´§ææ-90å¤©",width:100,formatter:saleboxFormatter}]}];